(function(){window.wpfront_notification_bar=function(a,w){function e(h,c,e){c=c||b.noop;e&&(x=!0);if(0==h){if(m)return;m=!0}else{if(!m)return;m=!1}0==h&&a.keep_closed&&e&&(0<a.keep_closed_for?Cookies.set(u,1,{path:"/",expires:a.keep_closed_for}):Cookies.set(u,1,{path:"/"}));0!==h&&a.set_max_views&&(l=Cookies.get(q),l="undefined"===typeof l?0:parseInt(l),0<a.max_views_for?Cookies.set(q,l+1,{path:"/",expires:a.max_views_for}):Cookies.set(q,l+1,{path:"/"}),f("Setting view count to "+(l+1)+"."));var k=
c;c=function(){k();0<h&&(0==a.height&&g.height("auto"),a.display_open_button&&(f("Setting reopen button state to hidden."),r.addClass("hidden")),m=!1);0==h&&a.display_open_button&&(f("Setting reopen button state to visible."),r.removeClass("hidden"))};0<h?f("Setting notification bar state to visible."):f("Setting notification bar state to hidden.");0<a.animate_delay?g.stop().animate({height:h+"px"},{duration:1E3*a.animate_delay,easing:"swing",complete:function(){a.fixed_position&&d.height(h);p(h);
c()},step:function(b){a.fixed_position&&d.height(b);p(b)}}):(g.height(h),a.fixed_position&&d.height(h),p(h),c())}function p(c){if(!y)return 0;if(!0!==c){clearInterval(v);var d=0;v=setInterval(function(){p(!0);d++;100<d&&clearInterval(v)},10)}if(0==b(a.theme_sticky_selector).length)return 0;1==a.position&&(null===n&&(n=b(a.theme_sticky_selector).position().top),g.is(":visible")?b(a.theme_sticky_selector).css("top",g.height()+g.position().top+"px"):b(a.theme_sticky_selector).css("top",n+"px"));2==a.position&&
(null===n&&(n=b(a.theme_sticky_selector).height()+parseFloat(b(a.theme_sticky_selector).css("bottom"))),g.is(":visible")?b(a.theme_sticky_selector).css("bottom",g.height()+parseFloat(g.css("bottom"))+"px"):b(a.theme_sticky_selector).css("bottom",n+"px"))}var f=function(b){a.log&&console.log(a.log_prefix+b)};if("function"!==typeof jQuery||a.keep_closed&&"function"!==typeof Cookies||a.set_max_views&&"function"!==typeof Cookies)f("Waiting for "+("function"!==typeof jQuery?"jQuery.":"Cookies.")),setTimeout(function(){wpfront_notification_bar(a,
w)},100);else if(2==a.position&&!0!==w)jQuery(function(){wpfront_notification_bar(a,!0)});else{var b=jQuery,u=a.keep_closed_cookie,l=0,q=a.max_views_cookie,d=b("#wpfront-notification-bar-spacer"+a.id_suffix).removeClass("hidden"),g=b("#wpfront-notification-bar"+a.id_suffix),r=b("#wpfront-notification-bar-open-button"+a.id_suffix);if(1==a.position){f("Setting notification bar at top.");var c=0;a.fixed_position&&a.is_admin_bar_showing&&(c=b("html").css("margin-top"),"0px"==c&&(c=b("html").css("padding-top")),
c=parseInt(c));a.fixed_position&&(c+=a.position_offset);g.css("top",c+"px");r.css("top",c+"px");d.css("top",a.position_offset+"px");var k=b("body");c=k.children().first();if(c.hasClass("wpfront-notification-bar-spacer"))for(;;){var z=c.next();if(z.hasClass("wpfront-notification-bar-spacer"))c=z;else{c.after(d);break}}else k.prepend(d);b(function(){k.children().first().hasClass("wpfront-notification-bar-spacer")||a.fixed_position&&!k.children().first().is(d)&&k.prepend(d)})}else f("Setting notification bar at bottom."),
k=b("body"),k.children().last().is(d)||k.append(d),b(function(){k.children().last().is(d)||k.append(d)});var t=g.height();0<a.height&&(t=a.height,g.find("table, tbody, tr").css("height","100%"));g.height(0).css({position:a.fixed_position?"fixed":"relative",visibility:"visible"});r.css({position:a.fixed_position?"fixed":"absolute"});var m=!1,x=!1,n=null,v=0,y=a.fixed_position&&""!=a.theme_sticky_selector;if(y)b(window).on("scroll resize",function(){p()});if(a.close_button)d.on("click",".wpfront-close",
function(){e(0,null,!0)});if(a.button_action_close_bar)d.on("click",".wpfront-button",function(){e(0,null,!0)});if(a.display_open_button)d.on("click","#wpfront-notification-bar-open-button"+a.id_suffix,function(){e(t)});if(a.keep_closed&&Cookies.get(u))f("Keep closed enabled and keep closed cookie exists. Hiding notification bar."),e(0);else{if(a.set_max_views&&(l=Cookies.get(q),"undefined"===typeof l&&(l=0),l>=a.max_views)){f("Reached max views, hiding notification bar.");e(0);return}m=!0;a.display_scroll?
(f("Display on scroll enabled. Hiding notification bar."),e(0),b(window).on("scroll",function(){x||(b(this).scrollTop()>a.display_scroll_offset?e(t):e(0))})):(f("Setting notification bar open event after "+a.display_after+" second(s)."),setTimeout(function(){e(t,function(){0<a.auto_close_after&&(f("Setting notification bar auto close event after "+a.auto_close_after+" second(s)."),setTimeout(function(){e(0,null,!0)},1E3*a.auto_close_after))})},1E3*a.display_after))}}}})();