function uncode_progress_bar(){jQuery.each(jQuery(".vc_progress_bar"),function(index,val){if(UNCODE.isUnmodalOpen&&!val.closest("#unmodal-content"))return;if(!UNCODE.isMobile)new Waypoint({context:UNCODE.isUnmodalOpen?document.getElementById("unmodal-content"):window,element:val,handler:function(){var element=jQuery(this.element);element.find(".vc_single_bar").each(function(index){var $this=jQuery(this),bar=$this.find(".vc_bar"),val=bar.data("percentage-value");setTimeout(function(){bar.css({width:val+"%"})},index*200)})},offset:"80%"});else{var element=jQuery(val);element.find(".vc_single_bar").each(function(index){var $this=jQuery(this),bar=$this.find(".vc_bar"),val=bar.data("percentage-value");setTimeout(function(){bar.css({width:val+"%"})},index*200)})}})}function onYouTubeIframeAPIReady(){YTplayers=new Array,jQuery(".no-touch .uncode-video-container.video").each(function(){var playerY;if(jQuery(this).attr("data-provider")=="youtube"){var id=jQuery(this).attr("data-id");options=jQuery(window).data("okoptions-"+id),options.time=jQuery(this).attr("data-t"),playerY=new YT.Player("okplayer-"+id,{videoId:options.video?options.video.id:null,playerVars:{autohide:1,autoplay:0,disablekb:1,cc_load_policy:options.captions,controls:0,enablejsapi:1,fs:0,modestbranding:1,origin:window.location.origin||window.location.protocol+"//"+window.location.hostname,iv_load_policy:options.annotations,loop:options.loop,showinfo:0,rel:0,wmode:"opaque",hd:options.hd,mute:1},events:{onReady:OKEvents.yt.ready,onStateChange:OKEvents.yt.onStateChange,onError:OKEvents.yt.error}}),YTplayers[id]=playerY,playerY.videoId=id}})}function vimeoPlayerReady(id){options=jQuery(window).data("okoptions-"+id);var jIframe=options.jobject,iframe=jIframe[0];jIframe.attr("src",jIframe.data("src"));var playerV=$f(iframe);playerV.addEvent("ready",function(e){OKEvents.v.onReady(iframe);var carouselContainer=jQuery(iframe).closest(".owl-carousel");carouselContainer.length&&UNCODE.owlPlayVideo(carouselContainer),OKEvents.utils.isMobile()?OKEvents.v.onPlay(playerV):(playerV.addEvent("play",OKEvents.v.onPlay(playerV)),playerV.addEvent("pause",OKEvents.v.onPause),playerV.addEvent("finish",OKEvents.v.onFinish));if(options.time!=null){var optsTimeStr=options.time.replace("t=",""),timeV="";if(/[a-zA-Z]/g.test(optsTimeStr)){var timeArr=optsTimeStr.split(/([^\d.-])/);for(var i=0;i<timeArr.length;i++)timeArr[i]==="h"?timeV+=parseFloat(timeArr[i-1])*3600:timeArr[i]==="m"?timeV+=parseFloat(timeArr[i-1])*60:timeArr[i]==="s"&&(timeV+=parseFloat(timeArr[i-1]))}else timeV=optsTimeStr;playerV.api("seekTo",timeV)}playerV.api("play"),jQuery(iframe).css({visibility:"visible",opacity:1}),jQuery(iframe).closest(".uncode-video-container:not(.t-entry-drop)").css("opacity","1"),jQuery(iframe).closest("#page-header").addClass("video-started"),jQuery(iframe).closest(".background-wrapper").find(".block-bg-blend-mode.not-ie").css("opacity","1")})}(function(global,factory){typeof exports=="object"&&typeof module!="undefined"?factory(exports):typeof define=="function"&&define.amd?define(["exports"],factory):(global=global||self,factory(global.window=global.window||{}))})(this,function(exports){"use strict";function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,subClass.__proto__=superClass}function _assertThisInitialized(self){if(self===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_bigNum=1e8,_tinyNum=1/_bigNum,_2PI=Math.PI*2,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=function _isString(value){return typeof value=="string"},_isFunction=function _isFunction(value){return typeof value=="function"},_isNumber=function _isNumber(value){return typeof value=="number"},_isUndefined=function _isUndefined(value){return typeof value=="undefined"},_isObject=function _isObject(value){return typeof value=="object"},_isNotFalse=function _isNotFalse(value){return value!==!1},_windowExists=function _windowExists(){return typeof window!="undefined"},_isFuncOrString=function _isFuncOrString(value){return _isFunction(value)||_isString(value)},_isTypedArray=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[#\-+.]*\b[a-z\d-=+%.]+/gi,_unitExp=/[\d.+\-=]+(?:e[-+]\d*)*/i,_globalTimeline,_win,_coreInitted,_doc,_globals={},_installScope={},_coreReady,_install=function _install(scope){return(_installScope=_merge(scope,_globals))&&gsap},_missingPlugin=function _missingPlugin(property,value){return console.warn("Invalid property",property,"set to",value,"Missing plugin? gsap.registerPlugin()")},_warn=function _warn(message,suppress){return!suppress&&console.warn(message)},_addGlobal=function _addGlobal(name,obj){return name&&(_globals[name]=obj)&&_installScope&&(_installScope[name]=obj)||_globals},_emptyFunc=function _emptyFunc(){return 0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function _harness(targets){var target=targets[0],harnessPlugin,i;_isObject(target)||_isFunction(target)||(targets=[targets]);if(!(harnessPlugin=(target._gsap||{}).harness)){i=_harnessPlugins.length;while(i--&&!_harnessPlugins[i].targetTest(target));harnessPlugin=_harnessPlugins[i]}i=targets.length;while(i--)targets[i]&&(targets[i]._gsap||(targets[i]._gsap=new GSCache(targets[i],harnessPlugin)))||targets.splice(i,1);return targets},_getCache=function _getCache(target){return target._gsap||_harness(toArray(target))[0]._gsap},_getProperty=function _getProperty(target,property,v){return(v=target[property])&&_isFunction(v)?target[property]():_isUndefined(v)&&target.getAttribute&&target.getAttribute(property)||v},_forEachName=function _forEachName(names,func){return(names=names.split(",")).forEach(func)||names},_round=function _round(value){return Math.round(value*1e5)/1e5||0},_arrayContainsAny=function _arrayContainsAny(toSearch,toFind){var l=toFind.length,i=0;for(;toSearch.indexOf(toFind[i])<0&&++i<l;);return i<l},_parseVars=function _parseVars(params,type,parent){var isLegacy=_isNumber(params[1]),varsIndex=(isLegacy?2:1)+(type<2?0:1),vars=params[varsIndex],irVars;isLegacy&&(vars.duration=params[1]),vars.parent=parent;if(type){irVars=vars;while(parent&&!("immediateRender"in irVars))irVars=parent.vars.defaults||{},parent=_isNotFalse(parent.vars.inherit)&&parent.parent;vars.immediateRender=_isNotFalse(irVars.immediateRender),type<2?vars.runBackwards=1:vars.startAt=params[varsIndex-1]}return vars},_lazyRender=function _lazyRender(){var l=_lazyTweens.length,a=_lazyTweens.slice(0),i,tween;_lazyLookup={},_lazyTweens.length=0;for(i=0;i<l;i++)tween=a[i],tween&&tween._lazy&&(tween.render(tween._lazy[0],tween._lazy[1],!0)._lazy=0)},_lazySafeRender=function _lazySafeRender(animation,time,suppressEvents,force){_lazyTweens.length&&_lazyRender(),animation.render(time,suppressEvents,force),_lazyTweens.length&&_lazyRender()},_numericIfPossible=function _numericIfPossible(value){var n=parseFloat(value);return(n||n===0)&&(value+"").match(_delimitedValueExp).length<2?n:_isString(value)?value.trim():value},_passThrough=function _passThrough(p){return p},_setDefaults=function _setDefaults(obj,defaults){for(var p in defaults)p in obj||(obj[p]=defaults[p]);return obj},_setKeyframeDefaults=function _setKeyframeDefaults(obj,defaults){for(var p in defaults)p in obj||p==="duration"||p==="ease"||(obj[p]=defaults[p])},_merge=function _merge(base,toMerge){for(var p in toMerge)base[p]=toMerge[p];return base},_mergeDeep=function _mergeDeep(base,toMerge){for(var p in toMerge)p!=="__proto__"&&p!=="constructor"&&p!=="prototype"&&(base[p]=_isObject(toMerge[p])?_mergeDeep(base[p]||(base[p]={}),toMerge[p]):toMerge[p]);return base},_copyExcluding=function _copyExcluding(obj,excluding){var copy={},p;for(p in obj)p in excluding||(copy[p]=obj[p]);return copy},_inheritDefaults=function _inheritDefaults(vars){var parent=vars.parent||_globalTimeline,func=vars.keyframes?_setKeyframeDefaults:_setDefaults;if(_isNotFalse(vars.inherit))while(parent)func(vars,parent.vars.defaults),parent=parent.parent||parent._dp;return vars},_arraysMatch=function _arraysMatch(a1,a2){var i=a1.length,match=i===a2.length;while(match&&i--&&a1[i]===a2[i]);return i<0},_addLinkedListItem=function _addLinkedListItem(parent,child,firstProp,lastProp,sortBy){firstProp===void 0&&(firstProp="_first"),lastProp===void 0&&(lastProp="_last");var prev=parent[lastProp],t;if(sortBy){t=child[sortBy];while(prev&&prev[sortBy]>t)prev=prev._prev}return prev?(child._next=prev._next,prev._next=child):(child._next=parent[firstProp],parent[firstProp]=child),child._next?child._next._prev=child:parent[lastProp]=child,child._prev=prev,child.parent=child._dp=parent,child},_removeLinkedListItem=function _removeLinkedListItem(parent,child,firstProp,lastProp){firstProp===void 0&&(firstProp="_first"),lastProp===void 0&&(lastProp="_last");var prev=child._prev,next=child._next;prev?prev._next=next:parent[firstProp]===child&&(parent[firstProp]=next),next?next._prev=prev:parent[lastProp]===child&&(parent[lastProp]=prev),child._next=child._prev=child.parent=null},_removeFromParent=function _removeFromParent(child,onlyIfParentHasAutoRemove){child.parent&&(!onlyIfParentHasAutoRemove||child.parent.autoRemoveChildren)&&child.parent.remove(child),child._act=0},_uncache=function _uncache(animation,child){if(animation&&(!child||child._end>animation._dur||child._start<0)){var a=animation;while(a)a._dirty=1,a=a.parent}return animation},_recacheAncestors=function _recacheAncestors(animation){var parent=animation.parent;while(parent&&parent.parent)parent._dirty=1,parent.totalDuration(),parent=parent.parent;return animation},_hasNoPausedAncestors=function _hasNoPausedAncestors(animation){return!animation||animation._ts&&_hasNoPausedAncestors(animation.parent)},_elapsedCycleDuration=function _elapsedCycleDuration(animation){return animation._repeat?_animationCycle(animation._tTime,animation=animation.duration()+animation._rDelay)*animation:0},_animationCycle=function _animationCycle(tTime,cycleDuration){var whole=Math.floor(tTime/=cycleDuration);return tTime&&whole===tTime?whole-1:whole},_parentToChildTotalTime=function _parentToChildTotalTime(parentTime,child){return(parentTime-child._start)*child._ts+(child._ts>=0?0:child._dirty?child.totalDuration():child._tDur)},_setEnd=function _setEnd(animation){return animation._end=_round(animation._start+(animation._tDur/Math.abs(animation._ts||animation._rts||_tinyNum)||0))},_alignPlayhead=function _alignPlayhead(animation,totalTime){var parent=animation._dp;return parent&&parent.smoothChildTiming&&animation._ts&&(animation._start=_round(parent._time-(animation._ts>0?totalTime/animation._ts:((animation._dirty?animation.totalDuration():animation._tDur)-totalTime)/-animation._ts)),_setEnd(animation),parent._dirty||_uncache(parent,animation)),animation},_postAddChecks=function _postAddChecks(timeline,child){var t;if(child._time||child._initted&&!child._dur)t=_parentToChildTotalTime(timeline.rawTime(),child),(!child._dur||_clamp(0,child.totalDuration(),t)-child._tTime>_tinyNum)&&child.render(t,!0);if(_uncache(timeline,child)._dp&&timeline._initted&&timeline._time>=timeline._dur&&timeline._ts){if(timeline._dur<timeline.duration()){t=timeline;while(t._dp)t.rawTime()>=0&&t.totalTime(t._tTime),t=t._dp}timeline._zTime=-_tinyNum}},_addToTimeline=function _addToTimeline(timeline,child,position,skipChecks){return child.parent&&_removeFromParent(child),child._start=_round(position+child._delay),child._end=_round(child._start+(child.totalDuration()/Math.abs(child.timeScale())||0)),_addLinkedListItem(timeline,child,"_first","_last",timeline._sort?"_start":0),timeline._recent=child,skipChecks||_postAddChecks(timeline,child),timeline},_scrollTrigger=function _scrollTrigger(animation,trigger){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",trigger))&&_globals.ScrollTrigger.create(trigger,animation)},_attemptInitTween=function _attemptInitTween(tween,totalTime,force,suppressEvents){_initTween(tween,totalTime);if(!tween._initted)return 1;if(!force&&tween._pt&&(tween._dur&&tween.vars.lazy!==!1||!tween._dur&&tween.vars.lazy)&&_lastRenderedFrame!==_ticker.frame)return _lazyTweens.push(tween),tween._lazy=[totalTime,suppressEvents],1},_parentPlayheadIsBeforeStart=function _parentPlayheadIsBeforeStart(_ref){var parent=_ref.parent;return parent&&parent._ts&&parent._initted&&!parent._lock&&(parent.rawTime()<0||_parentPlayheadIsBeforeStart(parent))},_renderZeroDurationTween=function _renderZeroDurationTween(tween,totalTime,suppressEvents,force){var prevRatio=tween.ratio,ratio=totalTime<0||!totalTime&&(!tween._start&&_parentPlayheadIsBeforeStart(tween)||(tween._ts<0||tween._dp._ts<0)&&tween.data!=="isFromStart"&&tween.data!=="isStart")?0:1,repeatDelay=tween._rDelay,tTime=0,pt,iteration,prevIteration;repeatDelay&&tween._repeat&&(tTime=_clamp(0,tween._tDur,totalTime),iteration=_animationCycle(tTime,repeatDelay),prevIteration=_animationCycle(tween._tTime,repeatDelay),tween._yoyo&&iteration&1&&(ratio=1-ratio),iteration!==prevIteration&&(prevRatio=1-ratio,tween.vars.repeatRefresh&&tween._initted&&tween.invalidate()));if(ratio!==prevRatio||force||tween._zTime===_tinyNum||!totalTime&&tween._zTime){if(!tween._initted&&_attemptInitTween(tween,totalTime,force,suppressEvents))return;prevIteration=tween._zTime,tween._zTime=totalTime||(suppressEvents?_tinyNum:0),suppressEvents||(suppressEvents=totalTime&&!prevIteration),tween.ratio=ratio,tween._from&&(ratio=1-ratio),tween._time=0,tween._tTime=tTime,pt=tween._pt;while(pt)pt.r(ratio,pt.d),pt=pt._next;tween._startAt&&totalTime<0&&tween._startAt.render(totalTime,!0,!0),tween._onUpdate&&!suppressEvents&&_callback(tween,"onUpdate"),tTime&&tween._repeat&&!suppressEvents&&tween.parent&&_callback(tween,"onRepeat"),(totalTime>=tween._tDur||totalTime<0)&&tween.ratio===ratio&&(ratio&&_removeFromParent(tween,1),suppressEvents||(_callback(tween,ratio?"onComplete":"onReverseComplete",!0),tween._prom&&tween._prom()))}else tween._zTime||(tween._zTime=totalTime)},_findNextPauseTween=function _findNextPauseTween(animation,prevTime,time){var child;if(time>prevTime){child=animation._first;while(child&&child._start<=time){if(!child._dur&&child.data==="isPause"&&child._start>prevTime)return child;child=child._next}}else{child=animation._last;while(child&&child._start>=time){if(!child._dur&&child.data==="isPause"&&child._start<prevTime)return child;child=child._prev}}},_setDuration=function _setDuration(animation,duration,skipUncache,leavePlayhead){var repeat=animation._repeat,dur=_round(duration)||0,totalProgress=animation._tTime/animation._tDur;return totalProgress&&!leavePlayhead&&(animation._time*=dur/animation._dur),animation._dur=dur,animation._tDur=repeat?repeat<0?1e10:_round(dur*(repeat+1)+animation._rDelay*repeat):dur,totalProgress&&!leavePlayhead?_alignPlayhead(animation,animation._tTime=animation._tDur*totalProgress):animation.parent&&_setEnd(animation),skipUncache||_uncache(animation.parent,animation),animation},_onUpdateTotalDuration=function _onUpdateTotalDuration(animation){return animation instanceof Timeline?_uncache(animation):_setDuration(animation,animation._dur)},_zeroPosition={_start:0,endTime:_emptyFunc},_parsePosition=function _parsePosition(animation,position){var labels=animation.labels,recent=animation._recent||_zeroPosition,clippedDuration=animation.duration()>=_bigNum?recent.endTime(!1):animation._dur,i,offset;return _isString(position)&&(isNaN(position)||position in labels)?(i=position.charAt(0),i==="<"||i===">"?(i==="<"?recent._start:recent.endTime(recent._repeat>=0))+(parseFloat(position.substr(1))||0):(i=position.indexOf("="),i<0?(position in labels||(labels[position]=clippedDuration),labels[position]):(offset=+(position.charAt(i-1)+position.substr(i+1)),i>1?_parsePosition(animation,position.substr(0,i-1))+offset:clippedDuration+offset))):position==null?clippedDuration:+position},_conditionalReturn=function _conditionalReturn(value,func){return value||value===0?func(value):func},_clamp=function _clamp(min,max,value){return value<min?min:value>max?max:value},getUnit=function getUnit(value){if(typeof value!="string")return"";var v=_unitExp.exec(value);return v?value.substr(v.index+v[0].length):""},clamp=function clamp(min,max,value){return _conditionalReturn(value,function(v){return _clamp(min,max,v)})},_slice=[].slice,_isArrayLike=function _isArrayLike(value,nonEmpty){return value&&_isObject(value)&&"length"in value&&(!nonEmpty&&!value.length||value.length-1 in value&&_isObject(value[0]))&&!value.nodeType&&value!==_win},_flatten=function _flatten(ar,leaveStrings,accumulator){return accumulator===void 0&&(accumulator=[]),ar.forEach(function(value){var _accumulator;return _isString(value)&&!leaveStrings||_isArrayLike(value,1)?(_accumulator=accumulator).push.apply(_accumulator,toArray(value)):accumulator.push(value)})||accumulator},toArray=function toArray(value,leaveStrings){return _isString(value)&&!leaveStrings&&(_coreInitted||!_wake())?_slice.call(_doc.querySelectorAll(value),0):_isArray(value)?_flatten(value,leaveStrings):_isArrayLike(value)?_slice.call(value,0):value?[value]:[]},shuffle=function shuffle(a){return a.sort(function(){return.5-Math.random()})},distribute=function distribute(v){if(_isFunction(v))return v;var vars=_isObject(v)?v:{each:v},ease=_parseEase(vars.ease),from=vars.from||0,base=parseFloat(vars.base)||0,cache={},isDecimal=from>0&&from<1,ratios=isNaN(from)||isDecimal,axis=vars.axis,ratioX=from,ratioY=from;return _isString(from)?ratioX=ratioY={center:.5,edges:.5,end:1}[from]||0:!isDecimal&&ratios&&(ratioX=from[0],ratioY=from[1]),function(i,target,a){var l=(a||vars).length,distances=cache[l],originX,originY,x,y,d,j,max,min,wrapAt;if(!distances){wrapAt=vars.grid==="auto"?0:(vars.grid||[1,_bigNum])[1];if(!wrapAt){max=-_bigNum;while(max<(max=a[wrapAt++].getBoundingClientRect().left)&&wrapAt<l);wrapAt--}distances=cache[l]=[],originX=ratios?Math.min(wrapAt,l)*ratioX-.5:from%wrapAt,originY=ratios?l*ratioY/wrapAt-.5:from/wrapAt|0,max=0,min=_bigNum;for(j=0;j<l;j++)x=j%wrapAt-originX,y=originY-(j/wrapAt|0),distances[j]=d=axis?Math.abs(axis==="y"?y:x):_sqrt(x*x+y*y),d>max&&(max=d),d<min&&(min=d);from==="random"&&shuffle(distances),distances.max=max-min,distances.min=min,distances.v=l=(parseFloat(vars.amount)||parseFloat(vars.each)*(wrapAt>l?l-1:axis?axis==="y"?l/wrapAt:wrapAt:Math.max(wrapAt,l/wrapAt))||0)*(from==="edges"?-1:1),distances.b=l<0?base-l:base,distances.u=getUnit(vars.amount||vars.each)||0,ease=ease&&l<0?_invertEase(ease):ease}return l=(distances[i]-distances.min)/distances.max||0,_round(distances.b+(ease?ease(l):l)*distances.v)+distances.u}},_roundModifier=function _roundModifier(v){var p=v<1?Math.pow(10,(v+"").length-2):1;return function(raw){var n=Math.round(parseFloat(raw)/v)*v*p;return(n-n%1)/p+(_isNumber(raw)?0:getUnit(raw))}},snap=function snap(snapTo,value){var isArray=_isArray(snapTo),radius,is2D;if(!isArray&&_isObject(snapTo)){radius=isArray=snapTo.radius||_bigNum;if(snapTo.values){snapTo=toArray(snapTo.values);if(is2D=!_isNumber(snapTo[0]))radius*=radius}else snapTo=_roundModifier(snapTo.increment)}return _conditionalReturn(value,isArray?_isFunction(snapTo)?function(raw){return is2D=snapTo(raw),Math.abs(is2D-raw)<=radius?is2D:raw}:function(raw){var x=parseFloat(is2D?raw.x:raw),y=parseFloat(is2D?raw.y:0),min=_bigNum,closest=0,i=snapTo.length,dx,dy;while(i--)is2D?(dx=snapTo[i].x-x,dy=snapTo[i].y-y,dx=dx*dx+dy*dy):dx=Math.abs(snapTo[i]-x),dx<min&&(min=dx,closest=i);return closest=!radius||min<=radius?snapTo[closest]:raw,is2D||closest===raw||_isNumber(raw)?closest:closest+getUnit(raw)}:_roundModifier(snapTo))},random=function random(min,max,roundingIncrement,returnFunction){return _conditionalReturn(_isArray(min)?!max:roundingIncrement===!0?!!(roundingIncrement=0):!returnFunction,function(){return _isArray(min)?min[~~(Math.random()*min.length)]:(roundingIncrement=roundingIncrement||1e-5)&&(returnFunction=roundingIncrement<1?Math.pow(10,(roundingIncrement+"").length-2):1)&&Math.floor(Math.round((min-roundingIncrement/2+Math.random()*(max-min+roundingIncrement*.99))/roundingIncrement)*roundingIncrement*returnFunction)/returnFunction})},pipe=function pipe(){for(var _len=arguments.length,functions=new Array(_len),_key=0;_key<_len;_key++)functions[_key]=arguments[_key];return function(value){return functions.reduce(function(v,f){return f(v)},value)}},unitize=function unitize(func,unit){return function(value){return func(parseFloat(value))+(unit||getUnit(value))}},normalize=function normalize(min,max,value){return mapRange(min,max,0,1,value)},_wrapArray=function _wrapArray(a,wrapper,value){return _conditionalReturn(value,function(index){return a[~~wrapper(index)]})},wrap=function wrap(min,max,value){var range=max-min;return _isArray(min)?_wrapArray(min,wrap(0,min.length),max):_conditionalReturn(value,function(value){return(range+(value-min)%range)%range+min})},wrapYoyo=function wrapYoyo(min,max,value){var range=max-min,total=range*2;return _isArray(min)?_wrapArray(min,wrapYoyo(0,min.length-1),max):_conditionalReturn(value,function(value){return value=(total+(value-min)%total)%total||0,min+(value>range?total-value:value)})},_replaceRandom=function _replaceRandom(value){var prev=0,s="",i,nums,end,isArray;while(~(i=value.indexOf("random(",prev)))end=value.indexOf(")",i),isArray=value.charAt(i+7)==="[",nums=value.substr(i+7,end-i-7).match(isArray?_delimitedValueExp:_strictNumExp),s+=value.substr(prev,i-prev)+random(isArray?nums:+nums[0],isArray?0:+nums[1],+nums[2]||1e-5),prev=end+1;return s+value.substr(prev,value.length-prev)},mapRange=function mapRange(inMin,inMax,outMin,outMax,value){var inRange=inMax-inMin,outRange=outMax-outMin;return _conditionalReturn(value,function(value){return outMin+((value-inMin)/inRange*outRange||0)})},interpolate=function interpolate(start,end,progress,mutate){var func=isNaN(start+end)?0:function(p){return(1-p)*start+p*end};if(!func){var isString=_isString(start),master={},p,i,interpolators,l,il;progress===!0&&(mutate=1)&&(progress=null);if(isString)start={p:start},end={p:end};else if(_isArray(start)&&!_isArray(end)){interpolators=[],l=start.length,il=l-2;for(i=1;i<l;i++)interpolators.push(interpolate(start[i-1],start[i]));l--,func=function func(p){p*=l;var i=Math.min(il,~~p);return interpolators[i](p-i)},progress=end}else mutate||(start=_merge(_isArray(start)?[]:{},start));if(!interpolators){for(p in end)_addPropTween.call(master,start,p,"get",end[p]);func=function func(p){return _renderPropTweens(p,master)||(isString?start.p:start)}}}return _conditionalReturn(progress,func)},_getLabelInDirection=function _getLabelInDirection(timeline,fromTime,backward){var labels=timeline.labels,min=_bigNum,p,distance,label;for(p in labels)distance=labels[p]-fromTime,distance<0==!!backward&&distance&&min>(distance=Math.abs(distance))&&(label=p,min=distance);return label},_callback=function _callback(animation,type,executeLazyFirst){var v=animation.vars,callback=v[type],params,scope;if(!callback)return;return params=v[type+"Params"],scope=v.callbackScope||animation,executeLazyFirst&&_lazyTweens.length&&_lazyRender(),params?callback.apply(scope,params):callback.call(scope)},_interrupt=function _interrupt(animation){return _removeFromParent(animation),animation.scrollTrigger&&animation.scrollTrigger.kill(!1),animation.progress()<1&&_callback(animation,"onInterrupt"),animation},_quickTween,_createPlugin=function _createPlugin(config){config=!config.name&&config["default"]||config;var name=config.name,isFunc=_isFunction(config),Plugin=name&&!isFunc&&config.init?function(){this._props=[]}:config,instanceDefaults={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},statics={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};_wake();if(config!==Plugin){if(_plugins[name])return;_setDefaults(Plugin,_setDefaults(_copyExcluding(config,instanceDefaults),statics)),_merge(Plugin.prototype,_merge(instanceDefaults,_copyExcluding(config,statics))),_plugins[Plugin.prop=name]=Plugin,config.targetTest&&(_harnessPlugins.push(Plugin),_reservedProps[name]=1),name=(name==="css"?"CSS":name.charAt(0).toUpperCase()+name.substr(1))+"Plugin"}_addGlobal(name,Plugin),config.register&&config.register(gsap,Plugin,PropTween)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function _hue(h,m1,m2){return h=h<0?h+1:h>1?h-1:h,(h*6<1?m1+(m2-m1)*h*6:h<.5?m2:h*3<2?m1+(m2-m1)*(2/3-h)*6:m1)*_255+.5|0},splitColor=function splitColor(v,toHSL,forceAlpha){var a=v?_isNumber(v)?[v>>16,v>>8&_255,v&_255]:0:_colorLookup.black,r,g,b,h,s,l,max,min,d,wasHSL;if(!a){v.substr(-1)===","&&(v=v.substr(0,v.length-1));if(_colorLookup[v])a=_colorLookup[v];else if(v.charAt(0)==="#"){v.length<6&&(r=v.charAt(1),g=v.charAt(2),b=v.charAt(3),v="#"+r+r+g+g+b+b+(v.length===5?v.charAt(4)+v.charAt(4):""));if(v.length===9)return a=parseInt(v.substr(1,6),16),[a>>16,a>>8&_255,a&_255,parseInt(v.substr(7),16)/255];v=parseInt(v.substr(1),16),a=[v>>16,v>>8&_255,v&_255]}else if(v.substr(0,3)==="hsl"){a=wasHSL=v.match(_strictNumExp);if(!toHSL)h=+a[0]%360/360,s=+a[1]/100,l=+a[2]/100,g=l<=.5?l*(s+1):l+s-l*s,r=l*2-g,a.length>3&&(a[3]*=1),a[0]=_hue(h+1/3,r,g),a[1]=_hue(h,r,g),a[2]=_hue(h-1/3,r,g);else if(~v.indexOf("="))return a=v.match(_numExp),forceAlpha&&a.length<4&&(a[3]=1),a}else a=v.match(_strictNumExp)||_colorLookup.transparent;a=a.map(Number)}return toHSL&&!wasHSL&&(r=a[0]/_255,g=a[1]/_255,b=a[2]/_255,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2,max===min?h=s=0:(d=max-min,s=l>.5?d/(2-max-min):d/(max+min),h=max===r?(g-b)/d+(g<b?6:0):max===g?(b-r)/d+2:(r-g)/d+4,h*=60),a[0]=~~(h+.5),a[1]=~~(s*100+.5),a[2]=~~(l*100+.5)),forceAlpha&&a.length<4&&(a[3]=1),a},_colorOrderData=function _colorOrderData(v){var values=[],c=[],i=-1;return v.split(_colorExp).forEach(function(v){var a=v.match(_numWithUnitExp)||[];values.push.apply(values,a),c.push(i+=a.length+1)}),values.c=c,values},_formatColors=function _formatColors(s,toHSL,orderMatchData){var result="",colors=(s+result).match(_colorExp),type=toHSL?"hsla(":"rgba(",i=0,c,shell,d,l;if(!colors)return s;colors=colors.map(function(color){return(color=splitColor(color,toHSL,1))&&type+(toHSL?color[0]+","+color[1]+"%,"+color[2]+"%,"+color[3]:color.join(","))+")"});if(orderMatchData){d=_colorOrderData(s),c=orderMatchData.c;if(c.join(result)!==d.c.join(result)){shell=s.replace(_colorExp,"1").split(_numWithUnitExp),l=shell.length-1;for(;i<l;i++)result+=shell[i]+(~c.indexOf(i)?colors.shift()||type+"0,0,0,0)":(d.length?d:colors.length?colors:orderMatchData).shift())}}if(!shell){shell=s.split(_colorExp),l=shell.length-1;for(;i<l;i++)result+=shell[i]+colors[i]}return result+shell[l]},_colorExp=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",p;for(p in _colorLookup)s+="|"+p+"\\b";return new RegExp(s+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function _colorStringFilter(a){var combined=a.join(" "),toHSL;_colorExp.lastIndex=0;if(_colorExp.test(combined))return toHSL=_hslExp.test(combined),a[1]=_formatColors(a[1],toHSL),a[0]=_formatColors(a[0],toHSL,_colorOrderData(a[1])),!0},_tickerActive,_ticker=function(){var _getTime=Date.now,_lagThreshold=500,_adjustedLag=33,_startTime=_getTime(),_lastUpdate=_startTime,_gap=1e3/240,_nextTime=_gap,_listeners=[],_id,_req,_raf,_self,_delta,_i,_tick=function _tick(v){var elapsed=_getTime()-_lastUpdate,manual=v===!0,overlap,dispatch,time,frame;elapsed>_lagThreshold&&(_startTime+=elapsed-_adjustedLag),_lastUpdate+=elapsed,time=_lastUpdate-_startTime,overlap=time-_nextTime;if(overlap>0||manual)frame=++_self.frame,_delta=time-_self.time*1e3,_self.time=time/=1e3,_nextTime+=overlap+(overlap>=_gap?4:_gap-overlap),dispatch=1;manual||(_id=_req(_tick));if(dispatch)for(_i=0;_i<_listeners.length;_i++)_listeners[_i](time,_delta,frame,v)};return _self={time:0,frame:0,tick:function tick(){_tick(!0)},deltaRatio:function deltaRatio(fps){return _delta/(1e3/(fps||60))},wake:function wake(){_coreReady&&(!_coreInitted&&_windowExists()&&(_win=_coreInitted=window,_doc=_win.document||{},_globals.gsap=gsap,(_win.gsapVersions||(_win.gsapVersions=[])).push(gsap.version),_install(_installScope||_win.GreenSockGlobals||!_win.gsap&&_win||{}),_raf=_win.requestAnimationFrame),_id&&_self.sleep(),_req=_raf||function(f){return setTimeout(f,_nextTime-_self.time*1e3+1|0)},_tickerActive=1,_tick(2))},sleep:function sleep(){(_raf?_win.cancelAnimationFrame:clearTimeout)(_id),_tickerActive=0,_req=_emptyFunc},lagSmoothing:function lagSmoothing(threshold,adjustedLag){_lagThreshold=threshold||1/_tinyNum,_adjustedLag=Math.min(adjustedLag,_lagThreshold,0)},fps:function fps(_fps){_gap=1e3/(_fps||240),_nextTime=_self.time*1e3+_gap},add:function add(callback){_listeners.indexOf(callback)<0&&_listeners.push(callback),_wake()},remove:function remove(callback){var i;~(i=_listeners.indexOf(callback))&&_listeners.splice(i,1)&&_i>=i&&_i--},_listeners:_listeners},_self}(),_wake=function _wake(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function _parseObjectInString(value){var obj={},split=value.substr(1,value.length-3).split(":"),key=split[0],i=1,l=split.length,index,val,parsedVal;for(;i<l;i++)val=split[i],index=i!==l-1?val.lastIndexOf(","):val.length,parsedVal=val.substr(0,index),obj[key]=isNaN(parsedVal)?parsedVal.replace(_quotesExp,"").trim():+parsedVal,key=val.substr(index+1).trim();return obj},_valueInParentheses=function _valueInParentheses(value){var open=value.indexOf("(")+1,close=value.indexOf(")"),nested=value.indexOf("(",open);return value.substring(open,~nested&&nested<close?value.indexOf(")",close+1):close)},_configEaseFromString=function _configEaseFromString(name){var split=(name+"").split("("),ease=_easeMap[split[0]];return ease&&split.length>1&&ease.config?ease.config.apply(null,~name.indexOf("{")?[_parseObjectInString(split[1])]:_valueInParentheses(name).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(name)?_easeMap._CE("",name):ease},_invertEase=function _invertEase(ease){return function(p){return 1-ease(1-p)}},_propagateYoyoEase=function _propagateYoyoEase(timeline,isYoyo){var child=timeline._first,ease;while(child)child instanceof Timeline?_propagateYoyoEase(child,isYoyo):child.vars.yoyoEase&&(!child._yoyo||!child._repeat)&&child._yoyo!==isYoyo&&(child.timeline?_propagateYoyoEase(child.timeline,isYoyo):(ease=child._ease,child._ease=child._yEase,child._yEase=ease,child._yoyo=isYoyo)),child=child._next},_parseEase=function _parseEase(ease,defaultEase){return ease?(_isFunction(ease)?ease:_easeMap[ease]||_configEaseFromString(ease))||defaultEase:defaultEase},_insertEase=function _insertEase(names,easeIn,easeOut,easeInOut){easeOut===void 0&&(easeOut=function easeOut(p){return 1-easeIn(1-p)}),easeInOut===void 0&&(easeInOut=function easeInOut(p){return p<.5?easeIn(p*2)/2:1-easeIn((1-p)*2)/2});var ease={easeIn:easeIn,easeOut:easeOut,easeInOut:easeInOut},lowercaseName;return _forEachName(names,function(name){_easeMap[name]=_globals[name]=ease,_easeMap[lowercaseName=name.toLowerCase()]=easeOut;for(var p in ease)_easeMap[lowercaseName+(p==="easeIn"?".in":p==="easeOut"?".out":".inOut")]=_easeMap[name+"."+p]=ease[p]}),ease},_easeInOutFromOut=function _easeInOutFromOut(easeOut){return function(p){return p<.5?(1-easeOut(1-p*2))/2:.5+easeOut((p-.5)*2)/2}},_configElastic=function _configElastic(type,amplitude,period){var p1=amplitude>=1?amplitude:1,p2=(period||(type?.3:.45))/(amplitude<1?amplitude:1),p3=p2/_2PI*(Math.asin(1/p1)||0),easeOut=function easeOut(p){return p===1?1:p1*Math.pow(2,-10*p)*_sin((p-p3)*p2)+1},ease=type==="out"?easeOut:type==="in"?function(p){return 1-easeOut(1-p)}:_easeInOutFromOut(easeOut);return p2=_2PI/p2,ease.config=function(amplitude,period){return _configElastic(type,amplitude,period)},ease},_configBack=function _configBack(type,overshoot){overshoot===void 0&&(overshoot=1.70158);var easeOut=function easeOut(p){return p?--p*p*((overshoot+1)*p+overshoot)+1:0},ease=type==="out"?easeOut:type==="in"?function(p){return 1-easeOut(1-p)}:_easeInOutFromOut(easeOut);return ease.config=function(overshoot){return _configBack(type,overshoot)},ease};_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(name,i){var power=i<5?i+1:i;_insertEase(name+",Power"+(power-1),i?function(p){return Math.pow(p,power)}:function(p){return p},function(p){return 1-Math.pow(1-p,power)},function(p){return p<.5?Math.pow(p*2,power)/2:1-Math.pow((1-p)*2,power)/2})}),_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn,_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic()),function(n,c){var n1=1/c,n2=2*n1,n3=2.5*n1,easeOut=function easeOut(p){return p<n1?n*p*p:p<n2?n*Math.pow(p-1.5/c,2)+.75:p<n3?n*(p-=2.25/c)*p+.9375:n*Math.pow(p-2.625/c,2)+.984375};_insertEase("Bounce",function(p){return 1-easeOut(1-p)},easeOut)}(7.5625,2.75),_insertEase("Expo",function(p){return p?Math.pow(2,10*(p-1)):0}),_insertEase("Circ",function(p){return-(_sqrt(1-p*p)-1)}),_insertEase("Sine",function(p){return p===1?1:-_cos(p*_HALF_PI)+1}),_insertEase("Back",_configBack("in"),_configBack("out"),_configBack()),_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function config(steps,immediateStart){steps===void 0&&(steps=1);var p1=1/steps,p2=steps+(immediateStart?0:1),p3=immediateStart?1:0,max=1-_tinyNum;return function(p){return((p2*_clamp(0,max,p)|0)+p3)*p1}}},_defaults.ease=_easeMap["quad.out"],_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(name){return _callbackNames+=name+","+name+"Params,"});var GSCache=function GSCache(target,harness){this.id=_gsID++,target._gsap=this,this.target=target,this.harness=harness,this.get=harness?harness.get:_getProperty,this.set=harness?harness.getSetter:_getSetter},Animation=function(){function Animation(vars,time){var parent=vars.parent||_globalTimeline;this.vars=vars,this._delay=+vars.delay||0;if(this._repeat=vars.repeat===Infinity?-2:vars.repeat||0)this._rDelay=vars.repeatDelay||0,this._yoyo=!!vars.yoyo||!!vars.yoyoEase;this._ts=1,_setDuration(this,+vars.duration,1,1),this.data=vars.data,_tickerActive||_ticker.wake(),parent&&_addToTimeline(parent,this,time||time===0?time:parent._time,1),vars.reversed&&this.reverse(),vars.paused&&this.paused(!0)}var _proto=Animation.prototype;return _proto.delay=function delay(value){return value||value===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+value-this._delay),this._delay=value,this):this._delay},_proto.duration=function duration(value){return arguments.length?this.totalDuration(this._repeat>0?value+(value+this._rDelay)*this._repeat:value):this.totalDuration()&&this._dur},_proto.totalDuration=function totalDuration(value){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?value:(value-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},_proto.totalTime=function totalTime(_totalTime,suppressEvents){_wake();if(!arguments.length)return this._tTime;var parent=this._dp;if(parent&&parent.smoothChildTiming&&this._ts){_alignPlayhead(this,_totalTime),!parent._dp||parent.parent||_postAddChecks(parent,this);while(parent.parent)parent.parent._time!==parent._start+(parent._ts>=0?parent._tTime/parent._ts:(parent.totalDuration()-parent._tTime)/-parent._ts)&&parent.totalTime(parent._tTime,!0),parent=parent.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&_totalTime<this._tDur||this._ts<0&&_totalTime>0||!this._tDur&&!_totalTime)&&_addToTimeline(this._dp,this,this._start-this._delay)}if(this._tTime!==_totalTime||!this._dur&&!suppressEvents||this._initted&&Math.abs(this._zTime)===_tinyNum||!_totalTime&&!this._initted&&(this.add||this._ptLookup))this._ts||(this._pTime=_totalTime),_lazySafeRender(this,_totalTime,suppressEvents);return this},_proto.time=function time(value,suppressEvents){return arguments.length?this.totalTime(Math.min(this.totalDuration(),value+_elapsedCycleDuration(this))%this._dur||(value?this._dur:0),suppressEvents):this._time},_proto.totalProgress=function totalProgress(value,suppressEvents){return arguments.length?this.totalTime(this.totalDuration()*value,suppressEvents):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},_proto.progress=function progress(value,suppressEvents){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-value:value)+_elapsedCycleDuration(this),suppressEvents):this.duration()?Math.min(1,this._time/this._dur):this.ratio},_proto.iteration=function iteration(value,suppressEvents){var cycleDuration=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(value-1)*cycleDuration,suppressEvents):this._repeat?_animationCycle(this._tTime,cycleDuration)+1:1},_proto.timeScale=function timeScale(value){if(!arguments.length)return this._rts===-_tinyNum?0:this._rts;if(this._rts===value)return this;var tTime=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime;return this._rts=+value||0,this._ts=this._ps||value===-_tinyNum?0:this._rts,_recacheAncestors(this.totalTime(_clamp(-this._delay,this._tDur,tTime),!0))},_proto.paused=function paused(value){return arguments.length?(this._ps!==value&&(this._ps=value,value?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&(this._tTime-=_tinyNum)&&Math.abs(this._zTime)!==_tinyNum))),this):this._ps},_proto.startTime=function startTime(value){if(arguments.length){this._start=value;var parent=this.parent||this._dp;return parent&&(parent._sort||!this.parent)&&_addToTimeline(parent,this,value-this._delay),this}return this._start},_proto.endTime=function endTime(includeRepeats){return this._start+(_isNotFalse(includeRepeats)?this.totalDuration():this.duration())/Math.abs(this._ts)},_proto.rawTime=function rawTime(wrapRepeats){var parent=this.parent||this._dp;return parent?wrapRepeats&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(parent.rawTime(wrapRepeats),this):this._tTime:this._tTime},_proto.globalTime=function globalTime(rawTime){var animation=this,time=arguments.length?rawTime:animation.rawTime();while(animation)time=animation._start+time/(animation._ts||1),animation=animation._dp;return time},_proto.repeat=function repeat(value){return arguments.length?(this._repeat=value===Infinity?-2:value,_onUpdateTotalDuration(this)):this._repeat===-2?Infinity:this._repeat},_proto.repeatDelay=function repeatDelay(value){return arguments.length?(this._rDelay=value,_onUpdateTotalDuration(this)):this._rDelay},_proto.yoyo=function yoyo(value){return arguments.length?(this._yoyo=value,this):this._yoyo},_proto.seek=function seek(position,suppressEvents){return this.totalTime(_parsePosition(this,position),_isNotFalse(suppressEvents))},_proto.restart=function restart(includeDelay,suppressEvents){return this.play().totalTime(includeDelay?-this._delay:0,_isNotFalse(suppressEvents))},_proto.play=function play(from,suppressEvents){return from!=null&&this.seek(from,suppressEvents),this.reversed(!1).paused(!1)},_proto.reverse=function reverse(from,suppressEvents){return from!=null&&this.seek(from||this.totalDuration(),suppressEvents),this.reversed(!0).paused(!1)},_proto.pause=function pause(atTime,suppressEvents){return atTime!=null&&this.seek(atTime,suppressEvents),this.paused(!0)},_proto.resume=function resume(){return this.paused(!1)},_proto.reversed=function reversed(value){return arguments.length?(!!value!==this.reversed()&&this.timeScale(-this._rts||(value?-_tinyNum:0)),this):this._rts<0},_proto.invalidate=function invalidate(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},_proto.isActive=function isActive(){var parent=this.parent||this._dp,start=this._start,rawTime;return!!(!parent||this._ts&&this._initted&&parent.isActive()&&(rawTime=parent.rawTime(!0))>=start&&rawTime<this.endTime(!0)-_tinyNum)},_proto.eventCallback=function eventCallback(type,callback,params){var vars=this.vars;return arguments.length>1?(callback?(vars[type]=callback,params&&(vars[type+"Params"]=params),type==="onUpdate"&&(this._onUpdate=callback)):delete vars[type],this):vars[type]},_proto.then=function then(onFulfilled){var self=this;return new Promise(function(resolve){var f=_isFunction(onFulfilled)?onFulfilled:_passThrough,_resolve=function _resolve(){var _then=self.then;self.then=null,_isFunction(f)&&(f=f(self))&&(f.then||f===self)&&(self.then=_then),resolve(f),self.then=_then};self._initted&&self.totalProgress()===1&&self._ts>=0||!self._tTime&&self._ts<0?_resolve():self._prom=_resolve})},_proto.kill=function kill(){_interrupt(this)},Animation}();_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1});var Timeline=function(_Animation){function Timeline(vars,time){var _this;return vars===void 0&&(vars={}),_this=_Animation.call(this,vars,time)||this,_this.labels={},_this.smoothChildTiming=!!vars.smoothChildTiming,_this.autoRemoveChildren=!!vars.autoRemoveChildren,_this._sort=_isNotFalse(vars.sortChildren),_this.parent&&_postAddChecks(_this.parent,_assertThisInitialized(_this)),vars.scrollTrigger&&_scrollTrigger(_assertThisInitialized(_this),vars.scrollTrigger),_this}_inheritsLoose(Timeline,_Animation);var _proto2=Timeline.prototype;return _proto2.to=function to(targets,vars,position){return new Tween(targets,_parseVars(arguments,0,this),_parsePosition(this,_isNumber(vars)?arguments[3]:position)),this},_proto2.from=function from(targets,vars,position){return new Tween(targets,_parseVars(arguments,1,this),_parsePosition(this,_isNumber(vars)?arguments[3]:position)),this},_proto2.fromTo=function fromTo(targets,fromVars,toVars,position){return new Tween(targets,_parseVars(arguments,2,this),_parsePosition(this,_isNumber(fromVars)?arguments[4]:position)),this},_proto2.set=function set(targets,vars,position){return vars.duration=0,vars.parent=this,_inheritDefaults(vars).repeatDelay||(vars.repeat=0),vars.immediateRender=!!vars.immediateRender,new Tween(targets,vars,_parsePosition(this,position),1),this},_proto2.call=function call(callback,params,position){return _addToTimeline(this,Tween.delayedCall(0,callback,params),_parsePosition(this,position))},_proto2.staggerTo=function staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams){return vars.duration=duration,vars.stagger=vars.stagger||stagger,vars.onComplete=onCompleteAll,vars.onCompleteParams=onCompleteAllParams,vars.parent=this,new Tween(targets,vars,_parsePosition(this,position)),this},_proto2.staggerFrom=function staggerFrom(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams){return vars.runBackwards=1,_inheritDefaults(vars).immediateRender=_isNotFalse(vars.immediateRender),this.staggerTo(targets,duration,vars,stagger,position,onCompleteAll,onCompleteAllParams)},_proto2.staggerFromTo=function staggerFromTo(targets,duration,fromVars,toVars,stagger,position,onCompleteAll,onCompleteAllParams){return toVars.startAt=fromVars,_inheritDefaults(toVars).immediateRender=_isNotFalse(toVars.immediateRender),this.staggerTo(targets,duration,toVars,stagger,position,onCompleteAll,onCompleteAllParams)},_proto2.render=function render(totalTime,suppressEvents,force){var prevTime=this._time,tDur=this._dirty?this.totalDuration():this._tDur,dur=this._dur,tTime=this!==_globalTimeline&&totalTime>tDur-_tinyNum&&totalTime>=0?tDur:totalTime<_tinyNum?0:totalTime,crossingStart=this._zTime<0!=totalTime<0&&(this._initted||!dur),time,child,next,iteration,cycleDuration,prevPaused,pauseTween,timeScale,prevStart,prevIteration,yoyo,isYoyo;if(tTime!==this._tTime||force||crossingStart){prevTime!==this._time&&dur&&(tTime+=this._time-prevTime,totalTime+=this._time-prevTime),time=tTime,prevStart=this._start,timeScale=this._ts,prevPaused=!timeScale,crossingStart&&(dur||(prevTime=this._zTime),(totalTime||!suppressEvents)&&(this._zTime=totalTime));if(this._repeat){yoyo=this._yoyo,cycleDuration=dur+this._rDelay;if(this._repeat<-1&&totalTime<0)return this.totalTime(cycleDuration*100+totalTime,suppressEvents,force);time=_round(tTime%cycleDuration),tTime===tDur?(iteration=this._repeat,time=dur):(iteration=~~(tTime/cycleDuration),iteration&&iteration===tTime/cycleDuration&&(time=dur,iteration--),time>dur&&(time=dur)),prevIteration=_animationCycle(this._tTime,cycleDuration),!prevTime&&this._tTime&&prevIteration!==iteration&&(prevIteration=iteration),yoyo&&iteration&1&&(time=dur-time,isYoyo=1);if(iteration!==prevIteration&&!this._lock){var rewinding=yoyo&&prevIteration&1,doesWrap=rewinding===(yoyo&&iteration&1);iteration<prevIteration&&(rewinding=!rewinding),prevTime=rewinding?0:dur,this._lock=1,this.render(prevTime||(isYoyo?0:_round(iteration*cycleDuration)),suppressEvents,!dur)._lock=0,!suppressEvents&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!isYoyo&&(this.invalidate()._lock=1);if(prevTime&&prevTime!==this._time||prevPaused!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;dur=this._dur,tDur=this._tDur,doesWrap&&(this._lock=2,prevTime=rewinding?dur:-0.0001,this.render(prevTime,!0)),this._lock=0;if(!this._ts&&!prevPaused)return this;_propagateYoyoEase(this,isYoyo)}}this._hasPause&&!this._forcing&&this._lock<2&&(pauseTween=_findNextPauseTween(this,_round(prevTime),_round(time)),pauseTween&&(tTime-=time-(time=pauseTween._start))),this._tTime=tTime,this._time=time,this._act=!timeScale,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=totalTime,prevTime=0),!prevTime&&time&&!suppressEvents&&_callback(this,"onStart");if(time>=prevTime&&totalTime>=0){child=this._first;while(child){next=child._next;if((child._act||time>=child._start)&&child._ts&&pauseTween!==child){if(child.parent!==this)return this.render(totalTime,suppressEvents,force);child.render(child._ts>0?(time-child._start)*child._ts:(child._dirty?child.totalDuration():child._tDur)+(time-child._start)*child._ts,suppressEvents,force);if(time!==this._time||!this._ts&&!prevPaused){pauseTween=0,next&&(tTime+=this._zTime=-_tinyNum);break}}child=next}}else{child=this._last;var adjustedTime=totalTime<0?totalTime:time;while(child){next=child._prev;if((child._act||adjustedTime<=child._end)&&child._ts&&pauseTween!==child){if(child.parent!==this)return this.render(totalTime,suppressEvents,force);child.render(child._ts>0?(adjustedTime-child._start)*child._ts:(child._dirty?child.totalDuration():child._tDur)+(adjustedTime-child._start)*child._ts,suppressEvents,force);if(time!==this._time||!this._ts&&!prevPaused){pauseTween=0,next&&(tTime+=this._zTime=adjustedTime?-_tinyNum:_tinyNum);break}}child=next}}if(pauseTween&&!suppressEvents){this.pause(),pauseTween.render(time>=prevTime?0:-_tinyNum)._zTime=time>=prevTime?1:-1;if(this._ts)return this._start=prevStart,_setEnd(this),this.render(totalTime,suppressEvents,force)}this._onUpdate&&!suppressEvents&&_callback(this,"onUpdate",!0);if(tTime===tDur&&tDur>=this.totalDuration()||!tTime&&prevTime)if(prevStart===this._start||Math.abs(timeScale)!==Math.abs(this._ts))this._lock||((totalTime||!dur)&&(tTime===tDur&&this._ts>0||!tTime&&this._ts<0)&&_removeFromParent(this,1),!suppressEvents&&!(totalTime<0&&!prevTime)&&(tTime||prevTime)&&(_callback(this,tTime===tDur?"onComplete":"onReverseComplete",!0),this._prom&&!(tTime<tDur&&this.timeScale()>0)&&this._prom()))}return this},_proto2.add=function add(child,position){var _this2=this;_isNumber(position)||(position=_parsePosition(this,position));if(!(child instanceof Animation)){if(_isArray(child))return child.forEach(function(obj){return _this2.add(obj,position)}),this;if(_isString(child))return this.addLabel(child,position);if(!_isFunction(child))return this;child=Tween.delayedCall(0,child)}return this!==child?_addToTimeline(this,child,position):this},_proto2.getChildren=function getChildren(nested,tweens,timelines,ignoreBeforeTime){nested===void 0&&(nested=!0),tweens===void 0&&(tweens=!0),timelines===void 0&&(timelines=!0),ignoreBeforeTime===void 0&&(ignoreBeforeTime=-_bigNum);var a=[],child=this._first;while(child)child._start>=ignoreBeforeTime&&(child instanceof Tween?tweens&&a.push(child):(timelines&&a.push(child),nested&&a.push.apply(a,child.getChildren(!0,tweens,timelines)))),child=child._next;return a},_proto2.getById=function getById(id){var animations=this.getChildren(1,1,1),i=animations.length;while(i--)if(animations[i].vars.id===id)return animations[i]},_proto2.remove=function remove(child){return _isString(child)?this.removeLabel(child):_isFunction(child)?this.killTweensOf(child):(_removeLinkedListItem(this,child),child===this._recent&&(this._recent=this._last),_uncache(this))},_proto2.totalTime=function totalTime(_totalTime2,suppressEvents){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_round(_ticker.time-(this._ts>0?_totalTime2/this._ts:(this.totalDuration()-_totalTime2)/-this._ts))),_Animation.prototype.totalTime.call(this,_totalTime2,suppressEvents),this._forcing=0,this):this._tTime},_proto2.addLabel=function addLabel(label,position){return this.labels[label]=_parsePosition(this,position),this},_proto2.removeLabel=function removeLabel(label){return delete this.labels[label],this},_proto2.addPause=function addPause(position,callback,params){var t=Tween.delayedCall(0,callback||_emptyFunc,params);return t.data="isPause",this._hasPause=1,_addToTimeline(this,t,_parsePosition(this,position))},_proto2.removePause=function removePause(position){var child=this._first;position=_parsePosition(this,position);while(child)child._start===position&&child.data==="isPause"&&_removeFromParent(child),child=child._next},_proto2.killTweensOf=function killTweensOf(targets,props,onlyActive){var tweens=this.getTweensOf(targets,onlyActive),i=tweens.length;while(i--)_overwritingTween!==tweens[i]&&tweens[i].kill(targets,props);return this},_proto2.getTweensOf=function getTweensOf(targets,onlyActive){var a=[],parsedTargets=toArray(targets),child=this._first,isGlobalTime=_isNumber(onlyActive),children;while(child)child instanceof Tween?_arrayContainsAny(child._targets,parsedTargets)&&(isGlobalTime?(!_overwritingTween||child._initted&&child._ts)&&child.globalTime(0)<=onlyActive&&child.globalTime(child.totalDuration())>onlyActive:!onlyActive||child.isActive())&&a.push(child):(children=child.getTweensOf(parsedTargets,onlyActive)).length&&a.push.apply(a,children),child=child._next;return a},_proto2.tweenTo=function tweenTo(position,vars){vars=vars||{};var tl=this,endTime=_parsePosition(tl,position),_vars=vars,startAt=_vars.startAt,_onStart=_vars.onStart,onStartParams=_vars.onStartParams,immediateRender=_vars.immediateRender,tween=Tween.to(tl,_setDefaults({ease:vars.ease||"none",lazy:!1,immediateRender:!1,time:endTime,overwrite:"auto",duration:vars.duration||Math.abs((endTime-(startAt&&"time"in startAt?startAt.time:tl._time))/tl.timeScale())||_tinyNum,onStart:function onStart(){tl.pause();var duration=vars.duration||Math.abs((endTime-tl._time)/tl.timeScale());tween._dur!==duration&&_setDuration(tween,duration,0,1).render(tween._time,!0,!0),_onStart&&_onStart.apply(tween,onStartParams||[])}},vars));return immediateRender?tween.render(0):tween},_proto2.tweenFromTo=function tweenFromTo(fromPosition,toPosition,vars){return this.tweenTo(toPosition,_setDefaults({startAt:{time:_parsePosition(this,fromPosition)}},vars))},_proto2.recent=function recent(){return this._recent},_proto2.nextLabel=function nextLabel(afterTime){return afterTime===void 0&&(afterTime=this._time),_getLabelInDirection(this,_parsePosition(this,afterTime))},_proto2.previousLabel=function previousLabel(beforeTime){return beforeTime===void 0&&(beforeTime=this._time),_getLabelInDirection(this,_parsePosition(this,beforeTime),1)},_proto2.currentLabel=function currentLabel(value){return arguments.length?this.seek(value,!0):this.previousLabel(this._time+_tinyNum)},_proto2.shiftChildren=function shiftChildren(amount,adjustLabels,ignoreBeforeTime){ignoreBeforeTime===void 0&&(ignoreBeforeTime=0);var child=this._first,labels=this.labels,p;while(child)child._start>=ignoreBeforeTime&&(child._start+=amount,child._end+=amount),child=child._next;if(adjustLabels)for(p in labels)labels[p]>=ignoreBeforeTime&&(labels[p]+=amount);return _uncache(this)},_proto2.invalidate=function invalidate(){var child=this._first;this._lock=0;while(child)child.invalidate(),child=child._next;return _Animation.prototype.invalidate.call(this)},_proto2.clear=function clear(includeLabels){includeLabels===void 0&&(includeLabels=!0);var child=this._first,next;while(child)next=child._next,this.remove(child),child=next;return this._dp&&(this._time=this._tTime=this._pTime=0),includeLabels&&(this.labels={}),_uncache(this)},_proto2.totalDuration=function totalDuration(value){var max=0,self=this,child=self._last,prevStart=_bigNum,prev,start,parent;if(arguments.length)return self.timeScale((self._repeat<0?self.duration():self.totalDuration())/(self.reversed()?-value:value));if(self._dirty){parent=self.parent;while(child){prev=child._prev,child._dirty&&child.totalDuration(),start=child._start,start>prevStart&&self._sort&&child._ts&&!self._lock?(self._lock=1,_addToTimeline(self,child,start-child._delay,1)._lock=0):prevStart=start;if(start<0&&child._ts){max-=start;if(!parent&&!self._dp||parent&&parent.smoothChildTiming)self._start+=start/self._ts,self._time-=start,self._tTime-=start;self.shiftChildren(-start,!1,-1/0),prevStart=0}child._end>max&&child._ts&&(max=child._end),child=prev}_setDuration(self,self===_globalTimeline&&self._time>max?self._time:max,1,1),self._dirty=0}return self._tDur},Timeline.updateRoot=function updateRoot(time){_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(time,_globalTimeline)),_lastRenderedFrame=_ticker.frame);if(_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var child=_globalTimeline._first;if(!child||!child._ts)if(_config.autoSleep&&_ticker._listeners.length<2){while(child&&!child._ts)child=child._next;child||_ticker.sleep()}}},Timeline}(Animation);_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0});var _addComplexStringPropTween=function _addComplexStringPropTween(target,prop,start,end,setter,stringFilter,funcParam){var pt=new PropTween(this._pt,target,prop,0,1,_renderComplexString,null,setter),index=0,matchIndex=0,result,startNums,color,endNum,chunk,startNum,hasRandom,a;pt.b=start,pt.e=end,start+="",end+="";if(hasRandom=~end.indexOf("random("))end=_replaceRandom(end);stringFilter&&(a=[start,end],stringFilter(a,target,prop),start=a[0],end=a[1]),startNums=start.match(_complexStringNumExp)||[];while(result=_complexStringNumExp.exec(end))endNum=result[0],chunk=end.substring(index,result.index),color?color=(color+1)%5:chunk.substr(-5)==="rgba("&&(color=1),endNum!==startNums[matchIndex++]&&(startNum=parseFloat(startNums[matchIndex-1])||0,pt._pt={_next:pt._pt,p:chunk||matchIndex===1?chunk:",",s:startNum,c:endNum.charAt(1)==="="?parseFloat(endNum.substr(2))*(endNum.charAt(0)==="-"?-1:1):parseFloat(endNum)-startNum,m:color&&color<4?Math.round:0},index=_complexStringNumExp.lastIndex);pt.c=index<end.length?end.substring(index,end.length):"",pt.fp=funcParam;if(_relExp.test(end)||hasRandom)pt.e=0;return this._pt=pt,pt},_addPropTween=function _addPropTween(target,prop,start,end,index,targets,modifier,stringFilter,funcParam){_isFunction(end)&&(end=end(index||0,target,targets));var currentValue=target[prop],parsedStart=start!=="get"?start:_isFunction(currentValue)?funcParam?target[prop.indexOf("set")||!_isFunction(target["get"+prop.substr(3)])?prop:"get"+prop.substr(3)](funcParam):target[prop]():currentValue,setter=_isFunction(currentValue)?funcParam?_setterFuncWithParam:_setterFunc:_setterPlain,pt;_isString(end)&&(~end.indexOf("random(")&&(end=_replaceRandom(end)),end.charAt(1)==="="&&(end=parseFloat(parsedStart)+parseFloat(end.substr(2))*(end.charAt(0)==="-"?-1:1)+(getUnit(parsedStart)||0)));if(parsedStart!==end)return isNaN(parsedStart*end)?(!currentValue&&!(prop in target)&&_missingPlugin(prop,end),_addComplexStringPropTween.call(this,target,prop,parsedStart,end,setter,stringFilter||_config.stringFilter,funcParam)):(pt=new PropTween(this._pt,target,prop,+parsedStart||0,end-(parsedStart||0),typeof currentValue=="boolean"?_renderBoolean:_renderPlain,0,setter),funcParam&&(pt.fp=funcParam),modifier&&pt.modifier(modifier,this,target),this._pt=pt)},_processVars=function _processVars(vars,index,target,targets,tween){_isFunction(vars)&&(vars=_parseFuncOrString(vars,tween,index,target,targets));if(!_isObject(vars)||vars.style&&vars.nodeType||_isArray(vars)||_isTypedArray(vars))return _isString(vars)?_parseFuncOrString(vars,tween,index,target,targets):vars;var copy={},p;for(p in vars)copy[p]=_parseFuncOrString(vars[p],tween,index,target,targets);return copy},_checkPlugin=function _checkPlugin(property,vars,tween,index,target,targets){var plugin,pt,ptLookup,i;if(_plugins[property]&&(plugin=new _plugins[property]).init(target,plugin.rawVars?vars[property]:_processVars(vars[property],index,target,targets,tween),tween,index,targets)!==!1){tween._pt=pt=new PropTween(tween._pt,target,property,0,1,plugin.render,plugin,0,plugin.priority);if(tween!==_quickTween){ptLookup=tween._ptLookup[tween._targets.indexOf(target)],i=plugin._props.length;while(i--)ptLookup[plugin._props[i]]=pt}}return plugin},_overwritingTween,_initTween=function _initTween(tween,time){var vars=tween.vars,ease=vars.ease,startAt=vars.startAt,immediateRender=vars.immediateRender,lazy=vars.lazy,onUpdate=vars.onUpdate,onUpdateParams=vars.onUpdateParams,callbackScope=vars.callbackScope,runBackwards=vars.runBackwards,yoyoEase=vars.yoyoEase,keyframes=vars.keyframes,autoRevert=vars.autoRevert,dur=tween._dur,prevStartAt=tween._startAt,targets=tween._targets,parent=tween.parent,fullTargets=parent&&parent.data==="nested"?parent.parent._targets:targets,autoOverwrite=tween._overwrite==="auto"&&!_suppressOverwrites,tl=tween.timeline,cleanVars,i,p,pt,target,hasPriority,gsData,harness,plugin,ptLookup,index,harnessVars,overwritten;tl&&(!keyframes||!ease)&&(ease="none"),tween._ease=_parseEase(ease,_defaults.ease),tween._yEase=yoyoEase?_invertEase(_parseEase(yoyoEase===!0?ease:yoyoEase,_defaults.ease)):0,yoyoEase&&tween._yoyo&&!tween._repeat&&(yoyoEase=tween._yEase,tween._yEase=tween._ease,tween._ease=yoyoEase);if(!tl){harness=targets[0]?_getCache(targets[0]).harness:0,harnessVars=harness&&vars[harness.prop],cleanVars=_copyExcluding(vars,_reservedProps),prevStartAt&&prevStartAt.render(-1,!0).kill();if(startAt){_removeFromParent(tween._startAt=Tween.set(targets,_setDefaults({data:"isStart",overwrite:!1,parent:parent,immediateRender:!0,lazy:_isNotFalse(lazy),startAt:null,delay:0,onUpdate:onUpdate,onUpdateParams:onUpdateParams,callbackScope:callbackScope,stagger:0},startAt)));if(immediateRender){if(time>0)autoRevert||(tween._startAt=0);else if(dur&&!(time<0&&prevStartAt)){time&&(tween._zTime=time);return}}else autoRevert===!1&&(tween._startAt=0)}else if(runBackwards&&dur)if(prevStartAt)!autoRevert&&(tween._startAt=0);else{time&&(immediateRender=!1),p=_setDefaults({overwrite:!1,data:"isFromStart",lazy:immediateRender&&_isNotFalse(lazy),immediateRender:immediateRender,stagger:0,parent:parent},cleanVars),harnessVars&&(p[harness.prop]=harnessVars),_removeFromParent(tween._startAt=Tween.set(targets,p));if(!immediateRender)_initTween(tween._startAt,_tinyNum);else if(!time)return}tween._pt=0,lazy=dur&&_isNotFalse(lazy)||lazy&&!dur;for(i=0;i<targets.length;i++){target=targets[i],gsData=target._gsap||_harness(targets)[i]._gsap,tween._ptLookup[i]=ptLookup={},_lazyLookup[gsData.id]&&_lazyTweens.length&&_lazyRender(),index=fullTargets===targets?i:fullTargets.indexOf(target),harness&&(plugin=new harness).init(target,harnessVars||cleanVars,tween,index,fullTargets)!==!1&&(tween._pt=pt=new PropTween(tween._pt,target,plugin.name,0,1,plugin.render,plugin,0,plugin.priority),plugin._props.forEach(function(name){ptLookup[name]=pt}),plugin.priority&&(hasPriority=1));if(!harness||harnessVars)for(p in cleanVars)_plugins[p]&&(plugin=_checkPlugin(p,cleanVars,tween,index,target,fullTargets))?plugin.priority&&(hasPriority=1):ptLookup[p]=pt=_addPropTween.call(tween,target,p,"get",cleanVars[p],index,fullTargets,0,vars.stringFilter);tween._op&&tween._op[i]&&tween.kill(target,tween._op[i]),autoOverwrite&&tween._pt&&(_overwritingTween=tween,_globalTimeline.killTweensOf(target,ptLookup,tween.globalTime(0)),overwritten=!tween.parent,_overwritingTween=0),tween._pt&&lazy&&(_lazyLookup[gsData.id]=1)}hasPriority&&_sortPropTweensByPriority(tween),tween._onInit&&tween._onInit(tween)}tween._from=!tl&&!!vars.runBackwards,tween._onUpdate=onUpdate,tween._initted=(!tween._op||tween._pt)&&!overwritten},_addAliasesToVars=function _addAliasesToVars(targets,vars){var harness=targets[0]?_getCache(targets[0]).harness:0,propertyAliases=harness&&harness.aliases,copy,p,i,aliases;if(!propertyAliases)return vars;copy=_merge({},vars);for(p in propertyAliases)if(p in copy){aliases=propertyAliases[p].split(","),i=aliases.length;while(i--)copy[aliases[i]]=copy[p]}return copy},_parseFuncOrString=function _parseFuncOrString(value,tween,i,target,targets){return _isFunction(value)?value.call(tween,i,target,targets):_isString(value)&&~value.indexOf("random(")?_replaceRandom(value):value},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",_staggerPropsToSkip=(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Tween=function(_Animation2){function Tween(targets,vars,time,skipInherit){var _this3;typeof vars=="number"&&(time.duration=vars,vars=time,time=null),_this3=_Animation2.call(this,skipInherit?vars:_inheritDefaults(vars),time)||this;var _this3$vars=_this3.vars,duration=_this3$vars.duration,delay=_this3$vars.delay,immediateRender=_this3$vars.immediateRender,stagger=_this3$vars.stagger,overwrite=_this3$vars.overwrite,keyframes=_this3$vars.keyframes,defaults=_this3$vars.defaults,scrollTrigger=_this3$vars.scrollTrigger,yoyoEase=_this3$vars.yoyoEase,parent=_this3.parent,parsedTargets=(_isArray(targets)||_isTypedArray(targets)?_isNumber(targets[0]):"length"in vars)?[targets]:toArray(targets),tl,i,copy,l,p,curTarget,staggerFunc,staggerVarsToMerge;_this3._targets=parsedTargets.length?_harness(parsedTargets):_warn("GSAP target "+targets+" not found. https://greensock.com",!_config.nullTargetWarn)||[],_this3._ptLookup=[],_this3._overwrite=overwrite;if(keyframes||stagger||_isFuncOrString(duration)||_isFuncOrString(delay)){vars=_this3.vars,tl=_this3.timeline=new Timeline({data:"nested",defaults:defaults||{}}),tl.kill(),tl.parent=tl._dp=_assertThisInitialized(_this3),tl._start=0;if(keyframes)_setDefaults(tl.vars.defaults,{ease:"none"}),keyframes.forEach(function(frame){return tl.to(parsedTargets,frame,">")});else{l=parsedTargets.length,staggerFunc=stagger?distribute(stagger):_emptyFunc;if(_isObject(stagger))for(p in stagger)~_staggerTweenProps.indexOf(p)&&(staggerVarsToMerge||(staggerVarsToMerge={}),staggerVarsToMerge[p]=stagger[p]);for(i=0;i<l;i++){copy={};for(p in vars)_staggerPropsToSkip.indexOf(p)<0&&(copy[p]=vars[p]);copy.stagger=0,yoyoEase&&(copy.yoyoEase=yoyoEase),staggerVarsToMerge&&_merge(copy,staggerVarsToMerge),curTarget=parsedTargets[i],copy.duration=+_parseFuncOrString(duration,_assertThisInitialized(_this3),i,curTarget,parsedTargets),copy.delay=(+_parseFuncOrString(delay,_assertThisInitialized(_this3),i,curTarget,parsedTargets)||0)-_this3._delay,!stagger&&l===1&&copy.delay&&(_this3._delay=delay=copy.delay,_this3._start+=delay,copy.delay=0),tl.to(curTarget,copy,staggerFunc(i,curTarget,parsedTargets))}tl.duration()?duration=delay=0:_this3.timeline=0}duration||_this3.duration(duration=tl.duration())}else _this3.timeline=0;overwrite===!0&&!_suppressOverwrites&&(_overwritingTween=_assertThisInitialized(_this3),_globalTimeline.killTweensOf(parsedTargets),_overwritingTween=0),parent&&_postAddChecks(parent,_assertThisInitialized(_this3));if(immediateRender||!duration&&!keyframes&&_this3._start===_round(parent._time)&&_isNotFalse(immediateRender)&&_hasNoPausedAncestors(_assertThisInitialized(_this3))&&parent.data!=="nested")_this3._tTime=-_tinyNum,_this3.render(Math.max(0,-delay));return scrollTrigger&&_scrollTrigger(_assertThisInitialized(_this3),scrollTrigger),_this3}_inheritsLoose(Tween,_Animation2);var _proto3=Tween.prototype;return _proto3.render=function render(totalTime,suppressEvents,force){var prevTime=this._time,tDur=this._tDur,dur=this._dur,tTime=totalTime>tDur-_tinyNum&&totalTime>=0?tDur:totalTime<_tinyNum?0:totalTime,time,pt,iteration,cycleDuration,prevIteration,isYoyo,ratio,timeline,yoyoEase;if(!dur)_renderZeroDurationTween(this,totalTime,suppressEvents,force);else if(tTime!==this._tTime||!totalTime||force||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=totalTime<0){time=tTime,timeline=this.timeline;if(this._repeat){cycleDuration=dur+this._rDelay;if(this._repeat<-1&&totalTime<0)return this.totalTime(cycleDuration*100+totalTime,suppressEvents,force);time=_round(tTime%cycleDuration),tTime===tDur?(iteration=this._repeat,time=dur):(iteration=~~(tTime/cycleDuration),iteration&&iteration===tTime/cycleDuration&&(time=dur,iteration--),time>dur&&(time=dur)),isYoyo=this._yoyo&&iteration&1,isYoyo&&(yoyoEase=this._yEase,time=dur-time),prevIteration=_animationCycle(this._tTime,cycleDuration);if(time===prevTime&&!force&&this._initted)return this;iteration!==prevIteration&&(timeline&&this._yEase&&_propagateYoyoEase(timeline,isYoyo),this.vars.repeatRefresh&&!isYoyo&&!this._lock&&(this._lock=force=1,this.render(_round(cycleDuration*iteration),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,totalTime<0?totalTime:time,force,suppressEvents))return this._tTime=0,this;if(dur!==this._dur)return this.render(totalTime,suppressEvents,force)}this._tTime=tTime,this._time=time,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=ratio=(yoyoEase||this._ease)(time/dur),this._from&&(this.ratio=ratio=1-ratio),time&&!prevTime&&!suppressEvents&&_callback(this,"onStart"),pt=this._pt;while(pt)pt.r(ratio,pt.d),pt=pt._next;timeline&&timeline.render(totalTime<0?totalTime:!time&&isYoyo?-_tinyNum:timeline._dur*ratio,suppressEvents,force)||this._startAt&&(this._zTime=totalTime),this._onUpdate&&!suppressEvents&&(totalTime<0&&this._startAt&&this._startAt.render(totalTime,!0,force),_callback(this,"onUpdate")),this._repeat&&iteration!==prevIteration&&this.vars.onRepeat&&!suppressEvents&&this.parent&&_callback(this,"onRepeat"),(tTime===this._tDur||!tTime)&&this._tTime===tTime&&(totalTime<0&&this._startAt&&!this._onUpdate&&this._startAt.render(totalTime,!0,!0),(totalTime||!dur)&&(tTime===this._tDur&&this._ts>0||!tTime&&this._ts<0)&&_removeFromParent(this,1),!suppressEvents&&!(totalTime<0&&!prevTime)&&(tTime||prevTime)&&(_callback(this,tTime===tDur?"onComplete":"onReverseComplete",!0),this._prom&&!(tTime<tDur&&this.timeScale()>0)&&this._prom()))}return this},_proto3.targets=function targets(){return this._targets},_proto3.invalidate=function invalidate(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),_Animation2.prototype.invalidate.call(this)},_proto3.kill=function kill(targets,vars){vars===void 0&&(vars="all");if(!targets&&(!vars||vars==="all"))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline){var tDur=this.timeline.totalDuration();return this.timeline.killTweensOf(targets,vars,_overwritingTween&&_overwritingTween.vars.overwrite!==!0)._first||_interrupt(this),this.parent&&tDur!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/tDur,0,1),this}var parsedTargets=this._targets,killingTargets=targets?toArray(targets):parsedTargets,propTweenLookup=this._ptLookup,firstPT=this._pt,overwrittenProps,curLookup,curOverwriteProps,props,p,pt,i;if((!vars||vars==="all")&&_arraysMatch(parsedTargets,killingTargets))return vars==="all"&&(this._pt=0),_interrupt(this);overwrittenProps=this._op=this._op||[],vars!=="all"&&(_isString(vars)&&(p={},_forEachName(vars,function(name){return p[name]=1}),vars=p),vars=_addAliasesToVars(parsedTargets,vars)),i=parsedTargets.length;while(i--)if(~killingTargets.indexOf(parsedTargets[i])){curLookup=propTweenLookup[i],vars==="all"?(overwrittenProps[i]=vars,props=curLookup,curOverwriteProps={}):(curOverwriteProps=overwrittenProps[i]=overwrittenProps[i]||{},props=vars);for(p in props)pt=curLookup&&curLookup[p],pt&&((!("kill"in pt.d)||pt.d.kill(p)===!0)&&_removeLinkedListItem(this,pt,"_pt"),delete curLookup[p]),curOverwriteProps!=="all"&&(curOverwriteProps[p]=1)}return this._initted&&!this._pt&&firstPT&&_interrupt(this),this},Tween.to=function to(targets,vars){return new Tween(targets,vars,arguments[2])},Tween.from=function from(targets,vars){return new Tween(targets,_parseVars(arguments,1))},Tween.delayedCall=function delayedCall(delay,callback,params,scope){return new Tween(callback,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:delay,onComplete:callback,onReverseComplete:callback,onCompleteParams:params,onReverseCompleteParams:params,callbackScope:scope})},Tween.fromTo=function fromTo(targets,fromVars,toVars){return new Tween(targets,_parseVars(arguments,2))},Tween.set=function set(targets,vars){return vars.duration=0,vars.repeatDelay||(vars.repeat=0),new Tween(targets,vars)},Tween.killTweensOf=function killTweensOf(targets,props,onlyActive){return _globalTimeline.killTweensOf(targets,props,onlyActive)},Tween}(Animation);_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_forEachName("staggerTo,staggerFrom,staggerFromTo",function(name){Tween[name]=function(){var tl=new Timeline,params=_slice.call(arguments,0);return params.splice(name==="staggerFromTo"?5:4,0,0),tl[name].apply(tl,params)}});var _setterPlain=function _setterPlain(target,property,value){return target[property]=value},_setterFunc=function _setterFunc(target,property,value){return target[property](value)},_setterFuncWithParam=function _setterFuncWithParam(target,property,value,data){return target[property](data.fp,value)},_setterAttribute=function _setterAttribute(target,property,value){return target.setAttribute(property,value)},_getSetter=function _getSetter(target,property){return _isFunction(target[property])?_setterFunc:_isUndefined(target[property])&&target.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function _renderPlain(ratio,data){return data.set(data.t,data.p,Math.round((data.s+data.c*ratio)*1e4)/1e4,data)},_renderBoolean=function _renderBoolean(ratio,data){return data.set(data.t,data.p,!!(data.s+data.c*ratio),data)},_renderComplexString=function _renderComplexString(ratio,data){var pt=data._pt,s="";if(!ratio&&data.b)s=data.b;else if(ratio===1&&data.e)s=data.e;else{while(pt)s=pt.p+(pt.m?pt.m(pt.s+pt.c*ratio):Math.round((pt.s+pt.c*ratio)*1e4)/1e4)+s,pt=pt._next;s+=data.c}data.set(data.t,data.p,s,data)},_renderPropTweens=function _renderPropTweens(ratio,data){var pt=data._pt;while(pt)pt.r(ratio,pt.d),pt=pt._next},_addPluginModifier=function _addPluginModifier(modifier,tween,target,property){var pt=this._pt,next;while(pt)next=pt._next,pt.p===property&&pt.modifier(modifier,tween,target),pt=next},_killPropTweensOf=function _killPropTweensOf(property){var pt=this._pt,hasNonDependentRemaining,next;while(pt)next=pt._next,pt.p===property&&!pt.op||pt.op===property?_removeLinkedListItem(this,pt,"_pt"):pt.dep||(hasNonDependentRemaining=1),pt=next;return!hasNonDependentRemaining},_setterWithModifier=function _setterWithModifier(target,property,value,data){data.mSet(target,property,data.m.call(data.tween,value,data.mt),data)},_sortPropTweensByPriority=function _sortPropTweensByPriority(parent){var pt=parent._pt,next,pt2,first,last;while(pt){next=pt._next,pt2=first;while(pt2&&pt2.pr>pt.pr)pt2=pt2._next;(pt._prev=pt2?pt2._prev:last)?pt._prev._next=pt:first=pt,(pt._next=pt2)?pt2._prev=pt:last=pt,pt=next}parent._pt=first},PropTween=function(){function PropTween(next,target,prop,start,change,renderer,data,setter,priority){this.t=target,this.s=start,this.c=change,this.p=prop,this.r=renderer||_renderPlain,this.d=data||this,this.set=setter||_setterPlain,this.pr=priority||0,this._next=next,next&&(next._prev=this)}var _proto4=PropTween.prototype;return _proto4.modifier=function modifier(func,tween,target){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=func,this.mt=target,this.tween=tween},PropTween}();_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(name){return _reservedProps[name]=1}),_globals.TweenMax=_globals.TweenLite=Tween,_globals.TimelineLite=_globals.TimelineMax=Timeline,_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_config.stringFilter=_colorStringFilter;var _gsap={registerPlugin:function registerPlugin(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];args.forEach(function(config){return _createPlugin(config)})},timeline:function timeline(vars){return new Timeline(vars)},getTweensOf:function getTweensOf(targets,onlyActive){return _globalTimeline.getTweensOf(targets,onlyActive)},getProperty:function getProperty(target,property,unit,uncache){_isString(target)&&(target=toArray(target)[0]);var getter=_getCache(target||{}).get,format=unit?_passThrough:_numericIfPossible;return unit==="native"&&(unit=""),target?property?format((_plugins[property]&&_plugins[property].get||getter)(target,property,unit,uncache)):function(property,unit,uncache){return format((_plugins[property]&&_plugins[property].get||getter)(target,property,unit,uncache))}:target},quickSetter:function quickSetter(target,property,unit){target=toArray(target);if(target.length>1){var setters=target.map(function(t){return gsap.quickSetter(t,property,unit)}),l=setters.length;return function(value){var i=l;while(i--)setters[i](value)}}target=target[0]||{};var Plugin=_plugins[property],cache=_getCache(target),p=cache.harness&&(cache.harness.aliases||{})[property]||property,setter=Plugin?function(value){var p=new Plugin;_quickTween._pt=0,p.init(target,unit?value+unit:value,_quickTween,0,[target]),p.render(1,p),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:cache.set(target,p);return Plugin?setter:function(value){return setter(target,p,unit?value+unit:value,cache,1)}},isTweening:function isTweening(targets){return _globalTimeline.getTweensOf(targets,!0).length>0},defaults:function defaults(value){return value&&value.ease&&(value.ease=_parseEase(value.ease,_defaults.ease)),_mergeDeep(_defaults,value||{})},config:function config(value){return _mergeDeep(_config,value||{})},registerEffect:function registerEffect(_ref2){var name=_ref2.name,effect=_ref2.effect,plugins=_ref2.plugins,defaults=_ref2.defaults,extendTimeline=_ref2.extendTimeline;(plugins||"").split(",").forEach(function(pluginName){return pluginName&&!_plugins[pluginName]&&!_globals[pluginName]&&_warn(name+" effect requires "+pluginName+" plugin.")}),_effects[name]=function(targets,vars,tl){return effect(toArray(targets),_setDefaults(vars||{},defaults),tl)},extendTimeline&&(Timeline.prototype[name]=function(targets,vars,position){return this.add(_effects[name](targets,_isObject(vars)?vars:(position=vars)&&{},this),position)})},registerEase:function registerEase(name,ease){_easeMap[name]=_parseEase(ease)},parseEase:function parseEase(ease,defaultEase){return arguments.length?_parseEase(ease,defaultEase):_easeMap},getById:function getById(id){return _globalTimeline.getById(id)},exportRoot:function exportRoot(vars,includeDelayedCalls){vars===void 0&&(vars={});var tl=new Timeline(vars),child,next;tl.smoothChildTiming=_isNotFalse(vars.smoothChildTiming),_globalTimeline.remove(tl),tl._dp=0,tl._time=tl._tTime=_globalTimeline._time,child=_globalTimeline._first;while(child)next=child._next,(includeDelayedCalls||!(!child._dur&&child instanceof Tween&&child.vars.onComplete===child._targets[0]))&&_addToTimeline(tl,child,child._start-child._delay),child=next;return _addToTimeline(_globalTimeline,tl,0),tl},utils:{wrap:wrap,wrapYoyo:wrapYoyo,distribute:distribute,random:random,snap:snap,normalize:normalize,getUnit:getUnit,clamp:clamp,splitColor:splitColor,toArray:toArray,mapRange:mapRange,pipe:pipe,unitize:unitize,interpolate:interpolate,shuffle:shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween:PropTween,globals:_addGlobal,Tween:Tween,Timeline:Timeline,Animation:Animation,getCache:_getCache,_removeLinkedListItem:_removeLinkedListItem,suppressOverwrites:function suppressOverwrites(value){return _suppressOverwrites=value}}};_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(name){return _gsap[name]=Tween[name]}),_ticker.add(Timeline.updateRoot),_quickTween=_gsap.to({},{duration:0});var _getPluginPropTween=function _getPluginPropTween(plugin,prop){var pt=plugin._pt;while(pt&&pt.p!==prop&&pt.op!==prop&&pt.fp!==prop)pt=pt._next;return pt},_addModifiers=function _addModifiers(tween,modifiers){var targets=tween._targets,p,i,pt;for(p in modifiers){i=targets.length;while(i--)pt=tween._ptLookup[i][p],pt&&(pt=pt.d)&&(pt._pt&&(pt=_getPluginPropTween(pt,p)),pt&&pt.modifier&&pt.modifier(modifiers[p],tween,targets[i],p))}},_buildModifierPlugin=function _buildModifierPlugin(name,modifier){return{name:name,rawVars:1,init:function init(target,vars,tween){tween._onInit=function(tween){var temp,p;_isString(vars)&&(temp={},_forEachName(vars,function(name){return temp[name]=1}),vars=temp);if(modifier){temp={};for(p in vars)temp[p]=modifier(vars[p]);vars=temp}_addModifiers(tween,vars)}}}},gsap=_gsap.registerPlugin({name:"attr",init:function init(target,vars,tween,index,targets){var p,pt;for(p in vars)pt=this.add(target,"setAttribute",(target.getAttribute(p)||0)+"",vars[p],index,targets,0,0,p),pt&&(pt.op=p),this._props.push(p)}},{name:"endArray",init:function init(target,value){var i=value.length;while(i--)this.add(target,i,target[i]||0,value[i])}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap;Tween.version=Timeline.version=gsap.version="3.6.1",_coreReady=1,_windowExists()&&_wake();var Power0=_easeMap.Power0,Power1=_easeMap.Power1,Power2=_easeMap.Power2,Power3=_easeMap.Power3,Power4=_easeMap.Power4,Linear=_easeMap.Linear,Quad=_easeMap.Quad,Cubic=_easeMap.Cubic,Quart=_easeMap.Quart,Quint=_easeMap.Quint,Strong=_easeMap.Strong,Elastic=_easeMap.Elastic,Back=_easeMap.Back,SteppedEase=_easeMap.SteppedEase,Bounce=_easeMap.Bounce,Sine=_easeMap.Sine,Expo=_easeMap.Expo,Circ=_easeMap.Circ,_win$1,_doc$1,_docElement,_pluginInitted,_tempDiv,_tempDivStyler,_recentSetterPlugin,_windowExists$1=function _windowExists(){return typeof window!="undefined"},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum$1=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(?:left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function _renderCSSProp(ratio,data){return data.set(data.t,data.p,Math.round((data.s+data.c*ratio)*1e4)/1e4+data.u,data)},_renderPropWithEnd=function _renderPropWithEnd(ratio,data){return data.set(data.t,data.p,ratio===1?data.e:Math.round((data.s+data.c*ratio)*1e4)/1e4+data.u,data)},_renderCSSPropWithBeginning=function _renderCSSPropWithBeginning(ratio,data){return data.set(data.t,data.p,ratio?Math.round((data.s+data.c*ratio)*1e4)/1e4+data.u:data.b,data)},_renderRoundedCSSProp=function _renderRoundedCSSProp(ratio,data){var value=data.s+data.c*ratio;data.set(data.t,data.p,~~(value+(value<0?-0.5:.5))+data.u,data)},_renderNonTweeningValue=function _renderNonTweeningValue(ratio,data){return data.set(data.t,data.p,ratio?data.e:data.b,data)},_renderNonTweeningValueOnlyAtEnd=function _renderNonTweeningValueOnlyAtEnd(ratio,data){return data.set(data.t,data.p,ratio!==1?data.b:data.e,data)},_setterCSSStyle=function _setterCSSStyle(target,property,value){return target.style[property]=value},_setterCSSProp=function _setterCSSProp(target,property,value){return target.style.setProperty(property,value)},_setterTransform=function _setterTransform(target,property,value){return target._gsap[property]=value},_setterScale=function _setterScale(target,property,value){return target._gsap.scaleX=target._gsap.scaleY=value},_setterScaleWithRender=function _setterScaleWithRender(target,property,value,data,ratio){var cache=target._gsap;cache.scaleX=cache.scaleY=value,cache.renderTransform(ratio,cache)},_setterTransformWithRender=function _setterTransformWithRender(target,property,value,data,ratio){var cache=target._gsap;cache[property]=value,cache.renderTransform(ratio,cache)},_transformProp="transform",_transformOriginProp=_transformProp+"Origin",_supports3D,_createElement=function _createElement(type,ns){var e=_doc$1.createElementNS?_doc$1.createElementNS((ns||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),type):_doc$1.createElement(type);return e.style?e:_doc$1.createElement(type)},_getComputedProperty=function _getComputedProperty(target,property,skipPrefixFallback){var cs=getComputedStyle(target);return cs[property]||cs.getPropertyValue(property.replace(_capsExp,"-$1").toLowerCase())||cs.getPropertyValue(property)||!skipPrefixFallback&&_getComputedProperty(target,_checkPropPrefix(property)||property,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function _checkPropPrefix(property,element,preferPrefix){var e=element||_tempDiv,s=e.style,i=5;if(property in s&&!preferPrefix)return property;property=property.charAt(0).toUpperCase()+property.substr(1);while(i--&&!(_prefixes[i]+property in s));return i<0?null:(i===3?"ms":i>=0?_prefixes[i]:"")+property},_initCore=function _initCore(){_windowExists$1()&&window.document&&(_win$1=window,_doc$1=_win$1.document,_docElement=_doc$1.documentElement,_tempDiv=_createElement("div")||{style:{}},_tempDivStyler=_createElement("div"),_transformProp=_checkPropPrefix(_transformProp),_transformOriginProp=_transformProp+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_pluginInitted=1)},_getBBoxHack=function _getBBoxHack(swapIfPossible){var svg=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),oldParent=this.parentNode,oldSibling=this.nextSibling,oldCSS=this.style.cssText,bbox;_docElement.appendChild(svg),svg.appendChild(this),this.style.display="block";if(swapIfPossible)try{bbox=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(e){}else this._gsapBBox&&(bbox=this._gsapBBox());return oldParent&&(oldSibling?oldParent.insertBefore(this,oldSibling):oldParent.appendChild(this)),_docElement.removeChild(svg),this.style.cssText=oldCSS,bbox},_getAttributeFallbacks=function _getAttributeFallbacks(target,attributesArray){var i=attributesArray.length;while(i--)if(target.hasAttribute(attributesArray[i]))return target.getAttribute(attributesArray[i])},_getBBox=function _getBBox(target){var bounds;try{bounds=target.getBBox()}catch(error){bounds=_getBBoxHack.call(target,!0)}return bounds&&(bounds.width||bounds.height)||target.getBBox===_getBBoxHack||(bounds=_getBBoxHack.call(target,!0)),bounds&&!bounds.width&&!bounds.x&&!bounds.y?{x:+_getAttributeFallbacks(target,["x","cx","x1"])||0,y:+_getAttributeFallbacks(target,["y","cy","y1"])||0,width:0,height:0}:bounds},_isSVG=function _isSVG(e){return!(!e.getCTM||!!e.parentNode&&!e.ownerSVGElement||!_getBBox(e))},_removeProperty=function _removeProperty(target,property){if(property){var style=target.style;property in _transformProps&&property!==_transformOriginProp&&(property=_transformProp);if(style.removeProperty){if(property.substr(0,2)==="ms"||property.substr(0,6)==="webkit")property="-"+property;style.removeProperty(property.replace(_capsExp,"-$1").toLowerCase())}else style.removeAttribute(property)}},_addNonTweeningPT=function _addNonTweeningPT(plugin,target,property,beginning,end,onlySetAtEnd){var pt=new PropTween(plugin._pt,target,property,0,1,onlySetAtEnd?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return plugin._pt=pt,pt.b=beginning,pt.e=end,plugin._props.push(property),pt},_nonConvertibleUnits={deg:1,rad:1,turn:1},_convertToUnit=function _convertToUnit(target,property,value,unit){var curValue=parseFloat(value)||0,curUnit=(value+"").trim().substr((curValue+"").length)||"px",style=_tempDiv.style,horizontal=_horizontalExp.test(property),isRootSVG=target.tagName.toLowerCase()==="svg",measureProperty=(isRootSVG?"client":"offset")+(horizontal?"Width":"Height"),amount=100,toPixels=unit==="px",toPercent=unit==="%",px,parent,cache,isSVG;if(unit===curUnit||!curValue||_nonConvertibleUnits[unit]||_nonConvertibleUnits[curUnit])return curValue;curUnit!=="px"&&!toPixels&&(curValue=_convertToUnit(target,property,value,"px")),isSVG=target.getCTM&&_isSVG(target);if(!toPercent&&curUnit!=="%"||!_transformProps[property]&&!~property.indexOf("adius")){style[horizontal?"width":"height"]=amount+(toPixels?curUnit:unit),parent=~property.indexOf("adius")||unit==="em"&&target.appendChild&&!isRootSVG?target:target.parentNode,isSVG&&(parent=(target.ownerSVGElement||{}).parentNode);if(!parent||parent===_doc$1||!parent.appendChild)parent=_doc$1.body;return cache=parent._gsap,cache&&toPercent&&cache.width&&horizontal&&cache.time===_ticker.time?_round(curValue/cache.width*amount):((toPercent||curUnit==="%")&&(style.position=_getComputedProperty(target,"position")),parent===target&&(style.position="static"),parent.appendChild(_tempDiv),px=_tempDiv[measureProperty],parent.removeChild(_tempDiv),style.position="absolute",horizontal&&toPercent&&(cache=_getCache(parent),cache.time=_ticker.time,cache.width=parent[measureProperty]),_round(toPixels?px*curValue/amount:px&&curValue?amount/px*curValue:0))}return px=isSVG?target.getBBox()[horizontal?"width":"height"]:target[measureProperty],_round(toPercent?curValue/px*amount:curValue/100*px)},_get=function _get(target,property,unit,uncache){var value;_pluginInitted||_initCore(),property in _propertyAliases&&property!=="transform"&&(property=_propertyAliases[property],~property.indexOf(",")&&(property=property.split(",")[0]));if(_transformProps[property]&&property!=="transform")value=_parseTransform(target,uncache),value=property!=="transformOrigin"?value[property]:_firstTwoOnly(_getComputedProperty(target,_transformOriginProp))+" "+value.zOrigin+"px";else{value=target.style[property];if(!value||value==="auto"||uncache||~(value+"").indexOf("calc("))value=_specialProps[property]&&_specialProps[property](target,property,unit)||_getComputedProperty(target,property)||_getProperty(target,property)||(property==="opacity"?1:0)}return unit&&!~(value+"").trim().indexOf(" ")?_convertToUnit(target,property,value,unit)+unit:value},_tweenComplexCSSString=function _tweenComplexCSSString(target,prop,start,end){if(!start||start==="none"){var p=_checkPropPrefix(prop,target,1),s=p&&_getComputedProperty(target,p,1);s&&s!==start?(prop=p,start=s):prop==="borderColor"&&(start=_getComputedProperty(target,"borderTopColor"))}var pt=new PropTween(this._pt,target.style,prop,0,1,_renderComplexString),index=0,matchIndex=0,a,result,startValues,startNum,color,startValue,endValue,endNum,chunk,endUnit,startUnit,relative,endValues;pt.b=start,pt.e=end,start+="",end+="",end==="auto"&&(target.style[prop]=end,end=_getComputedProperty(target,prop)||end,target.style[prop]=start),a=[start,end],_colorStringFilter(a),start=a[0],end=a[1],startValues=start.match(_numWithUnitExp)||[],endValues=end.match(_numWithUnitExp)||[];if(endValues.length){while(result=_numWithUnitExp.exec(end)){endValue=result[0],chunk=end.substring(index,result.index);if(color)color=(color+1)%5;else if(chunk.substr(-5)==="rgba("||chunk.substr(-5)==="hsla(")color=1;endValue!==(startValue=startValues[matchIndex++]||"")&&(startNum=parseFloat(startValue)||0,startUnit=startValue.substr((startNum+"").length),relative=endValue.charAt(1)==="="?+(endValue.charAt(0)+"1"):0,relative&&(endValue=endValue.substr(2)),endNum=parseFloat(endValue),endUnit=endValue.substr((endNum+"").length),index=_numWithUnitExp.lastIndex-endUnit.length,endUnit||(endUnit=endUnit||_config.units[prop]||startUnit,index===end.length&&(end+=endUnit,pt.e+=endUnit)),startUnit!==endUnit&&(startNum=_convertToUnit(target,prop,startValue,endUnit)||0),pt._pt={_next:pt._pt,p:chunk||matchIndex===1?chunk:",",s:startNum,c:relative?relative*endNum:endNum-startNum,m:color&&color<4||prop==="zIndex"?Math.round:0})}pt.c=index<end.length?end.substring(index,end.length):""}else pt.r=prop==="display"&&end==="none"?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(end)&&(pt.e=0),this._pt=pt,pt},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function _convertKeywordsToPercentages(value){var split=value.split(" "),x=split[0],y=split[1]||"50%";if(x==="top"||x==="bottom"||y==="left"||y==="right")value=x,x=y,y=value;return split[0]=_keywordToPercent[x]||x,split[1]=_keywordToPercent[y]||y,split.join(" ")},_renderClearProps=function _renderClearProps(ratio,data){if(data.tween&&data.tween._time===data.tween._dur){var target=data.t,style=target.style,props=data.u,cache=target._gsap,prop,clearTransforms,i;if(props==="all"||props===!0)style.cssText="",clearTransforms=1;else{props=props.split(","),i=props.length;while(--i>-1)prop=props[i],_transformProps[prop]&&(clearTransforms=1,prop=prop==="transformOrigin"?_transformOriginProp:_transformProp),_removeProperty(target,prop)}clearTransforms&&(_removeProperty(target,_transformProp),cache&&(cache.svg&&target.removeAttribute("transform"),_parseTransform(target,1),cache.uncache=1))}},_specialProps={clearProps:function clearProps(plugin,target,property,endValue,tween){if(tween.data!=="isFromStart"){var pt=plugin._pt=new PropTween(plugin._pt,target,property,0,0,_renderClearProps);return pt.u=endValue,pt.pr=-10,pt.tween=tween,plugin._props.push(property),1}}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function _isNullTransform(value){return value==="matrix(1, 0, 0, 1, 0, 0)"||value==="none"||!value},_getComputedTransformMatrixAsArray=function _getComputedTransformMatrixAsArray(target){var matrixString=_getComputedProperty(target,_transformProp);return _isNullTransform(matrixString)?_identity2DMatrix:matrixString.substr(7).match(_numExp).map(_round)},_getMatrix=function _getMatrix(target,force2D){var cache=target._gsap||_getCache(target),style=target.style,matrix=_getComputedTransformMatrixAsArray(target),parent,nextSibling,temp,addedToDOM;if(cache.svg&&target.getAttribute("transform"))return temp=target.transform.baseVal.consolidate().matrix,matrix=[temp.a,temp.b,temp.c,temp.d,temp.e,temp.f],matrix.join(",")==="1,0,0,1,0,0"?_identity2DMatrix:matrix;if(matrix===_identity2DMatrix&&!target.offsetParent&&target!==_docElement&&!cache.svg){temp=style.display,style.display="block",parent=target.parentNode;if(!parent||!target.offsetParent)addedToDOM=1,nextSibling=target.nextSibling,_docElement.appendChild(target);matrix=_getComputedTransformMatrixAsArray(target),temp?style.display=temp:_removeProperty(target,"display"),addedToDOM&&(nextSibling?parent.insertBefore(target,nextSibling):parent?parent.appendChild(target):_docElement.removeChild(target))}return force2D&&matrix.length>6?[matrix[0],matrix[1],matrix[4],matrix[5],matrix[12],matrix[13]]:matrix},_applySVGOrigin=function _applySVGOrigin(target,origin,originIsAbsolute,smooth,matrixArray,pluginToAddPropTweensTo){var cache=target._gsap,matrix=matrixArray||_getMatrix(target,!0),xOriginOld=cache.xOrigin||0,yOriginOld=cache.yOrigin||0,xOffsetOld=cache.xOffset||0,yOffsetOld=cache.yOffset||0,a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],tx=matrix[4],ty=matrix[5],originSplit=origin.split(" "),xOrigin=parseFloat(originSplit[0])||0,yOrigin=parseFloat(originSplit[1])||0,bounds,determinant,x,y;originIsAbsolute?matrix!==_identity2DMatrix&&(determinant=a*d-b*c)&&(x=xOrigin*(d/determinant)+yOrigin*(-c/determinant)+(c*ty-d*tx)/determinant,y=xOrigin*(-b/determinant)+yOrigin*(a/determinant)-(a*ty-b*tx)/determinant,xOrigin=x,yOrigin=y):(bounds=_getBBox(target),xOrigin=bounds.x+(~originSplit[0].indexOf("%")?xOrigin/100*bounds.width:xOrigin),yOrigin=bounds.y+(~(originSplit[1]||originSplit[0]).indexOf("%")?yOrigin/100*bounds.height:yOrigin)),smooth||smooth!==!1&&cache.smooth?(tx=xOrigin-xOriginOld,ty=yOrigin-yOriginOld,cache.xOffset=xOffsetOld+(tx*a+ty*c)-tx,cache.yOffset=yOffsetOld+(tx*b+ty*d)-ty):cache.xOffset=cache.yOffset=0,cache.xOrigin=xOrigin,cache.yOrigin=yOrigin,cache.smooth=!!smooth,cache.origin=origin,cache.originIsAbsolute=!!originIsAbsolute,target.style[_transformOriginProp]="0px 0px",pluginToAddPropTweensTo&&(_addNonTweeningPT(pluginToAddPropTweensTo,cache,"xOrigin",xOriginOld,xOrigin),_addNonTweeningPT(pluginToAddPropTweensTo,cache,"yOrigin",yOriginOld,yOrigin),_addNonTweeningPT(pluginToAddPropTweensTo,cache,"xOffset",xOffsetOld,cache.xOffset),_addNonTweeningPT(pluginToAddPropTweensTo,cache,"yOffset",yOffsetOld,cache.yOffset)),target.setAttribute("data-svg-origin",xOrigin+" "+yOrigin)},_parseTransform=function _parseTransform(target,uncache){var cache=target._gsap||new GSCache(target);if("x"in cache&&!uncache&&!cache.uncache)return cache;var style=target.style,invertedScaleX=cache.scaleX<0,px="px",deg="deg",origin=_getComputedProperty(target,_transformOriginProp)||"0",x,y,z,scaleX,scaleY,rotation,rotationX,rotationY,skewX,skewY,perspective,xOrigin,yOrigin,matrix,angle,cos,sin,a,b,c,d,a12,a22,t1,t2,t3,a13,a23,a33,a42,a43,a32;x=y=z=rotation=rotationX=rotationY=skewX=skewY=perspective=0,scaleX=scaleY=1,cache.svg=!!target.getCTM&&!!_isSVG(target),matrix=_getMatrix(target,cache.svg),cache.svg&&(t1=!cache.uncache&&!uncache&&target.getAttribute("data-svg-origin"),_applySVGOrigin(target,t1||origin,!!t1||cache.originIsAbsolute,cache.smooth!==!1,matrix)),xOrigin=cache.xOrigin||0,yOrigin=cache.yOrigin||0,matrix!==_identity2DMatrix&&(a=matrix[0],b=matrix[1],c=matrix[2],d=matrix[3],x=a12=matrix[4],y=a22=matrix[5],matrix.length===6?(scaleX=Math.sqrt(a*a+b*b),scaleY=Math.sqrt(d*d+c*c),rotation=a||b?_atan2(b,a)*_RAD2DEG:0,skewX=c||d?_atan2(c,d)*_RAD2DEG+rotation:0,skewX&&(scaleY*=Math.abs(Math.cos(skewX*_DEG2RAD))),cache.svg&&(x-=xOrigin-(xOrigin*a+yOrigin*c),y-=yOrigin-(xOrigin*b+yOrigin*d))):(a32=matrix[6],a42=matrix[7],a13=matrix[8],a23=matrix[9],a33=matrix[10],a43=matrix[11],x=matrix[12],y=matrix[13],z=matrix[14],angle=_atan2(a32,a33),rotationX=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a12*cos+a13*sin,t2=a22*cos+a23*sin,t3=a32*cos+a33*sin,a13=a12*-sin+a13*cos,a23=a22*-sin+a23*cos,a33=a32*-sin+a33*cos,a43=a42*-sin+a43*cos,a12=t1,a22=t2,a32=t3),angle=_atan2(-c,a33),rotationY=angle*_RAD2DEG,angle&&(cos=Math.cos(-angle),sin=Math.sin(-angle),t1=a*cos-a13*sin,t2=b*cos-a23*sin,t3=c*cos-a33*sin,a43=d*sin+a43*cos,a=t1,b=t2,c=t3),angle=_atan2(b,a),rotation=angle*_RAD2DEG,angle&&(cos=Math.cos(angle),sin=Math.sin(angle),t1=a*cos+b*sin,t2=a12*cos+a22*sin,b=b*cos-a*sin,a22=a22*cos-a12*sin,a=t1,a12=t2),rotationX&&Math.abs(rotationX)+Math.abs(rotation)>359.9&&(rotationX=rotation=0,rotationY=180-rotationY),scaleX=_round(Math.sqrt(a*a+b*b+c*c)),scaleY=_round(Math.sqrt(a22*a22+a32*a32)),angle=_atan2(a12,a22),skewX=Math.abs(angle)>2e-4?angle*_RAD2DEG:0,perspective=a43?1/(a43<0?-a43:a43):0),cache.svg&&(t1=target.getAttribute("transform"),cache.forceCSS=target.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(target,_transformProp)),t1&&target.setAttribute("transform",t1))),Math.abs(skewX)>90&&Math.abs(skewX)<270&&(invertedScaleX?(scaleX*=-1,skewX+=rotation<=0?180:-180,rotation+=rotation<=0?180:-180):(scaleY*=-1,skewX+=skewX<=0?180:-180)),cache.x=x-((cache.xPercent=x&&(cache.xPercent||(Math.round(target.offsetWidth/2)===Math.round(-x)?-50:0)))?target.offsetWidth*cache.xPercent/100:0)+px,cache.y=y-((cache.yPercent=y&&(cache.yPercent||(Math.round(target.offsetHeight/2)===Math.round(-y)?-50:0)))?target.offsetHeight*cache.yPercent/100:0)+px,cache.z=z+px,cache.scaleX=_round(scaleX),cache.scaleY=_round(scaleY),cache.rotation=_round(rotation)+deg,cache.rotationX=_round(rotationX)+deg,cache.rotationY=_round(rotationY)+deg,cache.skewX=skewX+deg,cache.skewY=skewY+deg,cache.transformPerspective=perspective+px;if(cache.zOrigin=parseFloat(origin.split(" ")[2])||0)style[_transformOriginProp]=_firstTwoOnly(origin);return cache.xOffset=cache.yOffset=0,cache.force3D=_config.force3D,cache.renderTransform=cache.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,cache.uncache=0,cache},_firstTwoOnly=function _firstTwoOnly(value){return(value=value.split(" "))[0]+" "+value[1]},_addPxTranslate=function _addPxTranslate(target,start,value){var unit=getUnit(start);return _round(parseFloat(start)+parseFloat(_convertToUnit(target,"x",value+"px",unit)))+unit},_renderNon3DTransforms=function _renderNon3DTransforms(ratio,cache){cache.z="0px",cache.rotationY=cache.rotationX="0deg",cache.force3D=0,_renderCSSTransforms(ratio,cache)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function _renderCSSTransforms(ratio,cache){var _ref=cache||this,xPercent=_ref.xPercent,yPercent=_ref.yPercent,x=_ref.x,y=_ref.y,z=_ref.z,rotation=_ref.rotation,rotationY=_ref.rotationY,rotationX=_ref.rotationX,skewX=_ref.skewX,skewY=_ref.skewY,scaleX=_ref.scaleX,scaleY=_ref.scaleY,transformPerspective=_ref.transformPerspective,force3D=_ref.force3D,target=_ref.target,zOrigin=_ref.zOrigin,transforms="",use3D=force3D==="auto"&&ratio&&ratio!==1||force3D===!0;if(zOrigin&&(rotationX!==_zeroDeg||rotationY!==_zeroDeg)){var angle=parseFloat(rotationY)*_DEG2RAD,a13=Math.sin(angle),a33=Math.cos(angle),cos;angle=parseFloat(rotationX)*_DEG2RAD,cos=Math.cos(angle),x=_addPxTranslate(target,x,a13*cos*-zOrigin),y=_addPxTranslate(target,y,-Math.sin(angle)*-zOrigin),z=_addPxTranslate(target,z,a33*cos*-zOrigin+zOrigin)}transformPerspective!==_zeroPx&&(transforms+="perspective("+transformPerspective+_endParenthesis);if(xPercent||yPercent)transforms+="translate("+xPercent+"%, "+yPercent+"%) ";if(use3D||x!==_zeroPx||y!==_zeroPx||z!==_zeroPx)transforms+=z!==_zeroPx||use3D?"translate3d("+x+", "+y+", "+z+") ":"translate("+x+", "+y+_endParenthesis;rotation!==_zeroDeg&&(transforms+="rotate("+rotation+_endParenthesis),rotationY!==_zeroDeg&&(transforms+="rotateY("+rotationY+_endParenthesis),rotationX!==_zeroDeg&&(transforms+="rotateX("+rotationX+_endParenthesis);if(skewX!==_zeroDeg||skewY!==_zeroDeg)transforms+="skew("+skewX+", "+skewY+_endParenthesis;if(scaleX!==1||scaleY!==1)transforms+="scale("+scaleX+", "+scaleY+_endParenthesis;target.style[_transformProp]=transforms||"translate(0, 0)"},_renderSVGTransforms=function _renderSVGTransforms(ratio,cache){var _ref2=cache||this,xPercent=_ref2.xPercent,yPercent=_ref2.yPercent,x=_ref2.x,y=_ref2.y,rotation=_ref2.rotation,skewX=_ref2.skewX,skewY=_ref2.skewY,scaleX=_ref2.scaleX,scaleY=_ref2.scaleY,target=_ref2.target,xOrigin=_ref2.xOrigin,yOrigin=_ref2.yOrigin,xOffset=_ref2.xOffset,yOffset=_ref2.yOffset,forceCSS=_ref2.forceCSS,tx=parseFloat(x),ty=parseFloat(y),a11,a21,a12,a22,temp;rotation=parseFloat(rotation),skewX=parseFloat(skewX),skewY=parseFloat(skewY),skewY&&(skewY=parseFloat(skewY),skewX+=skewY,rotation+=skewY),rotation||skewX?(rotation*=_DEG2RAD,skewX*=_DEG2RAD,a11=Math.cos(rotation)*scaleX,a21=Math.sin(rotation)*scaleX,a12=Math.sin(rotation-skewX)*-scaleY,a22=Math.cos(rotation-skewX)*scaleY,skewX&&(skewY*=_DEG2RAD,temp=Math.tan(skewX-skewY),temp=Math.sqrt(1+temp*temp),a12*=temp,a22*=temp,skewY&&(temp=Math.tan(skewY),temp=Math.sqrt(1+temp*temp),a11*=temp,a21*=temp)),a11=_round(a11),a21=_round(a21),a12=_round(a12),a22=_round(a22)):(a11=scaleX,a22=scaleY,a21=a12=0);if(tx&&!~(x+"").indexOf("px")||ty&&!~(y+"").indexOf("px"))tx=_convertToUnit(target,"x",x,"px"),ty=_convertToUnit(target,"y",y,"px");if(xOrigin||yOrigin||xOffset||yOffset)tx=_round(tx+xOrigin-(xOrigin*a11+yOrigin*a12)+xOffset),ty=_round(ty+yOrigin-(xOrigin*a21+yOrigin*a22)+yOffset);if(xPercent||yPercent)temp=target.getBBox(),tx=_round(tx+xPercent/100*temp.width),ty=_round(ty+yPercent/100*temp.height);temp="matrix("+a11+","+a21+","+a12+","+a22+","+tx+","+ty+")",target.setAttribute("transform",temp),forceCSS&&(target.style[_transformProp]=temp)},_addRotationalPropTween=function _addRotationalPropTween(plugin,target,property,startNum,endValue,relative){var cap=360,isString=_isString(endValue),endNum=parseFloat(endValue)*(isString&&~endValue.indexOf("rad")?_RAD2DEG:1),change=relative?endNum*relative:endNum-startNum,finalValue=startNum+change+"deg",direction,pt;return isString&&(direction=endValue.split("_")[1],direction==="short"&&(change%=cap,change!==change%(cap/2)&&(change+=change<0?cap:-cap)),direction==="cw"&&change<0?change=(change+cap*_bigNum$1)%cap-~~(change/cap)*cap:direction==="ccw"&&change>0&&(change=(change-cap*_bigNum$1)%cap-~~(change/cap)*cap)),plugin._pt=pt=new PropTween(plugin._pt,target,property,startNum,change,_renderPropWithEnd),pt.e=finalValue,pt.u="deg",plugin._props.push(property),pt},_assign=function _assign(target,source){for(var p in source)target[p]=source[p];return target},_addRawTransformPTs=function _addRawTransformPTs(plugin,transforms,target){var startCache=_assign({},target._gsap),exclude="perspective,force3D,transformOrigin,svgOrigin",style=target.style,endCache,p,startValue,endValue,startNum,endNum,startUnit,endUnit;startCache.svg?(startValue=target.getAttribute("transform"),target.setAttribute("transform",""),style[_transformProp]=transforms,endCache=_parseTransform(target,1),_removeProperty(target,_transformProp),target.setAttribute("transform",startValue)):(startValue=getComputedStyle(target)[_transformProp],style[_transformProp]=transforms,endCache=_parseTransform(target,1),style[_transformProp]=startValue);for(p in _transformProps)startValue=startCache[p],endValue=endCache[p],startValue!==endValue&&exclude.indexOf(p)<0&&(startUnit=getUnit(startValue),endUnit=getUnit(endValue),startNum=startUnit!==endUnit?_convertToUnit(target,p,startValue,endUnit):parseFloat(startValue),endNum=parseFloat(endValue),plugin._pt=new PropTween(plugin._pt,endCache,p,startNum,endNum-startNum,_renderCSSProp),plugin._pt.u=endUnit||0,plugin._props.push(p));_assign(endCache,startCache)};_forEachName("padding,margin,Width,Radius",function(name,index){var t="Top",r="Right",b="Bottom",l="Left",props=(index<3?[t,r,b,l]:[t+l,t+r,b+r,b+l]).map(function(side){return index<2?name+side:"border"+side+name});_specialProps[index>1?"border"+name:name]=function(plugin,target,property,endValue,tween){var a,vars;if(arguments.length<4)return a=props.map(function(prop){return _get(plugin,prop,property)}),vars=a.join(" "),vars.split(a[0]).length===5?a[0]:vars;a=(endValue+"").split(" "),vars={},props.forEach(function(prop,i){return vars[prop]=a[i]=a[i]||a[(i-1)/2|0]}),plugin.init(target,vars,tween)}});var CSSPlugin={name:"css",register:_initCore,targetTest:function targetTest(target){return target.style&&target.nodeType},init:function init(target,vars,tween,index,targets){var props=this._props,style=target.style,startAt=tween.vars.startAt,startValue,endValue,endNum,startNum,type,specialProp,p,startUnit,endUnit,relative,isTransformRelated,transformPropTween,cache,smooth,hasPriority;_pluginInitted||_initCore();for(p in vars){if(p==="autoRound")continue;endValue=vars[p];if(_plugins[p]&&_checkPlugin(p,vars,tween,index,target,targets))continue;type=typeof endValue,specialProp=_specialProps[p],type==="function"&&(endValue=endValue.call(tween,index,target,targets),type=typeof endValue),type==="string"&&~endValue.indexOf("random(")&&(endValue=_replaceRandom(endValue));if(specialProp)specialProp(this,target,p,endValue,tween)&&(hasPriority=1);else if(p.substr(0,2)==="--")startValue=(getComputedStyle(target).getPropertyValue(p)+"").trim(),endValue+="",_colorExp.lastIndex=0,_colorExp.test(startValue)||(startUnit=getUnit(startValue),endUnit=getUnit(endValue)),endUnit?startUnit!==endUnit&&(startValue=_convertToUnit(target,p,startValue,endUnit)+endUnit):startUnit&&(endValue+=startUnit),this.add(style,"setProperty",startValue,endValue,index,targets,0,0,p);else if(type!=="undefined"){startAt&&p in startAt?(startValue=typeof startAt[p]=="function"?startAt[p].call(tween,index,target,targets):startAt[p],p in _config.units&&!getUnit(startValue)&&(startValue+=_config.units[p]),(startValue+"").charAt(1)==="="&&(startValue=_get(target,p))):startValue=_get(target,p),startNum=parseFloat(startValue),relative=type==="string"&&endValue.charAt(1)==="="?+(endValue.charAt(0)+"1"):0,relative&&(endValue=endValue.substr(2)),endNum=parseFloat(endValue),p in _propertyAliases&&(p==="autoAlpha"&&(startNum===1&&_get(target,"visibility")==="hidden"&&endNum&&(startNum=0),_addNonTweeningPT(this,style,"visibility",startNum?"inherit":"hidden",endNum?"inherit":"hidden",!endNum)),p!=="scale"&&p!=="transform"&&(p=_propertyAliases[p],~p.indexOf(",")&&(p=p.split(",")[0]))),isTransformRelated=p in _transformProps;if(isTransformRelated){transformPropTween||(cache=target._gsap,cache.renderTransform&&!vars.parseTransform||_parseTransform(target,vars.parseTransform),smooth=vars.smoothOrigin!==!1&&cache.smooth,transformPropTween=this._pt=new PropTween(this._pt,style,_transformProp,0,1,cache.renderTransform,cache,0,-1),transformPropTween.dep=1);if(p==="scale")this._pt=new PropTween(this._pt,cache,"scaleY",cache.scaleY,relative?relative*endNum:endNum-cache.scaleY),props.push("scaleY",p),p+="X";else{if(p==="transformOrigin"){endValue=_convertKeywordsToPercentages(endValue),cache.svg?_applySVGOrigin(target,endValue,0,smooth,0,this):(endUnit=parseFloat(endValue.split(" ")[2])||0,endUnit!==cache.zOrigin&&_addNonTweeningPT(this,cache,"zOrigin",cache.zOrigin,endUnit),_addNonTweeningPT(this,style,p,_firstTwoOnly(startValue),_firstTwoOnly(endValue)));continue}if(p==="svgOrigin"){_applySVGOrigin(target,endValue,1,smooth,0,this);continue}if(p in _rotationalProperties){_addRotationalPropTween(this,cache,p,startNum,endValue,relative);continue}if(p==="smoothOrigin"){_addNonTweeningPT(this,cache,"smooth",cache.smooth,endValue);continue}if(p==="force3D"){cache[p]=endValue;continue}if(p==="transform"){_addRawTransformPTs(this,endValue,target);continue}}}else p in style||(p=_checkPropPrefix(p)||p);if(isTransformRelated||(endNum||endNum===0)&&(startNum||startNum===0)&&!_complexExp.test(endValue)&&p in style)startUnit=(startValue+"").substr((startNum+"").length),endNum||(endNum=0),endUnit=getUnit(endValue)||(p in _config.units?_config.units[p]:startUnit),startUnit!==endUnit&&(startNum=_convertToUnit(target,p,startValue,endUnit)),this._pt=new PropTween(this._pt,isTransformRelated?cache:style,p,startNum,relative?relative*endNum:endNum-startNum,!!isTransformRelated||endUnit!=="px"&&p!=="zIndex"||vars.autoRound===!1?_renderCSSProp:_renderRoundedCSSProp),this._pt.u=endUnit||0,startUnit!==endUnit&&(this._pt.b=startValue,this._pt.r=_renderCSSPropWithBeginning);else if(p in style)_tweenComplexCSSString.call(this,target,p,startValue,endValue);else{if(!(p in target)){_missingPlugin(p,endValue);continue}this.add(target,p,target[p],endValue,index,targets)}props.push(p)}}hasPriority&&_sortPropTweensByPriority(this)},get:_get,aliases:_propertyAliases,getSetter:function getSetter(target,property,plugin){var p=_propertyAliases[property];return p&&p.indexOf(",")<0&&(property=p),property in _transformProps&&property!==_transformOriginProp&&(target._gsap.x||_get(target,"x"))?plugin&&_recentSetterPlugin===plugin?property==="scale"?_setterScale:_setterTransform:(_recentSetterPlugin=plugin||{})&&(property==="scale"?_setterScaleWithRender:_setterTransformWithRender):target.style&&!_isUndefined(target.style[property])?_setterCSSStyle:~property.indexOf("-")?_setterCSSProp:_getSetter(target,property)},core:{_removeProperty:_removeProperty,_getMatrix:_getMatrix}};gsap.utils.checkPrefix=_checkPropPrefix,function(positionAndScale,rotation,others,aliases){var all=_forEachName(positionAndScale+","+rotation+","+others,function(name){_transformProps[name]=1});_forEachName(rotation,function(name){_config.units[name]="deg",_rotationalProperties[name]=1}),_propertyAliases[all[13]]=positionAndScale+","+rotation,_forEachName(aliases,function(name){var split=name.split(":");_propertyAliases[split[1]]=all[split[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(name){_config.units[name]="px"}),gsap.registerPlugin(CSSPlugin);var gsapWithCSS=gsap.registerPlugin(CSSPlugin)||gsap,TweenMaxWithCSS=gsapWithCSS.core.Tween;exports.Back=Back,exports.Bounce=Bounce,exports.CSSPlugin=CSSPlugin,exports.Circ=Circ,exports.Cubic=Cubic,exports.Elastic=Elastic,exports.Expo=Expo,exports.Linear=Linear,exports.Power0=Power0,exports.Power1=Power1,exports.Power2=Power2,exports.Power3=Power3,exports.Power4=Power4,exports.Quad=Quad,exports.Quart=Quart,exports.Quint=Quint,exports.Sine=Sine,exports.SteppedEase=SteppedEase,exports.Strong=Strong,exports.TimelineLite=Timeline,exports.TimelineMax=Timeline,exports.TweenLite=Tween,exports.TweenMax=TweenMaxWithCSS,exports.default=gsapWithCSS,exports.gsap=gsapWithCSS,typeof window=="undefined"||window!==exports?Object.defineProperty(exports,"__esModule",{value:!0}):delete window.default}),function(window,$){"use strict";function testLineDimensions($line,maxWidth,property,size,interval,units,previousWidth){var width;previousWidth=typeof previousWidth=="number"?previousWidth:0,$line.css(property,size+units),width=$line.width();if(width>=maxWidth){$line.css(property,"");if(width===maxWidth)return{match:"exact",size:parseFloat((parseFloat(size)-.1).toFixed(3))};var under=maxWidth-previousWidth,over=width-maxWidth;return{match:"estimate",size:parseFloat((parseFloat(size)-(property==="word-spacing"&&previousWidth&&over<under?0:interval)).toFixed(3))}}return width}function calculateSizes($t,$children,maxWidth,maxFontSize,minFontSize){var $c=$t.clone(!0).addClass("bigtext-cloned").css({fontFamily:$t.css("font-family"),textTransform:$t.css("text-transform"),wordSpacing:$t.css("word-spacing"),letterSpacing:$t.css("letter-spacing"),position:"absolute",left:BigText.DEBUG_MODE?0:-9999,top:BigText.DEBUG_MODE?0:-9999}).appendTo(document.body),fontSizes=[],wordSpacings=[],minFontSizes=[],ratios=[];return $children.css("float","left").each(function(){var $line=$(this),intervals=BigText.supports.wholeNumberFontSizeOnly?[8,4,1]:[8,4,1,.1],lineMax,newFontSize;if($line.hasClass(BigText.EXEMPT_CLASS)){fontSizes.push(null),ratios.push(null),minFontSizes.push(!1);return}var autoGuessSubtraction=32,currentFontSize=parseFloat($line.css("font-size")),ratio=($line.width()/currentFontSize).toFixed(6);newFontSize=parseInt(maxWidth/ratio,10)-autoGuessSubtraction;e:for(var m=0,n=intervals.length;m<n;m++)t:for(var j=1,k=10;j<=k;j++){if(newFontSize+j*intervals[m]>maxFontSize){newFontSize=maxFontSize;break e}lineMax=testLineDimensions($line,maxWidth,"font-size",newFontSize+j*intervals[m],intervals[m],"px",lineMax);if(typeof lineMax!="number"){newFontSize=lineMax.size;if(lineMax.match==="exact")break e;break t}}ratios.push(maxWidth/newFontSize),newFontSize>maxFontSize?(fontSizes.push(maxFontSize),minFontSizes.push(!1)):!!minFontSize&&newFontSize<minFontSize?(fontSizes.push(minFontSize),minFontSizes.push(!0)):(fontSizes.push(newFontSize),minFontSizes.push(!1))}).each(function(lineNumber){var $line=$(this),wordSpacing=0,interval=1,maxWordSpacing;if($line.hasClass(BigText.EXEMPT_CLASS)){wordSpacings.push(null);return}$line.css("font-size",fontSizes[lineNumber]+"px");for(var m=1,n=3;m<n;m+=interval){maxWordSpacing=testLineDimensions($line,maxWidth,"word-spacing",m,interval,"px",maxWordSpacing);if(typeof maxWordSpacing!="number"){wordSpacing=maxWordSpacing.size;break}}$line.css("font-size",""),wordSpacings.push(wordSpacing)}).removeAttr("style"),BigText.DEBUG_MODE?$c.css({"background-color":"rgba(255,255,255,.4)"}):$c.remove(),{fontSizes:fontSizes,wordSpacings:wordSpacings,ratios:ratios,minFontSizes:minFontSizes}}var counter=0,$headCache=$("head"),oldBigText=window.BigText,oldjQueryMethod=$.fn.bigtext,BigText={DEBUG_MODE:!1,DEFAULT_MIN_FONT_SIZE_PX:null,DEFAULT_MAX_FONT_SIZE_PX:528,GLOBAL_STYLE_ID:"bigtext-style",STYLE_ID:"bigtext-id",LINE_CLASS_PREFIX:"bigtext-line",EXEMPT_CLASS:"bigtext-exempt",noConflict:function(restore){return restore&&($.fn.bigtext=oldjQueryMethod,window.BigText=oldBigText),BigText},supports:{wholeNumberFontSizeOnly:function(){if("getComputedStyle"in window){var test=$("<div/>").css({position:"absolute","font-size":"14.1px"}).insertBefore($("script").eq(0)),computedStyle=window.getComputedStyle(test[0],null),ret=computedStyle&&computedStyle.getPropertyValue("font-size")==="14px";return test.remove(),ret}return!0}()},init:function(){$("#"+BigText.GLOBAL_STYLE_ID).length||$headCache.append(BigText.generateStyleTag(BigText.GLOBAL_STYLE_ID,[".bigtext * { white-space: nowrap; } .bigtext > * { display: block; }",".bigtext ."+BigText.EXEMPT_CLASS+", .bigtext ."+BigText.EXEMPT_CLASS+" * { white-space: normal; }"]))},bindResize:function(eventName,resizeFunction){var timeoutId;$(window).unbind(eventName).bind(eventName,function(){timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout(resizeFunction,300)})},getStyleId:function(id){return BigText.STYLE_ID+"-"+id},generateStyleTag:function(id,css){return $("<style>"+css.join("\n")+"</style>").attr("id",id)},clearCss:function(id){var styleId=BigText.getStyleId(id);$("#"+styleId).remove()},generateCss:function(id,linesFontSizes,lineWordSpacings,minFontSizes){var css=[];BigText.clearCss(id);for(var j=0,k=linesFontSizes.length;j<k;j++)css.push("#"+id+" ."+BigText.LINE_CLASS_PREFIX+j+" {"+(minFontSizes[j]?" white-space: normal;":"")+(linesFontSizes[j]?" font-size: "+linesFontSizes[j]+"px;":"")+(lineWordSpacings[j]?" word-spacing: "+lineWordSpacings[j]+"px;":"")+"}");return BigText.generateStyleTag(BigText.getStyleId(id),css)},jQueryMethod:function(options){return BigText.init(),options=$.extend({minfontsize:BigText.DEFAULT_MIN_FONT_SIZE_PX,maxfontsize:BigText.DEFAULT_MAX_FONT_SIZE_PX,childSelector:"",resize:!0},options||{}),this.each(function(){var $t=$(this).addClass("bigtext"),maxWidth=$t.width(),id=$t.attr("id"),$children=options.childSelector?$t.find(options.childSelector):$t.children();id||(id="bigtext-id"+counter++,$t.attr("id",id)),options.resize&&BigText.bindResize("resize.bigtext-event-"+id,function(){BigText.jQueryMethod.call($("#"+id),options)}),BigText.clearCss(id),$children.addClass(function(lineNumber,className){return[className.replace(new RegExp("\\b"+BigText.LINE_CLASS_PREFIX+"\\d+\\b"),""),BigText.LINE_CLASS_PREFIX+lineNumber].join(" ")});var sizes=calculateSizes($t,$children,maxWidth,options.maxfontsize,options.minfontsize);$headCache.append(BigText.generateCss(id,sizes.fontSizes,sizes.wordSpacings,sizes.minFontSizes))}),this.trigger("bigtext:complete")}};$.fn.bigtext=BigText.jQueryMethod,window.BigText=BigText}(this,jQuery),function(window,factory){typeof define=="function"&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(jQuery){return factory(window,jQuery)}):typeof module=="object"&&module.exports?module.exports=factory(window,require("jquery")):window.jQueryBridget=factory(window,window.jQuery)}(window,function factory(window,jQuery){"use strict";function jQueryBridget(namespace,PluginClass,$){function methodCall($elems,methodName,args){var returnValue,pluginMethodStr="$()."+namespace+'("'+methodName+'")';return $elems.each(function(i,elem){var instance=$.data(elem,namespace);if(!instance){logError(namespace+" not initialized. Cannot call methods, i.e. "+pluginMethodStr);return}var method=instance[methodName];if(!method||methodName.charAt(0)=="_"){logError(pluginMethodStr+" is not a valid method");return}var value=method.apply(instance,args);returnValue=returnValue===undefined?value:returnValue}),returnValue!==undefined?returnValue:$elems}function plainCall($elems,options){$elems.each(function(i,elem){var instance=$.data(elem,namespace);instance?(instance.option(options),instance._init()):(instance=new PluginClass(elem,options),$.data(elem,namespace,instance))})}$=$||jQuery||window.jQuery;if(!$)return;PluginClass.prototype.option||(PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts))return;this.options=$.extend(!0,this.options,opts)}),$.fn[namespace]=function(arg0){if(typeof arg0=="string"){var args=arraySlice.call(arguments,1);return methodCall(this,arg0,args)}return plainCall(this,arg0),this},updateJQuery($)}function updateJQuery($){if(!$||$&&$.bridget)return;$.bridget=jQueryBridget}var arraySlice=Array.prototype.slice,console=window.console,logError=typeof console=="undefined"?function(){}:function(message){console.error(message)};return updateJQuery(jQuery||window.jQuery),jQueryBridget}),function(global,factory){typeof define=="function"&&define.amd?define("ev-emitter/ev-emitter",factory):typeof module=="object"&&module.exports?module.exports=factory():global.EvEmitter=factory()}(typeof window!="undefined"?window:this,function(){function EvEmitter(){}var proto=EvEmitter.prototype;return proto.on=function(eventName,listener){if(!eventName||!listener)return;var events=this._events=this._events||{},listeners=events[eventName]=events[eventName]||[];return listeners.indexOf(listener)==-1&&listeners.push(listener),this},proto.once=function(eventName,listener){if(!eventName||!listener)return;this.on(eventName,listener);var onceEvents=this._onceEvents=this._onceEvents||{},onceListeners=onceEvents[eventName]=onceEvents[eventName]||{};return onceListeners[listener]=!0,this},proto.off=function(eventName,listener){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length)return;var index=listeners.indexOf(listener);return index!=-1&&listeners.splice(index,1),this},proto.emitEvent=function(eventName,args){var listeners=this._events&&this._events[eventName];if(!listeners||!listeners.length)return;listeners=listeners.slice(0),args=args||[];var onceListeners=this._onceEvents&&this._onceEvents[eventName];for(var i=0;i<listeners.length;i++){var listener=listeners[i],isOnce=onceListeners&&onceListeners[listener];isOnce&&(this.off(eventName,listener),delete onceListeners[listener]),listener.apply(this,args)}return this},proto.allOff=function(){delete this._events,delete this._onceEvents},EvEmitter}),function(window,factory){typeof define=="function"&&define.amd?define("get-size/get-size",factory):typeof module=="object"&&module.exports?module.exports=factory():window.getSize=factory()}(window,function factory(){"use strict";function getStyleSize(value){var num=parseFloat(value),isValid=value.indexOf("%")==-1&&!isNaN(num);return isValid&&num}function noop(){}function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0;i<measurementsLength;i++){var measurement=measurements[i];size[measurement]=0}return size}function getStyle(elem){var style=getComputedStyle(elem);return style||logError("Style returned "+style+". Are you running this code in a hidden iframe on Firefox? "+"See https://bit.ly/getsizebug1"),style}function setup(){if(isSetup)return;isSetup=!0;var div=document.createElement("div");div.style.width="200px",div.style.padding="1px 2px 3px 4px",div.style.borderStyle="solid",div.style.borderWidth="1px 2px 3px 4px",div.style.boxSizing="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=Math.round(getStyleSize(style.width))==200,getSize.isBoxSizeOuter=isBoxSizeOuter,body.removeChild(div)}function getSize(elem){setup(),typeof elem=="string"&&(elem=document.querySelector(elem));if(!elem||typeof elem!="object"||!elem.nodeType)return;var style=getStyle(elem);if(style.display=="none")return getZeroSize();var size={};size.width=elem.offsetWidth,size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=style.boxSizing=="border-box";for(var i=0;i<measurementsLength;i++){var measurement=measurements[i],value=style[measurement],num=parseFloat(value);size[measurement]=isNaN(num)?0:num}var paddingWidth=size.paddingLeft+size.paddingRight,paddingHeight=size.paddingTop+size.paddingBottom,marginWidth=size.marginLeft+size.marginRight,marginHeight=size.marginTop+size.marginBottom,borderWidth=size.borderLeftWidth+size.borderRightWidth,borderHeight=size.borderTopWidth+size.borderBottomWidth,isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter,styleWidth=getStyleSize(style.width);styleWidth!==!1&&(size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth));var styleHeight=getStyleSize(style.height);return styleHeight!==!1&&(size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)),size.innerWidth=size.width-(paddingWidth+borderWidth),size.innerHeight=size.height-(paddingHeight+borderHeight),size.outerWidth=size.width+marginWidth,size.outerHeight=size.height+marginHeight,size}var logError=typeof console=="undefined"?noop:function(message){console.error(message)},measurements=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],measurementsLength=measurements.length,isSetup=!1,isBoxSizeOuter;return getSize}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("desandro-matches-selector/matches-selector",factory):typeof module=="object"&&module.exports?module.exports=factory():window.matchesSelector=factory()}(window,function factory(){"use strict";var matchesMethod=function(){var ElemProto=window.Element.prototype;if(ElemProto.matches)return"matches";if(ElemProto.matchesSelector)return"matchesSelector";var prefixes=["webkit","moz","ms","o"];for(var i=0;i<prefixes.length;i++){var prefix=prefixes[i],method=prefix+"MatchesSelector";if(ElemProto[method])return method}}();return function matchesSelector(elem,selector){return elem[matchesMethod](selector)}}),function(window,factory){typeof define=="function"&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(matchesSelector){return factory(window,matchesSelector)}):typeof module=="object"&&module.exports?module.exports=factory(window,require("desandro-matches-selector")):window.fizzyUIUtils=factory(window,window.matchesSelector)}(window,function factory(window,matchesSelector){var utils={};utils.extend=function(a,b){for(var prop in b)a[prop]=b[prop];return a},utils.modulo=function(num,div){return(num%div+div)%div};var arraySlice=Array.prototype.slice;utils.makeArray=function(obj){if(Array.isArray(obj))return obj;if(obj===null||obj===undefined)return[];var isArrayLike=typeof obj=="object"&&typeof obj.length=="number";return isArrayLike?arraySlice.call(obj):[obj]},utils.removeFrom=function(ary,obj){var index=ary.indexOf(obj);index!=-1&&ary.splice(index,1)},utils.getParent=function(elem,selector){while(elem.parentNode&&elem!=document.body){elem=elem.parentNode;if(matchesSelector(elem,selector))return elem}},utils.getQueryElement=function(elem){return typeof elem=="string"?document.querySelector(elem):elem},utils.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},utils.filterFindElements=function(elems,selector){elems=utils.makeArray(elems);var ffElems=[];return elems.forEach(function(elem){if(!(elem instanceof HTMLElement)&&!SiteParameters.is_frontend_editor)return;if(!selector){ffElems.push(elem);return}matchesSelector(elem,selector)&&ffElems.push(elem);var childElems=elem.querySelectorAll(selector);for(var i=0;i<childElems.length;i++)ffElems.push(childElems[i])}),ffElems},utils.debounceMethod=function(_class,methodName,threshold){threshold=threshold||100;var method=_class.prototype[methodName],timeoutName=methodName+"Timeout";_class.prototype[methodName]=function(){var timeout=this[timeoutName];clearTimeout(timeout);var args=arguments,_this=this;this[timeoutName]=setTimeout(function(){method.apply(_this,args),delete _this[timeoutName]},threshold)}},utils.docReady=function(callback){var readyState=document.readyState;readyState=="complete"||readyState=="interactive"?setTimeout(callback):document.addEventListener("DOMContentLoaded",callback)},utils.toDashed=function(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()};var console=window.console;return utils.htmlInit=function(WidgetClass,namespace){utils.docReady(function(){var dashedNamespace=utils.toDashed(namespace),dataAttr="data-"+dashedNamespace,dataAttrElems=document.querySelectorAll("["+dataAttr+"]"),jsDashElems=document.querySelectorAll(".js-"+dashedNamespace),elems=utils.makeArray(dataAttrElems).concat(utils.makeArray(jsDashElems)),dataOptionsAttr=dataAttr+"-options",jQuery=window.jQuery;elems.forEach(function(elem){var attr=elem.getAttribute(dataAttr)||elem.getAttribute(dataOptionsAttr),options;try{options=attr&&JSON.parse(attr)}catch(error){console&&console.error("Error parsing "+dataAttr+" on "+elem.className+": "+error);return}var instance=new WidgetClass(elem,options);jQuery&&jQuery.data(elem,namespace,instance)})})},utils}),function(window,factory){typeof define=="function"&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("ev-emitter"),require("get-size")):(window.Outlayer={},window.Outlayer.Item=factory(window.EvEmitter,window.getSize))}(window,function factory(EvEmitter,getSize){"use strict";function isEmptyObj(obj){for(var prop in obj)return!1;return prop=null,!0}function Item(element,layout){if(!element)return;this.element=element,this.layout=layout,this.position={x:0,y:0},this._create()}function toDashedAll(str){return str.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}var docElemStyle=document.documentElement.style,transitionProperty=typeof docElemStyle.transition=="string"?"transition":"WebkitTransition",transformProperty=typeof docElemStyle.transform=="string"?"transform":"WebkitTransform",transitionEndEvent={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[transitionProperty],vendorProperties={transform:transformProperty,transition:transitionProperty,transitionDuration:transitionProperty+"Duration",transitionProperty:transitionProperty+"Property",transitionDelay:transitionProperty+"Delay"},proto=Item.prototype=Object.create(EvEmitter.prototype);proto.constructor=Item,proto._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},proto.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},proto.getSize=function(){this.size=getSize(this.element)},proto.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop]}},proto.getPosition=function(){var style=getComputedStyle(this.element),isOriginLeft=this.layout._getOption("originLeft"),isOriginTop=this.layout._getOption("originTop"),xValue=style[isOriginLeft?"left":"right"],yValue=style[isOriginTop?"top":"bottom"],x=parseFloat(xValue),y=parseFloat(yValue),layoutSize=this.layout.size;xValue.indexOf("%")!=-1&&(x=x/100*layoutSize.width),yValue.indexOf("%")!=-1&&(y=y/100*layoutSize.height),x=isNaN(x)?0:x,y=isNaN(y)?0:y,x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight,y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom,this.position.x=x,this.position.y=y},proto.layoutPosition=function(){var layoutSize=this.layout.size,style={},isOriginLeft=this.layout._getOption("originLeft"),isOriginTop=this.layout._getOption("originTop"),xPadding=isOriginLeft?"paddingLeft":"paddingRight",xProperty=isOriginLeft?"left":"right",xResetProperty=isOriginLeft?"right":"left",x=this.position.x+layoutSize[xPadding];style[xProperty]=this.getXValue(x),style[xResetProperty]="";var yPadding=isOriginTop?"paddingTop":"paddingBottom",yProperty=isOriginTop?"top":"bottom",yResetProperty=isOriginTop?"bottom":"top",y=this.position.y+layoutSize[yPadding];style[yProperty]=this.getYValue(y),style[yResetProperty]="",this.css(style),this.emitEvent("layout",[this])},proto.getXValue=function(x){var isHorizontal=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!isHorizontal?x/this.layout.size.width*100+"%":x+"px"},proto.getYValue=function(y){var isHorizontal=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&isHorizontal?y/this.layout.size.height*100+"%":y+"px"},proto._transitionTo=function(x,y){this.getPosition();var curX=this.position.x,curY=this.position.y,didNotMove=x==this.position.x&&y==this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return}var transX=x-curX,transY=y-curY,transitionStyle={};transitionStyle.transform=this.getTranslate(transX,transY),this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},proto.getTranslate=function(x,y){var isOriginLeft=this.layout._getOption("originLeft"),isOriginTop=this.layout._getOption("originTop");return x=isOriginLeft?x:-x,y=isOriginTop?y:-y,"translate3d("+x+"px, "+y+"px, 0)"},proto.goTo=function(x,y){this.setPosition(x,y),this.layoutPosition()},proto.moveTo=proto._transitionTo,proto.setPosition=function(x,y){this.position.x=parseFloat(x),this.position.y=parseFloat(y)},proto._nonTransition=function(args){this.css(args.to),args.isCleaning&&this._removeStyles(args.to);for(var prop in args.onTransitionEnd)args.onTransitionEnd[prop].call(this)},proto.transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return}var _transition=this._transn;for(var prop in args.onTransitionEnd)_transition.onEnd[prop]=args.onTransitionEnd[prop];for(prop in args.to)_transition.ingProperties[prop]=!0,args.isCleaning&&(_transition.clean[prop]=!0);if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null}this.enableTransition(args.to),this.css(args.to),this.isTransitioning=!0};var transitionProps="opacity,"+toDashedAll(transformProperty);proto.enableTransition=function(){if(this.isTransitioning)return;var duration=this.layout.options.transitionDuration;duration=typeof duration=="number"?duration+"ms":duration,this.css({transitionProperty:transitionProps,transitionDuration:duration,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(transitionEndEvent,this,!1)},proto.onwebkitTransitionEnd=function(event){this.ontransitionend(event)},proto.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={"-webkit-transform":"transform"};proto.ontransitionend=function(event){if(event.target!==this.element)return;var _transition=this._transn,propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName],isEmptyObj(_transition.ingProperties)&&this.disableTransition(),propertyName in _transition.clean&&(this.element.style[event.propertyName]="",delete _transition.clean[propertyName]);if(propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this),delete _transition.onEnd[propertyName]}this.emitEvent("transitionEnd",[this])},proto.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(transitionEndEvent,this,!1),this.isTransitioning=!1},proto._removeStyles=function(style){var cleanStyle={};for(var prop in style)cleanStyle[prop]="";this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:"",transitionDelay:""};return proto.removeTransitionStyles=function(){this.css(cleanTransitionStyle)},proto.stagger=function(delay){delay=isNaN(delay)?0:delay,this.staggerDelay=delay+"ms"},proto.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},proto.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},proto.reveal=function(){delete this.isHidden,this.css({display:""});var options=this.layout.options,onTransitionEnd={},transitionEndProperty=this.getHideRevealTransitionEndProperty("visibleStyle");onTransitionEnd[transitionEndProperty]=this.onRevealTransitionEnd,this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})},proto.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},proto.getHideRevealTransitionEndProperty=function(styleProperty){var optionStyle=this.layout.options[styleProperty];if(optionStyle.opacity)return"opacity";for(var prop in optionStyle)return prop},proto.hide=function(){this.isHidden=!0,this.css({display:""});var options=this.layout.options,onTransitionEnd={},transitionEndProperty=this.getHideRevealTransitionEndProperty("hiddenStyle");onTransitionEnd[transitionEndProperty]=this.onHideTransitionEnd,this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:!0,onTransitionEnd:onTransitionEnd})},proto.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},proto.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},Item}),function(window,factory){"use strict";typeof define=="function"&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(EvEmitter,getSize,utils,Item){return factory(window,EvEmitter,getSize,utils,Item)}):typeof module=="object"&&module.exports?module.exports=factory(window,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):window.Outlayer=factory(window,window.EvEmitter,window.getSize,window.fizzyUIUtils,window.Outlayer.Item)}(window,function factory(window,EvEmitter,getSize,utils,Item){"use strict";function Outlayer(element,options){var queryElement=utils.getQueryElement(element);if(!queryElement){console&&console.error("Bad element for "+this.constructor.namespace+": "+(queryElement||element));return}this.element=queryElement,jQuery&&(this.$element=jQuery(this.element)),this.options=utils.extend({},this.constructor.defaults),this.option(options);var id=++GUID;this.element.outlayerGUID=id,instances[id]=this,this._create();var isInitLayout=this._getOption("initLayout");isInitLayout&&this.layout()}function subclass(Parent){function SubClass(){Parent.apply(this,arguments)}return SubClass.prototype=Object.create(Parent.prototype),SubClass.prototype.constructor=SubClass,SubClass}function getMilliseconds(time){if(typeof time=="number")return time;var matches=time.match(/(^\d*\.?\d*)(\w*)/),num=matches&&matches[1],unit=matches&&matches[2];if(!num.length)return 0;num=parseFloat(num);var mult=msUnits[unit]||1;return num*mult}var console=window.console,jQuery=window.jQuery,noop=function(){},GUID=0,instances={};Outlayer.namespace="outlayer",Outlayer.Item=Item,Outlayer.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var proto=Outlayer.prototype;utils.extend(proto,EvEmitter.prototype),proto.option=function(opts){utils.extend(this.options,opts)},proto._getOption=function(option){var oldOption=this.constructor.compatOptions[option];return oldOption&&this.options[oldOption]!==undefined?this.options[oldOption]:this.options[option]},Outlayer.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},proto._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),utils.extend(this.element.style,this.options.containerStyle);var canBindResize=this._getOption("resize");canBindResize&&this.bindResize()},proto.reloadItems=function(){this.items=this._itemize(this.element.children)},proto._itemize=function(elems){var itemElems=this._filterFindItemElements(elems),Item=this.constructor.Item,items=[];for(var i=0;i<itemElems.length;i++){var elem=itemElems[i],item=new Item(elem,this);items.push(item)}return items},proto._filterFindItemElements=function(elems){return utils.filterFindElements(elems,this.options.itemSelector)},proto.getItemElements=function(){return this.items.map(function(item){return item.element})},proto.layout=function(){this._resetLayout(),this._manageStamps();var layoutInstant=this._getOption("layoutInstant"),isInstant=layoutInstant!==undefined?layoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant),this._isLayoutInited=!0},proto._init=proto.layout,proto._resetLayout=function(){this.getSize()},proto.getSize=function(){this.size=getSize(this.element)},proto._getMeasurement=function(measurement,size){var option=this.options[measurement],elem;option?(typeof option=="string"?elem=this.element.querySelector(option):option instanceof HTMLElement&&(elem=option),this[measurement]=elem?getSize(elem)[size]:option):this[measurement]=0},proto.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items),this._layoutItems(items,isInstant),this._postLayout()},proto._getItemsForLayout=function(items){return items.filter(function(item){return!item.isIgnored})},proto._layoutItems=function(items,isInstant){this._emitCompleteOnItems("layout",items);if(!items||!items.length)return;var queue=[];items.forEach(function(item){var position=this._getItemLayoutPosition(item);position.item=item,position.isInstant=isInstant||item.isLayoutInstant,queue.push(position)},this),this._processLayoutQueue(queue)},proto._getItemLayoutPosition=function(){return{x:0,y:0}},proto._processLayoutQueue=function(queue){this.updateStagger(),queue.forEach(function(obj,i){this._positionItem(obj.item,obj.x,obj.y,obj.isInstant,i)},this)},proto.updateStagger=function(){var stagger=this.options.stagger;if(stagger===null||stagger===undefined){this.stagger=0;return}return this.stagger=getMilliseconds(stagger),this.stagger},proto._positionItem=function(item,x,y,isInstant,i){isInstant?item.goTo(x,y):(item.stagger(i*this.stagger),item.moveTo(x,y))},proto._postLayout=function(){this.resizeContainer()},proto.resizeContainer=function(){var isResizingContainer=this._getOption("resizeContainer");if(!isResizingContainer)return;var size=this._getContainerSize();size&&(this._setContainerMeasure(size.width,!0),this._setContainerMeasure(size.height,!1))},proto._getContainerSize=noop,proto._setContainerMeasure=function(measure,isWidth){if(measure===undefined)return;var elemSize=this.size;elemSize.isBorderBox&&(measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth),measure=Math.max(measure,0),this.element.style[isWidth?"width":"height"]=measure+"px"},proto._emitCompleteOnItems=function(eventName,items){function onComplete(){_this.dispatchEvent(eventName+"Complete",null,[items])}function tick(){doneCount++,doneCount==count&&onComplete()}var _this=this,count=items.length;if(!items||!count){onComplete();return}var doneCount=0;items.forEach(function(item){item.once(eventName,tick)})},proto.dispatchEvent=function(type,event,args){var emitArgs=event?[event].concat(args):args;this.emitEvent(type,emitArgs);if(jQuery){this.$element=this.$element||jQuery(this.element);if(event){var $event=jQuery.Event(event);$event.type=type,this.$element.trigger($event,args)}else this.$element.trigger(type,args)}},proto.ignore=function(elem){var item=this.getItem(elem);item&&(item.isIgnored=!0)},proto.unignore=function(elem){var item=this.getItem(elem);item&&delete item.isIgnored},proto.stamp=function(elems){elems=this._find(elems);if(!elems)return;this.stamps=this.stamps.concat(elems),elems.forEach(this.ignore,this)},proto.unstamp=function(elems){elems=this._find(elems);if(!elems)return;elems.forEach(function(elem){utils.removeFrom(this.stamps,elem),this.unignore(elem)},this)},proto._find=function(elems){if(!elems)return;return typeof elems=="string"&&(elems=this.element.querySelectorAll(elems)),elems=utils.makeArray(elems),elems},proto._manageStamps=function(){if(!this.stamps||!this.stamps.length)return;this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this)},proto._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect(),size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}},proto._manageStamp=noop,proto._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect(),thisRect=this._boundingRect,size=getSize(elem),offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset},proto.handleEvent=utils.handleEvent,proto.bindResize=function(){window.addEventListener("resize",this),this.isResizeBound=!0},proto.unbindResize=function(){window.removeEventListener("resize",this),this.isResizeBound=!1},proto.onresize=function(){this.resize()},utils.debounceMethod(Outlayer,"onresize",100),proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.layout()},proto.needsResizeLayout=function(){var size=getSize(this.element),hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth},proto.addItems=function(elems){var items=this._itemize(elems);return items.length&&(this.items=this.items.concat(items)),items},proto.appended=function(elems){var items=this.addItems(elems);if(!items.length)return;this.layoutItems(items,!0),this.reveal(items)},proto.prepended=function(elems){var items=this._itemize(elems);if(!items.length)return;var previousItems=this.items.slice(0);this.items=items.concat(previousItems),this._resetLayout(),this._manageStamps(),this.layoutItems(items,!0),this.reveal(items),this.layoutItems(previousItems)},proto.reveal=function(items){this._emitCompleteOnItems("reveal",items);if(!items||!items.length)return;var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger),item.reveal()})},proto.hide=function(items){this._emitCompleteOnItems("hide",items);if(!items||!items.length)return;var stagger=this.updateStagger();items.forEach(function(item,i){item.stagger(i*stagger),item.hide()})},proto.revealItemElements=function(elems){var items=this.getItems(elems);this.reveal(items)},proto.hideItemElements=function(elems){var items=this.getItems(elems);this.hide(items)},proto.getItem=function(elem){for(var i=0;i<this.items.length;i++){var item=this.items[i];if(item.element==elem)return item}},proto.getItems=function(elems){elems=utils.makeArray(elems);var items=[];return elems.forEach(function(elem){var item=this.getItem(elem);item&&items.push(item)},this),items},proto.remove=function(elems){var removeItems=this.getItems(elems);this._emitCompleteOnItems("remove",removeItems);if(!removeItems||!removeItems.length)return;removeItems.forEach(function(item){item.remove(),utils.removeFrom(this.items,item)},this)},proto.destroy=function(){var style=this.element.style;style.height="",style.position="",style.width="",this.items.forEach(function(item){item.destroy()}),this.unbindResize();var id=this.element.outlayerGUID;delete instances[id],delete this.element.outlayerGUID,jQuery&&jQuery.removeData(this.element,this.constructor.namespace)},Outlayer.data=function(elem){elem=utils.getQueryElement(elem);var id=elem&&elem.outlayerGUID;return id&&instances[id]},Outlayer.create=function(namespace,options){var Layout=subclass(Outlayer);return Layout.defaults=utils.extend({},Outlayer.defaults),utils.extend(Layout.defaults,options),Layout.compatOptions=utils.extend({},Outlayer.compatOptions),Layout.namespace=namespace,Layout.data=Outlayer.data,Layout.Item=subclass(Item),utils.htmlInit(Layout,namespace),jQuery&&jQuery.bridget&&jQuery.bridget(namespace,Layout),Layout};var msUnits={ms:1,s:1e3};return Outlayer.Item=Item,Outlayer}),function(window,factory){typeof define=="function"&&define.amd?define("isotope-layout/js/item",["outlayer/outlayer"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("outlayer")):(window.Isotope=window.Isotope||{},window.Isotope.Item=factory(window.Outlayer))}(window,function factory(Outlayer){"use strict";function Item(){Outlayer.Item.apply(this,arguments)}var proto=Item.prototype=Object.create(Outlayer.Item.prototype),_create=proto._create;proto._create=function(){this.id=this.layout.itemGUID++,_create.call(this),this.sortData={}},proto.updateSortData=function(){if(this.isIgnored)return;this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var getSortData=this.layout.options.getSortData,sorters=this.layout._sorters;for(var key in getSortData){var sorter=sorters[key];this.sortData[key]=sorter(this.element,this)}};var _destroy=proto.destroy;return proto.destroy=function(){_destroy.apply(this,arguments),this.css({display:""})},Item}),function(window,factory){typeof define=="function"&&define.amd?define("isotope-layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("get-size"),require("outlayer")):(window.Isotope=window.Isotope||{},window.Isotope.LayoutMode=factory(window.getSize,window.Outlayer))}(window,function factory(getSize,Outlayer){"use strict";function LayoutMode(isotope){this.isotope=isotope,isotope&&(this.options=isotope.options[this.namespace],this.element=isotope.element,this.items=isotope.filteredItems,this.size=isotope.size)}var proto=LayoutMode.prototype,facadeMethods=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return facadeMethods.forEach(function(methodName){proto[methodName]=function(){return Outlayer.prototype[methodName].apply(this.isotope,arguments)}}),proto.needsVerticalResizeLayout=function(){var size=getSize(this.isotope.element),hasSizes=this.isotope.size&&size;return hasSizes&&size.innerHeight!=this.isotope.size.innerHeight},proto._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},proto.getColumnWidth=function(){this.getSegmentSize("column","Width")},proto.getRowHeight=function(){this.getSegmentSize("row","Height")},proto.getSegmentSize=function(segment,size){var segmentName=segment+size,outerSize="outer"+size;this._getMeasurement(segmentName,outerSize);if(this[segmentName])return;var firstItemSize=this.getFirstItemSize();this[segmentName]=firstItemSize&&firstItemSize[outerSize]||this.isotope.size["inner"+size]},proto.getFirstItemSize=function(){var firstItem=this.isotope.filteredItems[0];return firstItem&&firstItem.element&&getSize(firstItem.element)},proto.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},proto.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},LayoutMode.modes={},LayoutMode.create=function(namespace,options){function Mode(){LayoutMode.apply(this,arguments)}return Mode.prototype=Object.create(proto),Mode.prototype.constructor=Mode,options&&(Mode.options=options),Mode.prototype.namespace=namespace,LayoutMode.modes[namespace]=Mode,Mode},LayoutMode}),function(window,factory){typeof define=="function"&&define.amd?define("masonry-layout/masonry",["outlayer/outlayer","get-size/get-size"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("outlayer"),require("get-size")):window.Masonry=factory(window.Outlayer,window.getSize)}(window,function factory(Outlayer,getSize){var Masonry=Outlayer.create("masonry");Masonry.compatOptions.fitWidth="isFitWidth";var proto=Masonry.prototype;return proto._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var i=0;i<this.cols;i++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},proto.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var firstItem=this.items[0],firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth}var columnWidth=this.columnWidth+=this.gutter,containerWidth=this.containerWidth+this.gutter,cols=containerWidth/columnWidth,excess=columnWidth-containerWidth%columnWidth,mathMethod=excess&&excess<1?"round":"floor";cols=Math[mathMethod](cols),this.cols=Math.max(cols,1)},proto.getContainerWidth=function(){var isFitWidth=this._getOption("fitWidth"),container=isFitWidth?this.element.parentNode:this.element,size=getSize(container);this.containerWidth=size&&size.innerWidth},proto._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth,mathMethod=remainder&&remainder<1?"round":"ceil",colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);var colPosMethod=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",colPosition=this[colPosMethod](colSpan,item),position={x:this.columnWidth*colPosition.col,y:colPosition.y},setHeight=colPosition.y+item.size.outerHeight,setMax=colSpan+colPosition.col;for(var i=colPosition.col;i<setMax;i++)this.colYs[i]=setHeight;return position},proto._getTopColPosition=function(colSpan){var colGroup=this._getTopColGroup(colSpan),minimumY=Math.min.apply(Math,colGroup);return{col:colGroup.indexOf(minimumY),y:minimumY}},proto._getTopColGroup=function(colSpan){if(colSpan<2)return this.colYs;var colGroup=[],groupCount=this.cols+1-colSpan;for(var i=0;i<groupCount;i++)colGroup[i]=this._getColGroupY(i,colSpan);return colGroup},proto._getColGroupY=function(col,colSpan){if(colSpan<2)return this.colYs[col];var groupColYs=this.colYs.slice(col,col+colSpan);return Math.max.apply(Math,groupColYs)},proto._getHorizontalColPosition=function(colSpan,item){var col=this.horizontalColIndex%this.cols,isOver=colSpan>1&&col+colSpan>this.cols;col=isOver?0:col;var hasSize=item.size.outerWidth&&item.size.outerHeight;return this.horizontalColIndex=hasSize?col+colSpan:this.horizontalColIndex,{col:col,y:this._getColGroupY(col,colSpan)}},proto._manageStamp=function(stamp){var stampSize=getSize(stamp),offset=this._getElementOffset(stamp),isOriginLeft=this._getOption("originLeft"),firstX=isOriginLeft?offset.left:offset.right,lastX=firstX+stampSize.outerWidth,firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1,lastCol=Math.min(this.cols-1,lastCol);var isOriginTop=this._getOption("originTop"),stampMaxY=(isOriginTop?offset.top:offset.bottom)+stampSize.outerHeight;for(var i=firstCol;i<=lastCol;i++)this.colYs[i]=Math.max(stampMaxY,this.colYs[i])},proto._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};return this._getOption("fitWidth")&&(size.width=this._getContainerFitWidth()),size},proto._getContainerFitWidth=function(){var unusedCols=0,i=this.cols;while(--i){if(this.colYs[i]!==0)break;unusedCols++}return(this.cols-unusedCols)*this.columnWidth-this.gutter},proto.needsResizeLayout=function(){var previousWidth=this.containerWidth;return this.getContainerWidth(),previousWidth!=this.containerWidth},Masonry}),function(window,factory){typeof define=="function"&&define.amd?define("isotope-layout/js/layout-modes/masonry",["../layout-mode","masonry-layout/masonry"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("../layout-mode"),require("masonry-layout")):factory(window.Isotope.LayoutMode,window.Masonry)}(window,function factory(LayoutMode,Masonry){"use strict";var MasonryMode=LayoutMode.create("masonry"),proto=MasonryMode.prototype,keepModeMethods={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var method in Masonry.prototype)keepModeMethods[method]||(proto[method]=Masonry.prototype[method]);var measureColumns=proto.measureColumns;proto.measureColumns=function(){this.items=this.isotope.filteredItems,measureColumns.call(this)};var _getOption=proto._getOption;return proto._getOption=function(option){return option=="fitWidth"?this.options.isFitWidth!==undefined?this.options.isFitWidth:this.options.fitWidth:_getOption.apply(this.isotope,arguments)},MasonryMode}),function(window,factory){typeof define=="function"&&define.amd?define("isotope-layout/js/layout-modes/fit-rows",["../layout-mode"],factory):typeof exports=="object"?module.exports=factory(require("../layout-mode")):factory(window.Isotope.LayoutMode)}(window,function factory(LayoutMode){"use strict";var FitRows=LayoutMode.create("fitRows"),proto=FitRows.prototype;return proto._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},proto._getItemLayoutPosition=function(item){item.getSize();var itemWidth=item.size.outerWidth+this.gutter,containerWidth=this.isotope.size.innerWidth+this.gutter;this.x!==0&&itemWidth+this.x>containerWidth&&(this.x=0,this.y=this.maxY);var position={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+item.size.outerHeight),this.x+=itemWidth,position},proto._getContainerSize=function(){return{height:this.maxY}},FitRows}),function(window,factory){typeof define=="function"&&define.amd?define("isotope-layout/js/layout-modes/vertical",["../layout-mode"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("../layout-mode")):factory(window.Isotope.LayoutMode)}(window,function factory(LayoutMode){"use strict";var Vertical=LayoutMode.create("vertical",{horizontalAlignment:0}),proto=Vertical.prototype;return proto._resetLayout=function(){this.y=0},proto._getItemLayoutPosition=function(item){item.getSize();var x=(this.isotope.size.innerWidth-item.size.outerWidth)*this.options.horizontalAlignment,y=this.y;return this.y+=item.size.outerHeight,{x:x,y:y}},proto._getContainerSize=function(){return{height:this.y}},Vertical}),function(window,factory){typeof define=="function"&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope-layout/js/item","isotope-layout/js/layout-mode","isotope-layout/js/layout-modes/masonry","isotope-layout/js/layout-modes/fit-rows","isotope-layout/js/layout-modes/vertical"],function(Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){return factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode)}):typeof module=="object"&&module.exports?module.exports=factory(window,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope-layout/js/item"),require("isotope-layout/js/layout-mode"),require("isotope-layout/js/layout-modes/masonry"),require("isotope-layout/js/layout-modes/fit-rows"),require("isotope-layout/js/layout-modes/vertical")):window.Isotope=factory(window,window.Outlayer,window.getSize,window.matchesSelector,window.fizzyUIUtils,window.Isotope.Item,window.Isotope.LayoutMode)}(window,function factory(window,Outlayer,getSize,matchesSelector,utils,Item,LayoutMode){function getItemSorter(sortBys,sortAsc){return function sorter(itemA,itemB){for(var i=0;i<sortBys.length;i++){var sortBy=sortBys[i],a=itemA.sortData[sortBy],b=itemB.sortData[sortBy];if(a>b||a<b){var isAscending=sortAsc[sortBy]!==undefined?sortAsc[sortBy]:sortAsc,direction=isAscending?1:-1;return(a>b?1:-1)*direction}}return 0}}var jQuery=window.jQuery,trim=String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^\s+|\s+$/g,"")},Isotope=Outlayer.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});Isotope.Item=Item,Isotope.LayoutMode=LayoutMode;var proto=Isotope.prototype;proto._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),Outlayer.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var name in LayoutMode.modes)this._initLayoutMode(name)},proto.reloadItems=function(){this.itemGUID=0,Outlayer.prototype.reloadItems.call(this)},proto._itemize=function(){var items=Outlayer.prototype._itemize.apply(this,arguments);for(var i=0;i<items.length;i++){var item=items[i];item.id=this.itemGUID++}return this._updateItemsSortData(items),items},proto._initLayoutMode=function(name){var Mode=LayoutMode.modes[name],initialOpts=this.options[name]||{};this.options[name]=Mode.options?utils.extend(Mode.options,initialOpts):initialOpts,this.modes[name]=new Mode(this)},proto.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout")){this.arrange();return}this._layout()},proto._layout=function(){var isInstant=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,isInstant),this._isLayoutInited=!0},proto.arrange=function(opts){this.option(opts),this._getIsInstant();var filtered=this._filter(this.items);this.filteredItems=filtered.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[filtered]):this._hideReveal(filtered),this._sort(),this._layout()},proto._init=proto.arrange,proto._hideReveal=function(filtered){this.reveal(filtered.needReveal),this.hide(filtered.needHide)},proto._getIsInstant=function(){var isLayoutInstant=this._getOption("layoutInstant"),isInstant=isLayoutInstant!==undefined?isLayoutInstant:!this._isLayoutInited;return this._isInstant=isInstant,isInstant},proto._bindArrangeComplete=function(){function arrangeParallelCallback(){isLayoutComplete&&isHideComplete&&isRevealComplete&&_this.dispatchEvent("arrangeComplete",null,[_this.filteredItems])}var isLayoutComplete,isHideComplete,isRevealComplete,_this=this;this.once("layoutComplete",function(){isLayoutComplete=!0,arrangeParallelCallback()}),this.once("hideComplete",function(){isHideComplete=!0,arrangeParallelCallback()}),this.once("revealComplete",function(){isRevealComplete=!0,arrangeParallelCallback()})},proto._filter=function(items){var filter=this.options.filter;filter=filter||"*";var matches=[],hiddenMatched=[],visibleUnmatched=[],test=this._getFilterTest(filter);for(var i=0;i<items.length;i++){var item=items[i];if(item.isIgnored)continue;var isMatched=test(item);isMatched&&matches.push(item),isMatched&&item.isHidden?hiddenMatched.push(item):!isMatched&&!item.isHidden&&visibleUnmatched.push(item)}return{matches:matches,needReveal:hiddenMatched,needHide:visibleUnmatched}},proto._getFilterTest=function(filter){return jQuery&&this.options.isJQueryFiltering?function(item){return jQuery(item.element).is(filter)}:typeof filter=="function"?function(item){return filter(item.element)}:function(item){return matchesSelector(item.element,filter)}},proto.updateSortData=function(elems){var items;elems?(elems=utils.makeArray(elems),items=this.getItems(elems)):items=this.items,this._getSorters(),this._updateItemsSortData(items)},proto._getSorters=function(){var getSortData=this.options.getSortData;for(var key in getSortData){var sorter=getSortData[key];this._sorters[key]=mungeSorter(sorter)}},proto._updateItemsSortData=function(items){var len=items&&items.length;for(var i=0;len&&i<len;i++){var item=items[i];item.updateSortData()}};var mungeSorter=function(){function mungeSorter(sorter){if(typeof sorter!="string")return sorter;var args=trim(sorter).split(" "),query=args[0],attrMatch=query.match(/^\[(.+)\]$/),attr=attrMatch&&attrMatch[1],getValue=getValueGetter(attr,query),parser=Isotope.sortDataParsers[args[1]];return sorter=parser?function(elem){return elem&&parser(getValue(elem))}:function(elem){return elem&&getValue(elem)},sorter}function getValueGetter(attr,query){return attr?function getAttribute(elem){return elem.getAttribute(attr)}:function getChildText(elem){var child=elem.querySelector(query);return child&&child.textContent}}return mungeSorter}();Isotope.sortDataParsers={parseInt:function(val){return parseInt(val,10)},parseFloat:function(val){return parseFloat(val)}},proto._sort=function(){if(!this.options.sortBy)return;var sortBys=utils.makeArray(this.options.sortBy);this._getIsSameSortBy(sortBys)||(this.sortHistory=sortBys.concat(this.sortHistory));var itemSorter=getItemSorter(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(itemSorter)},proto._getIsSameSortBy=function(sortBys){for(var i=0;i<sortBys.length;i++)if(sortBys[i]!=this.sortHistory[i])return!1;return!0},proto._mode=function(){var layoutMode=this.options.layoutMode,mode=this.modes[layoutMode];if(!mode)throw new Error("No layout mode: "+layoutMode);return mode.options=this.options[layoutMode],mode},proto._resetLayout=function(){Outlayer.prototype._resetLayout.call(this),this._mode()._resetLayout()},proto._getItemLayoutPosition=function(item){return this._mode()._getItemLayoutPosition(item)},proto._manageStamp=function(stamp){this._mode()._manageStamp(stamp)},proto._getContainerSize=function(){return this._mode()._getContainerSize()},proto.needsResizeLayout=function(){return this._mode().needsResizeLayout()},proto.appended=function(elems){var items=this.addItems(elems);if(!items.length)return;var filteredItems=this._filterRevealAdded(items);this.filteredItems=this.filteredItems.concat(filteredItems)},proto.prepended=function(elems){var items=this._itemize(elems);if(!items.length)return;this._resetLayout(),this._manageStamps();var filteredItems=this._filterRevealAdded(items);this.layoutItems(this.filteredItems),this.filteredItems=filteredItems.concat(this.filteredItems),this.items=items.concat(this.items)},proto._filterRevealAdded=function(items){var filtered=this._filter(items);return this.hide(filtered.needHide),this.reveal(filtered.matches),this.layoutItems(filtered.matches,!0),filtered.matches},proto.insert=function(elems){var items=this.addItems(elems);if(!items.length)return;var i,item,len=items.length;for(i=0;i<len;i++)item=items[i],this.element.appendChild(item.element);var filteredInsertItems=this._filter(items).matches;for(i=0;i<len;i++)items[i].isLayoutInstant=!0;this.arrange();for(i=0;i<len;i++)delete items[i].isLayoutInstant;this.reveal(filteredInsertItems)};var _remove=proto.remove;return proto.remove=function(elems){elems=utils.makeArray(elems);var removeItems=this.getItems(elems);_remove.call(this,elems);var len=removeItems&&removeItems.length;for(var i=0;len&&i<len;i++){var item=removeItems[i];utils.removeFrom(this.filteredItems,item)}},proto.shuffle=function(){for(var i=0;i<this.items.length;i++){var item=this.items[i];item.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},proto._noTransition=function(fn,args){var transitionDuration=this.options.transitionDuration;this.options.transitionDuration=0;var returnValue=fn.apply(this,args);return this.options.transitionDuration=transitionDuration,returnValue},proto.getFilteredItemElements=function(){return this.filteredItems.map(function(item){return item.element})},Isotope}),function(window,factory){typeof define=="function"&&define.amd?define("packery/js/rect",factory):typeof module=="object"&&module.exports?module.exports=factory():(window.Packery=window.Packery||{},window.Packery.Rect=factory())}(window,function factory(){function Rect(props){for(var prop in Rect.defaults)this[prop]=Rect.defaults[prop];for(prop in props)this[prop]=props[prop]}Rect.defaults={x:0,y:0,width:0,height:0};var proto=Rect.prototype;return proto.contains=function(rect){var otherWidth=rect.width||0,otherHeight=rect.height||0;return this.x<=rect.x&&this.y<=rect.y&&this.x+this.width>=rect.x+otherWidth&&this.y+this.height>=rect.y+otherHeight},proto.overlaps=function(rect){var thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.x<rectRight&&thisRight>rect.x&&this.y<rectBottom&&thisBottom>rect.y},proto.getMaximalFreeRects=function(rect){if(!this.overlaps(rect))return!1;var freeRects=[],freeRect,thisRight=this.x+this.width,thisBottom=this.y+this.height,rectRight=rect.x+rect.width,rectBottom=rect.y+rect.height;return this.y<rect.y&&(freeRect=new Rect({x:this.x,y:this.y,width:this.width,height:rect.y-this.y}),freeRects.push(freeRect)),thisRight>rectRight&&(freeRect=new Rect({x:rectRight,y:this.y,width:thisRight-rectRight,height:this.height}),freeRects.push(freeRect)),thisBottom>rectBottom&&(freeRect=new Rect({x:this.x,y:rectBottom,width:this.width,height:thisBottom-rectBottom}),freeRects.push(freeRect)),this.x<rect.x&&(freeRect=new Rect({x:this.x,y:this.y,width:rect.x-this.x,height:this.height}),freeRects.push(freeRect)),freeRects},proto.canFit=function(rect){return this.width>=rect.width&&this.height>=rect.height},Rect}),function(window,factory){if(typeof define=="function"&&define.amd)define("packery/js/packer",["./rect"],factory);else if(typeof module=="object"&&module.exports)module.exports=factory(require("./rect"));else{var Packery=window.Packery=window.Packery||{};Packery.Packer=factory(Packery.Rect)}}(window,function factory(Rect){function Packer(width,height,sortDirection){this.width=width||0,this.height=height||0,this.sortDirection=sortDirection||"downwardLeftToRight",this.reset()}var proto=Packer.prototype;proto.reset=function(){this.spaces=[];var initialSpace=new Rect({x:0,y:0,width:this.width,height:this.height});this.spaces.push(initialSpace),this.sorter=sorters[this.sortDirection]||sorters.downwardLeftToRight},proto.pack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i];if(space.canFit(rect)){this.placeInSpace(rect,space);break}}},proto.columnPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i],canFitInSpaceColumn=space.x<=rect.x&&space.x+space.width>=rect.x+rect.width&&space.height>=rect.height-.01;if(canFitInSpaceColumn){rect.y=space.y,this.placed(rect);break}}},proto.rowPack=function(rect){for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i],canFitInSpaceRow=space.y<=rect.y&&space.y+space.height>=rect.y+rect.height&&space.width>=rect.width-.01;if(canFitInSpaceRow){rect.x=space.x,this.placed(rect);break}}},proto.placeInSpace=function(rect,space){rect.x=space.x,rect.y=space.y,this.placed(rect)},proto.placed=function(rect){var revisedSpaces=[];for(var i=0;i<this.spaces.length;i++){var space=this.spaces[i],newSpaces=space.getMaximalFreeRects(rect);newSpaces?revisedSpaces.push.apply(revisedSpaces,newSpaces):revisedSpaces.push(space)}this.spaces=revisedSpaces,this.mergeSortSpaces()},proto.mergeSortSpaces=function(){Packer.mergeRects(this.spaces),this.spaces.sort(this.sorter)},proto.addSpace=function(rect){this.spaces.push(rect),this.mergeSortSpaces()},Packer.mergeRects=function(rects){var i=0,rect=rects[i];e:while(rect){var j=0,compareRect=rects[i+j];while(compareRect){if(compareRect==rect)j++;else{if(compareRect.contains(rect)){rects.splice(i,1),rect=rects[i];continue e}rect.contains(compareRect)?rects.splice(i+j,1):j++}compareRect=rects[i+j]}i++,rect=rects[i]}return rects};var sorters={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return Packer}),function(window,factory){typeof define=="function"&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("outlayer"),require("./rect")):window.Packery.Item=factory(window.Outlayer,window.Packery.Rect)}(window,function factory(Outlayer,Rect){var docElemStyle=document.documentElement.style,transformProperty=typeof docElemStyle.transform=="string"?"transform":"WebkitTransform",Item=function PackeryItem(){Outlayer.Item.apply(this,arguments)},proto=Item.prototype=Object.create(Outlayer.Item.prototype),__create=proto._create;proto._create=function(){__create.call(this),this.rect=new Rect};var _moveTo=proto.moveTo;return proto.moveTo=function(x,y){var dx=Math.abs(this.position.x-x),dy=Math.abs(this.position.y-y),canHackGoTo=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&dx<1&&dy<1;if(canHackGoTo){this.goTo(x,y);return}_moveTo.apply(this,arguments)},proto.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&transformProperty&&(this.element.style[transformProperty]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},proto.disablePlacing=function(){this.isPlacing=!1},proto.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},proto.showDropPlaceholder=function(){var dropPlaceholder=this.dropPlaceholder;dropPlaceholder||(dropPlaceholder=this.dropPlaceholder=document.createElement("div"),dropPlaceholder.className="packery-drop-placeholder",dropPlaceholder.style.position="absolute"),dropPlaceholder.style.width=this.size.width+"px",dropPlaceholder.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(dropPlaceholder)},proto.positionDropPlaceholder=function(){this.dropPlaceholder.style[transformProperty]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},proto.hideDropPlaceholder=function(){this.layout.element.removeChild(this.dropPlaceholder)},Item}),function(window,factory){typeof define=="function"&&define.amd?define("packery/js/packery",["get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):window.Packery=factory(window.getSize,window.Outlayer,window.Packery.Rect,window.Packery.Packer,window.Packery.Item)}(window,function factory(getSize,Outlayer,Rect,Packer,Item){function verticalSorter(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function horizontalSorter(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}function getDistance(a,b){var dx=b.x-a.x,dy=b.y-a.y;return Math.sqrt(dx*dx+dy*dy)}Rect.prototype.canFit=function(rect){return this.width>=rect.width-1&&this.height>=rect.height-1};var Packery=Outlayer.create("packery");Packery.Item=Item;var proto=Packery.prototype;proto._create=function(){Outlayer.prototype._create.call(this),this.packer=new Packer,this.shiftPacker=new Packer,this.isEnabled=!0,this.dragItemCount=0;var _this=this;this.handleDraggabilly={dragStart:function(){_this.itemDragStart(this.element)},dragMove:function(){_this.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){_this.itemDragEnd(this.element)}},this.handleUIDraggable={start:function handleUIDraggableStart(event,ui){if(!ui)return;_this.itemDragStart(event.currentTarget)},drag:function handleUIDraggableDrag(event,ui){if(!ui)return;_this.itemDragMove(event.currentTarget,ui.position.left,ui.position.top)},stop:function handleUIDraggableStop(event,ui){if(!ui)return;_this.itemDragEnd(event.currentTarget)}}},proto._resetLayout=function(){this.getSize(),this._getMeasurements();var width,height,sortDirection;this._getOption("horizontal")?(width=Infinity,height=this.size.innerHeight+this.gutter,sortDirection="rightwardTopToBottom"):(width=this.size.innerWidth+this.gutter,height=Infinity,sortDirection="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=width,this.packer.height=this.shiftPacker.height=height,this.packer.sortDirection=this.shiftPacker.sortDirection=sortDirection,this.packer.reset(),this.maxY=0,this.maxX=0},proto._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},proto._getItemLayoutPosition=function(item){this._setRectSize(item.element,item.rect);if(this.isShifting||this.dragItemCount>0){var packMethod=this._getPackMethod();this.packer[packMethod](item.rect)}else this.packer.pack(item.rect);return this._setMaxXY(item.rect),item.rect},proto.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},proto._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},proto._setMaxXY=function(rect){this.maxX=Math.max(rect.x+rect.width,this.maxX),this.maxY=Math.max(rect.y+rect.height,this.maxY)},proto._setRectSize=function(elem,rect){var size=getSize(elem),w=size.outerWidth,h=size.outerHeight;if(w||h)w=this._applyGridGutter(w,this.columnWidth),h=this._applyGridGutter(h,this.rowHeight);rect.width=Math.min(w,this.packer.width),rect.height=Math.min(h,this.packer.height)},proto._applyGridGutter=function(measurement,gridSize){if(!gridSize)return measurement+this.gutter;gridSize+=this.gutter;var remainder=measurement%gridSize,mathMethod=remainder&&remainder<1?"round":"ceil";return measurement=Math[mathMethod](measurement/gridSize)*gridSize,measurement},proto._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},proto._manageStamp=function(elem){var item=this.getItem(elem),rect;if(item&&item.isPlacing)rect=item.rect;else{var offset=this._getElementOffset(elem);rect=new Rect({x:this._getOption("originLeft")?offset.left:offset.right,y:this._getOption("originTop")?offset.top:offset.bottom})}this._setRectSize(elem,rect),this.packer.placed(rect),this._setMaxXY(rect)},proto.sortItemsByPosition=function(){var sorter=this._getOption("horizontal")?horizontalSorter:verticalSorter;this.items.sort(sorter)},proto.fit=function(elem,x,y){var item=this.getItem(elem);if(!item)return;this.stamp(item.element),item.enablePlacing(),this.updateShiftTargets(item),x=x===undefined?item.rect.x:x,y=y===undefined?item.rect.y:y,this.shift(item,x,y),this._bindFitEvents(item),item.moveTo(item.rect.x,item.rect.y),this.shiftLayout(),this.unstamp(item.element),this.sortItemsByPosition(),item.disablePlacing()},proto._bindFitEvents=function(item){function onLayout(){ticks++;if(ticks!=2)return;_this.dispatchEvent("fitComplete",null,[item])}var _this=this,ticks=0;item.once("layout",onLayout),this.once("layoutComplete",onLayout)},proto.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout()},proto.needsResizeLayout=function(){var size=getSize(this.element),innerSize=this._getOption("horizontal")?"innerHeight":"innerWidth";return size[innerSize]!=this.size[innerSize]},proto.resizeShiftPercentLayout=function(){var items=this._getItemsForLayout(this.items),isHorizontal=this._getOption("horizontal"),coord=isHorizontal?"y":"x",measure=isHorizontal?"height":"width",segmentName=isHorizontal?"rowHeight":"columnWidth",innerSize=isHorizontal?"innerHeight":"innerWidth",previousSegment=this[segmentName];previousSegment=previousSegment&&previousSegment+this.gutter;if(previousSegment){this._getMeasurements();var currentSegment=this[segmentName]+this.gutter;items.forEach(function(item){var seg=Math.round(item.rect[coord]/previousSegment);item.rect[coord]=seg*currentSegment})}else{var currentSize=getSize(this.element)[innerSize]+this.gutter,previousSize=this.packer[measure];items.forEach(function(item){item.rect[coord]=item.rect[coord]/previousSize*currentSize})}this.shiftLayout()},proto.itemDragStart=function(elem){if(!this.isEnabled)return;this.stamp(elem);var item=this.getItem(elem);if(!item)return;item.enablePlacing(),item.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(item)},proto.updateShiftTargets=function(dropItem){this.shiftPacker.reset(),this._getBoundingRect();var isOriginLeft=this._getOption("originLeft"),isOriginTop=this._getOption("originTop");this.stamps.forEach(function(stamp){var item=this.getItem(stamp);if(item&&item.isPlacing)return;var offset=this._getElementOffset(stamp),rect=new Rect({x:isOriginLeft?offset.left:offset.right,y:isOriginTop?offset.top:offset.bottom});this._setRectSize(stamp,rect),this.shiftPacker.placed(rect)},this);var isHorizontal=this._getOption("horizontal"),segmentName=isHorizontal?"rowHeight":"columnWidth",measure=isHorizontal?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var boundsSize,segment=this[segmentName];segment=segment&&segment+this.gutter;if(segment){var segmentSpan=Math.ceil(dropItem.rect[measure]/segment),segs=Math.floor((this.shiftPacker[measure]+this.gutter)/segment);boundsSize=(segs-segmentSpan)*segment;for(var i=0;i<segs;i++)this._addShiftTarget(i*segment,0,boundsSize)}else boundsSize=this.shiftPacker[measure]+this.gutter-dropItem.rect[measure],this._addShiftTarget(0,0,boundsSize);var items=this._getItemsForLayout(this.items),packMethod=this._getPackMethod();items.forEach(function(item){var rect=item.rect;this._setRectSize(item.element,rect),this.shiftPacker[packMethod](rect),this._addShiftTarget(rect.x,rect.y,boundsSize);var cornerX=isHorizontal?rect.x+rect.width:rect.x,cornerY=isHorizontal?rect.y:rect.y+rect.height;this._addShiftTarget(cornerX,cornerY,boundsSize);if(segment){var segSpan=Math.round(rect[measure]/segment);for(var i=1;i<segSpan;i++){var segX=isHorizontal?cornerX:rect.x+segment*i,segY=isHorizontal?rect.y+segment*i:cornerY;this._addShiftTarget(segX,segY,boundsSize)}}},this)},proto._addShiftTarget=function(x,y,boundsSize){var checkCoord=this._getOption("horizontal")?y:x;if(checkCoord!==0&&checkCoord>boundsSize)return;var key=x+","+y,hasKey=this.shiftTargetKeys.indexOf(key)!=-1;if(hasKey)return;this.shiftTargetKeys.push(key),this.shiftTargets.push({x:x,y:y})},proto.shift=function(item,x,y){var shiftPosition,minDistance=Infinity,position={x:x,y:y};this.shiftTargets.forEach(function(target){var distance=getDistance(target,position);distance<minDistance&&(shiftPosition=target,minDistance=distance)}),item.rect.x=shiftPosition.x,item.rect.y=shiftPosition.y};var DRAG_THROTTLE_TIME=120;proto.itemDragMove=function(elem,x,y){function onDrag(){_this.shift(item,x,y),item.positionDropPlaceholder(),_this.layout()}var item=this.isEnabled&&this.getItem(elem);if(!item)return;x-=this.size.paddingLeft,y-=this.size.paddingTop;var _this=this,now=new Date;this._itemDragTime&&now-this._itemDragTime<DRAG_THROTTLE_TIME?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(onDrag,DRAG_THROTTLE_TIME)):(onDrag(),this._itemDragTime=now)},proto.itemDragEnd=function(elem){function onDragEndLayoutComplete(){completeCount++;if(completeCount!=2)return;item.element.classList.remove("is-positioning-post-drag"),item.hideDropPlaceholder(),_this.dispatchEvent("dragItemPositioned",null,[item])}var item=this.isEnabled&&this.getItem(elem);if(!item)return;clearTimeout(this.dragTimeout),item.element.classList.add("is-positioning-post-drag");var completeCount=0,_this=this;item.once("layout",onDragEndLayoutComplete),this.once("layoutComplete",onDragEndLayoutComplete),item.moveTo(item.rect.x,item.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),item.disablePlacing(),this.unstamp(item.element)},proto.bindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"on")},proto.unbindDraggabillyEvents=function(draggie){this._bindDraggabillyEvents(draggie,"off")},proto._bindDraggabillyEvents=function(draggie,method){var handlers=this.handleDraggabilly;draggie[method]("dragStart",handlers.dragStart),draggie[method]("dragMove",handlers.dragMove),draggie[method]("dragEnd",handlers.dragEnd)},proto.bindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"on")},proto.unbindUIDraggableEvents=function($elems){this._bindUIDraggableEvents($elems,"off")},proto._bindUIDraggableEvents=function($elems,method){var handlers=this.handleUIDraggable;$elems[method]("dragstart",handlers.start)[method]("drag",handlers.drag)[method]("dragstop",handlers.stop)};var _destroy=proto.destroy;return proto.destroy=function(){_destroy.apply(this,arguments),this.isEnabled=!1},Packery.Rect=Rect,Packery.Packer=Packer,Packery}),function(window,factory){typeof define=="function"&&define.amd?define(["isotope-layout/js/layout-mode","packery/js/packery"],factory):typeof module=="object"&&module.exports?module.exports=factory(require("isotope-layout/js/layout-mode"),require("packery")):factory(window.Isotope.LayoutMode,window.Packery)}(window,function factor(LayoutMode,Packery){var PackeryMode=LayoutMode.create("packery"),proto=PackeryMode.prototype,keepModeMethods={_getElementOffset:!0,_getMeasurement:!0};for(var method in Packery.prototype)keepModeMethods[method]||(proto[method]=Packery.prototype[method]);var _resetLayout=proto._resetLayout;proto._resetLayout=function(){this.packer=this.packer||new Packery.Packer,this.shiftPacker=this.shiftPacker||new Packery.Packer,_resetLayout.apply(this,arguments)};var _getItemLayoutPosition=proto._getItemLayoutPosition;proto._getItemLayoutPosition=function(item){return item.rect=item.rect||new Packery.Rect,_getItemLayoutPosition.call(this,item)};var _needsResizeLayout=proto.needsResizeLayout;proto.needsResizeLayout=function(){return this._getOption("horizontal")?this.needsVerticalResizeLayout():_needsResizeLayout.call(this)};var _getOption=proto._getOption;return proto._getOption=function(option){return option=="horizontal"?this.options.isHorizontal!==undefined?this.options.isHorizontal:this.options.horizontal:_getOption.apply(this.isotope,arguments)},PackeryMode}),function(window,factory){typeof define=="function"&&define.amd?define(["isotope/js/layout-mode"],factory):typeof exports=="object"?module.exports=factory(require("isotope-layout/js/layout-mode")):factory(window.Isotope.LayoutMode)}(window,function factory(LayoutMode){"use strict";var CellsByRow=LayoutMode.create("cellsByRow"),proto=CellsByRow.prototype;return proto._resetLayout=function(){this.itemIndex=0,this.getColumnWidth(),this.getRowHeight(),this.cols=Math.floor(this.isotope.size.innerWidth/this.columnWidth),this.cols=Math.max(this.cols,1)},proto._getItemLayoutPosition=function(item){item.getSize();var col=this.itemIndex%this.cols,row=Math.floor(this.itemIndex/this.cols),x=(col+.5)*this.columnWidth-item.size.outerWidth/2,y=(row+.5)*this.rowHeight-item.size.outerHeight/2;return this.itemIndex++,{x:x,y:y}},proto._getContainerSize=function(){return{height:Math.ceil(this.itemIndex/this.cols)*this.rowHeight}},CellsByRow}),function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($,undefined){"use strict";$.infinitescroll=function infscr(options,callback,element){this.element=$(element),this._create(options,callback)||(this.failed=!0)},$.infinitescroll.defaults={loading:{finished:undefined,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:undefined},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:undefined,binder:$(window),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:undefined,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:undefined,path:undefined,prefill:!1,maxPage:undefined},$.infinitescroll.prototype={_binding:function infscr_binding(binding){var instance=this,opts=instance.options;opts.v="2.0b2.120520";if(!!opts.behavior&&this["_binding_"+opts.behavior]!==undefined){this["_binding_"+opts.behavior].call(this);return}if(binding!=="bind"&&binding!=="unbind")return this._debug("Binding value  "+binding+" not valid"),!1;binding==="unbind"?this.options.binder.unbind("smartscroll.infscr."+instance.options.infid):this.options.binder[binding]("smartscroll.infscr."+instance.options.infid,function(){instance.scroll()}),this._debug("Binding",binding)},_create:function infscr_create(options,callback){var opts=$.extend(!0,{},$.infinitescroll.defaults,options);this.options=opts;var $window=$(window),instance=this;if(!instance._validate(options))return!1;var path=$(opts.nextSelector).attr("href");if(!path)return this._debug("Navigation selector not found"),!1;opts.path=opts.path||this._determinepath(path),opts.contentSelector=opts.contentSelector||this.element,opts.loading.selector=opts.loading.selector||opts.contentSelector,opts.loading.msg=opts.loading.msg||$('<div id="infscr-loading"><img alt="Loading..." src="'+opts.loading.img+'" /><div>'+opts.loading.msgText+"</div></div>"),(new Image).src=opts.loading.img,opts.pixelsFromNavToBottom===undefined&&(opts.pixelsFromNavToBottom=$(document).height()-$(opts.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+opts.pixelsFromNavToBottom));var self=this;return opts.loading.start=opts.loading.start||function(){$(opts.navSelector).hide(),opts.loading.msg.appendTo(opts.loading.selector).show(opts.loading.speed,$.proxy(function(){this.beginAjax(opts)},self))},opts.loading.finished=opts.loading.finished||function(){opts.state.isBeyondMaxPage||opts.loading.msg.fadeOut(opts.loading.speed)},opts.callback=function(instance,data,url){!!opts.behavior&&instance["_callback_"+opts.behavior]!==undefined&&instance["_callback_"+opts.behavior].call($(opts.contentSelector)[0],data,url),callback&&callback.call($(opts.contentSelector)[0],data,opts,url),opts.prefill&&$window.bind("resize.infinite-scroll",instance._prefill)},options.debug&&Function.prototype.bind&&(typeof console=="object"||typeof console=="function")&&typeof console.log=="object"&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(method){console[method]=this.call(console[method],console)},Function.prototype.bind),this._setup(),opts.prefill&&this._prefill(),!0},_prefill:function infscr_prefill(){function needsPrefill(){return $(instance.options.contentSelector).height()<=$window.height()}var instance=this,$window=$(window);this._prefill=function(){needsPrefill()&&instance.scroll(),$window.bind("resize.infinite-scroll",function(){needsPrefill()&&($window.unbind("resize.infinite-scroll"),instance.scroll())})},this._prefill()},_debug:function infscr_debug(){if(!0!==this.options.debug)return;typeof console!="undefined"&&typeof console.log=="function"?Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]=="string"?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):!Function.prototype.bind&&typeof console!="undefined"&&typeof console.log=="object"&&Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},_determinepath:function infscr_determinepath(path){var opts=this.options;if(!opts.behavior||this["_determinepath_"+opts.behavior]===undefined){if(!opts.pathParse){if(path.match(/^(.*?)\b2\b(.*?$)/))path=path.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(path.match(/^(.*?)2(.*?$)/)){if(path.match(/^(.*?page=)2(\/.*|$)/))return path=path.match(/^(.*?page=)2(\/.*|$)/).slice(1),path;path=path.match(/^(.*?)2(.*?$)/).slice(1)}else{if(path.match(/^(.*?page=)1(\/.*|$)/))return path=path.match(/^(.*?page=)1(\/.*|$)/).slice(1),path;this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),opts.state.isInvalidPage=!0}return this._debug("determinePath",path),path}return this._debug("pathParse manual"),opts.pathParse(path,this.options.state.currPage+1)}return this["_determinepath_"+opts.behavior].call(this,path)},_error:function infscr_error(xhr){var opts=this.options;if(!!opts.behavior&&this["_error_"+opts.behavior]!==undefined){this["_error_"+opts.behavior].call(this,xhr);return}xhr!=="destroy"&&xhr!=="end"&&(xhr="unknown"),this._debug("Error",xhr),(xhr==="end"||opts.state.isBeyondMaxPage)&&this._showdonemsg(),opts.state.isDone=!0,opts.state.currPage=1,opts.state.isPaused=!1,opts.state.isBeyondMaxPage=!1,this._binding("unbind")},_loadcallback:function infscr_loadcallback(box,data,url){var opts=this.options,callback=this.options.callback,result=opts.state.isDone?"done":opts.appendCallback?"append":"no-append",frag;if(!!opts.behavior&&this["_loadcallback_"+opts.behavior]!==undefined){this["_loadcallback_"+opts.behavior].call(this,box,data);return}switch(result){case"done":return this._showdonemsg(),!1;case"no-append":opts.dataType==="html"&&(data="<div>"+data+"</div>",data=$(data).find(opts.itemSelector));if(data.length===0)return this._error("end");break;case"append":var children=box.children();if(children.length===0)return this._error("end");frag=document.createDocumentFragment();while(box[0].firstChild)frag.appendChild(box[0].firstChild);this._debug("contentSelector",$(opts.contentSelector)[0]),$(opts.contentSelector)[0].appendChild(frag),data=children.get()}opts.loading.finished.call($(opts.contentSelector)[0],opts);if(opts.animate){var scrollTo=$(window).scrollTop()+$(opts.loading.msg).height()+opts.extraScrollPx+"px";$("html,body").animate({scrollTop:scrollTo},800,function(){opts.state.isDuringAjax=!1})}opts.animate||(opts.state.isDuringAjax=!1),callback(this,data,url),opts.prefill&&this._prefill()},_nearbottom:function infscr_nearbottom(){var opts=this.options,pixelsFromWindowBottomToBottom=0+$(document).height()-opts.binder.scrollTop()-$(window).height();return!opts.behavior||this["_nearbottom_"+opts.behavior]===undefined?(this._debug("math:",pixelsFromWindowBottomToBottom,opts.pixelsFromNavToBottom),pixelsFromWindowBottomToBottom-opts.bufferPx<opts.pixelsFromNavToBottom):this["_nearbottom_"+opts.behavior].call(this)},_pausing:function infscr_pausing(pause){var opts=this.options;if(!opts.behavior||this["_pausing_"+opts.behavior]===undefined){pause!=="pause"&&pause!=="resume"&&pause!==null&&this._debug("Invalid argument. Toggling pause value instead"),pause=!pause||pause!=="pause"&&pause!=="resume"?"toggle":pause;switch(pause){case"pause":opts.state.isPaused=!0;break;case"resume":opts.state.isPaused=!1;break;case"toggle":opts.state.isPaused=!opts.state.isPaused}return this._debug("Paused",opts.state.isPaused),!1}this["_pausing_"+opts.behavior].call(this,pause);return},_setup:function infscr_setup(){var opts=this.options;if(!opts.behavior||this["_setup_"+opts.behavior]===undefined)return this._binding("bind"),!1;this["_setup_"+opts.behavior].call(this);return},_showdonemsg:function infscr_showdonemsg(){var opts=this.options;if(!!opts.behavior&&this["_showdonemsg_"+opts.behavior]!==undefined){this["_showdonemsg_"+opts.behavior].call(this);return}opts.loading.msg.find("img").hide().parent().find("div").html(opts.loading.finishedMsg).animate({opacity:1},2e3,function(){$(this).parent().fadeOut(opts.loading.speed)}),opts.errorCallback.call($(opts.contentSelector)[0],"done")},_validate:function infscr_validate(opts){for(var key in opts)if(key.indexOf&&key.indexOf("Selector")>-1&&$(opts[key]).length===0)return this._debug("Your "+key+" found no elements."),!1;return!0},bind:function infscr_bind(){this._binding("bind")},destroy:function infscr_destroy(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function infscr_pause(){this._pausing("pause")},resume:function infscr_resume(){this._pausing("resume")},beginAjax:function infscr_ajax(opts){var instance=this,path=opts.path,box,desturl,method,condition;opts.state.currPage++;if(opts.maxPage!==undefined&&opts.state.currPage>opts.maxPage){opts.state.isBeyondMaxPage=!0,this.destroy();return}box=$(opts.contentSelector).is("table, tbody")?$("<tbody/>"):$("<div/>"),desturl=typeof path=="function"?path(opts.state.currPage):path.join(opts.state.currPage),instance._debug("heading into ajax",desturl),method=opts.dataType==="html"||opts.dataType==="json"?opts.dataType:"html+callback",opts.appendCallback&&opts.dataType==="html"&&(method+="+callback");switch(method){case"html+callback":instance._debug("Using HTML via .load() method"),box.load(desturl+" "+opts.itemSelector,undefined,function infscr_ajax_callback(responseText){instance._loadcallback(box,responseText,desturl)});break;case"html":instance._debug("Using "+method.toUpperCase()+" via $.ajax() method"),$.ajax({url:desturl,dataType:opts.dataType,complete:function infscr_ajax_callback(jqXHR,textStatus){condition=typeof jqXHR.isResolved!="undefined"?jqXHR.isResolved():textStatus==="success"||textStatus==="notmodified",condition?instance._loadcallback(box,jqXHR.responseText,desturl):instance._error("end")}});break;case"json":instance._debug("Using "+method.toUpperCase()+" via $.ajax() method"),$.ajax({dataType:"json",type:"GET",url:desturl,success:function(data,textStatus,jqXHR){condition=typeof jqXHR.isResolved!="undefined"?jqXHR.isResolved():textStatus==="success"||textStatus==="notmodified";if(opts.appendCallback)if(opts.template!==undefined){var theData=opts.template(data);box.append(theData),condition?instance._loadcallback(box,theData):instance._error("end")}else instance._debug("template must be defined."),instance._error("end");else condition?instance._loadcallback(box,data,desturl):instance._error("end")},error:function(){instance._debug("JSON ajax request failed."),instance._error("end")}})}},retrieve:function infscr_retrieve(pageNum){pageNum=pageNum||null;var instance=this,opts=instance.options;if(!!opts.behavior&&this["retrieve_"+opts.behavior]!==undefined){this["retrieve_"+opts.behavior].call(this,pageNum);return}if(opts.state.isDestroyed)return this._debug("Instance is destroyed"),!1;opts.state.isDuringAjax=!0,opts.loading.start.call($(opts.contentSelector)[0],opts)},scroll:function infscr_scroll(){var opts=this.options,state=opts.state;if(!!opts.behavior&&this["scroll_"+opts.behavior]!==undefined){this["scroll_"+opts.behavior].call(this);return}if(state.isDuringAjax||state.isInvalidPage||state.isDone||state.isDestroyed||state.isPaused)return;if(!this._nearbottom())return;this.retrieve()},toggle:function infscr_toggle(){this._pausing()},unbind:function infscr_unbind(){this._binding("unbind")},update:function infscr_options(key){$.isPlainObject(key)&&(this.options=$.extend(!0,this.options,key))}},$.fn.infinitescroll=function infscr_init(options,callback){var thisCall=typeof options;switch(thisCall){case"string":var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,"infinitescroll");if(!instance)return!1;if(!$.isFunction(instance[options])||options.charAt(0)==="_")return!1;instance[options].apply(instance,args)});break;case"object":this.each(function(){var instance=$.data(this,"infinitescroll");instance?instance.update(options):(instance=new $.infinitescroll(options,callback,this),instance.failed||$.data(this,"infinitescroll",instance))})}return this};var event=$.event,scrollTimeout;event.special.smartscroll={setup:function(){$(this).bind("scroll",event.special.smartscroll.handler)},teardown:function(){$(this).unbind("scroll",event.special.smartscroll.handler)},handler:function(event,execAsap){var context=this,args=arguments;event.type="smartscroll",scrollTimeout&&clearTimeout(scrollTimeout),scrollTimeout=setTimeout(function(){$(context).trigger("smartscroll",args)},execAsap==="execAsap"?0:100)}},$.fn.smartscroll=function(fn){return fn?this.bind("smartscroll",fn):this.trigger("smartscroll",["execAsap"])}}),function(){"use strict";function Waypoint(options){if(!options)throw new Error("No options passed to Waypoint constructor");if(!options.element)throw new Error("No element option passed to Waypoint constructor");if(!options.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+keyCounter,this.options=Waypoint.Adapter.extend({},Waypoint.defaults,options),this.element=this.options.element,this.adapter=new Waypoint.Adapter(this.element),this.callback=options.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=Waypoint.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=Waypoint.Context.findOrCreateByElement(this.options.context),Waypoint.offsetAliases[this.options.offset]&&(this.options.offset=Waypoint.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),allWaypoints[this.key]=this,keyCounter+=1}var keyCounter=0,allWaypoints={};Waypoint.prototype.queueTrigger=function(direction){this.group.queueTrigger(this,direction)},Waypoint.prototype.trigger=function(args){if(!this.enabled)return;this.callback&&this.callback.apply(this,args)},Waypoint.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete allWaypoints[this.key]},Waypoint.prototype.disable=function(){return this.enabled=!1,this},Waypoint.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},Waypoint.prototype.next=function(){return this.group.next(this)},Waypoint.prototype.previous=function(){return this.group.previous(this)},Waypoint.invokeAll=function(method){var allWaypointsArray=[];for(var waypointKey in allWaypoints)allWaypointsArray.push(allWaypoints[waypointKey]);for(var i=0,end=allWaypointsArray.length;i<end;i++)allWaypointsArray[i][method]()},Waypoint.destroyAll=function(){Waypoint.invokeAll("destroy")},Waypoint.disableAll=function(){Waypoint.invokeAll("disable")},Waypoint.enableAll=function(){Waypoint.Context.refreshAll();for(var waypointKey in allWaypoints)allWaypoints[waypointKey].enabled=!0;return this},Waypoint.refreshAll=function(){Waypoint.Context.refreshAll()},Waypoint.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},Waypoint.viewportWidth=function(){return document.documentElement.clientWidth},Waypoint.adapters=[],Waypoint.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},Waypoint.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=Waypoint}(),function(){"use strict";function requestAnimationFrameShim(callback){window.setTimeout(callback,1e3/60)}function Context(element){this.element=element,this.Adapter=Waypoint.Adapter,this.adapter=new this.Adapter(element),this.key="waypoint-context-"+keyCounter,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},element.waypointContextKey=this.key,contexts[element.waypointContextKey]=this,keyCounter+=1,Waypoint.windowContext||(Waypoint.windowContext=!0,Waypoint.windowContext=new Context(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var keyCounter=0,contexts={},Waypoint=window.Waypoint,oldWindowLoad=window.onload;Context.prototype.add=function(waypoint){var axis=waypoint.options.horizontal?"horizontal":"vertical";this.waypoints[axis][waypoint.key]=waypoint,this.refresh()},Context.prototype.checkEmpty=function(){var horizontalEmpty=this.Adapter.isEmptyObject(this.waypoints.horizontal),verticalEmpty=this.Adapter.isEmptyObject(this.waypoints.vertical),isWindow=this.element==this.element.window;horizontalEmpty&&verticalEmpty&&!isWindow&&(this.adapter.off(".waypoints"),delete contexts[this.key])},Context.prototype.createThrottledResizeHandler=function(){function resizeHandler(){self.handleResize(),self.didResize=!1}var self=this;this.adapter.on("resize.waypoints",function(){self.didResize||(self.didResize=!0,Waypoint.requestAnimationFrame(resizeHandler))})},Context.prototype.createThrottledScrollHandler=function(){function scrollHandler(){self.handleScroll(),self.didScroll=!1}var self=this;this.adapter.on("scroll.waypoints",function(){if(!self.didScroll||Waypoint.isTouch)self.didScroll=!0,Waypoint.requestAnimationFrame(scrollHandler)})},Context.prototype.handleResize=function(){Waypoint.Context.refreshAll()},Context.prototype.handleScroll=function(){var triggeredGroups={},axes={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var axisKey in axes){var axis=axes[axisKey],isForward=axis.newScroll>axis.oldScroll,direction=isForward?axis.forward:axis.backward;for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey];if(waypoint.triggerPoint===null)continue;var wasBeforeTriggerPoint=axis.oldScroll<waypoint.triggerPoint,nowAfterTriggerPoint=axis.newScroll>=waypoint.triggerPoint,crossedForward=wasBeforeTriggerPoint&&nowAfterTriggerPoint,crossedBackward=!wasBeforeTriggerPoint&&!nowAfterTriggerPoint;if(crossedForward||crossedBackward)waypoint.queueTrigger(direction),triggeredGroups[waypoint.group.id]=waypoint.group}}for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers();this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}},Context.prototype.innerHeight=function(){return this.element==this.element.window?Waypoint.viewportHeight():this.adapter.innerHeight()},Context.prototype.remove=function(waypoint){delete this.waypoints[waypoint.axis][waypoint.key],this.checkEmpty()},Context.prototype.innerWidth=function(){return this.element==this.element.window?Waypoint.viewportWidth():this.adapter.innerWidth()},Context.prototype.destroy=function(){var allWaypoints=[];for(var axis in this.waypoints)for(var waypointKey in this.waypoints[axis])allWaypoints.push(this.waypoints[axis][waypointKey]);for(var i=0,end=allWaypoints.length;i<end;i++)allWaypoints[i].destroy()},Context.prototype.refresh=function(){var isWindow=this.element==this.element.window,contextOffset=isWindow?undefined:this.adapter.offset(),triggeredGroups={},axes;this.handleScroll(),axes={horizontal:{contextOffset:isWindow?0:contextOffset.left,contextScroll:isWindow?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWindow?0:contextOffset.top,contextScroll:isWindow?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var axisKey in axes){var axis=axes[axisKey];for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey],adjustment=waypoint.options.offset,oldTriggerPoint=waypoint.triggerPoint,elementOffset=0,freshWaypoint=oldTriggerPoint==null,contextModifier,wasBeforeScroll,nowAfterScroll,triggeredBackward,triggeredForward;waypoint.element!==waypoint.element.window&&(elementOffset=waypoint.adapter.offset()[axis.offsetProp]),typeof adjustment=="function"?adjustment=adjustment.apply(waypoint):typeof adjustment=="string"&&(adjustment=parseFloat(adjustment),waypoint.options.offset.indexOf("%")>-1&&(adjustment=Math.ceil(axis.contextDimension*adjustment/100))),contextModifier=axis.contextScroll-axis.contextOffset,waypoint.triggerPoint=Math.floor(elementOffset+contextModifier-adjustment),wasBeforeScroll=oldTriggerPoint<axis.oldScroll,nowAfterScroll=waypoint.triggerPoint>=axis.oldScroll,triggeredBackward=wasBeforeScroll&&nowAfterScroll,triggeredForward=!wasBeforeScroll&&!nowAfterScroll,!freshWaypoint&&triggeredBackward?(waypoint.queueTrigger(axis.backward),triggeredGroups[waypoint.group.id]=waypoint.group):!freshWaypoint&&triggeredForward?(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group):freshWaypoint&&axis.oldScroll>=waypoint.triggerPoint&&(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group)}}return Waypoint.requestAnimationFrame(function(){for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers()}),this},Context.findOrCreateByElement=function(element){return Context.findByElement(element)||new Context(element)},Context.refreshAll=function(){for(var contextId in contexts)contexts[contextId].refresh()},Context.findByElement=function(element){return contexts[element.waypointContextKey]},window.onload=function(){oldWindowLoad&&oldWindowLoad(),Context.refreshAll()},Waypoint.requestAnimationFrame=function(callback){var requestFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||requestAnimationFrameShim;requestFn.call(window,callback)},Waypoint.Context=Context}(),function(){"use strict";function byTriggerPoint(a,b){return a.triggerPoint-b.triggerPoint}function byReverseTriggerPoint(a,b){return b.triggerPoint-a.triggerPoint}function Group(options){this.name=options.name,this.axis=options.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),groups[this.axis][this.name]=this}var groups={vertical:{},horizontal:{}},Waypoint=window.Waypoint;Group.prototype.add=function(waypoint){this.waypoints.push(waypoint)},Group.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},Group.prototype.flushTriggers=function(){for(var direction in this.triggerQueues){var waypoints=this.triggerQueues[direction],reverse=direction==="up"||direction==="left";waypoints.sort(reverse?byReverseTriggerPoint:byTriggerPoint);for(var i=0,end=waypoints.length;i<end;i+=1){var waypoint=waypoints[i];(waypoint.options.continuous||i===waypoints.length-1)&&waypoint.trigger([direction])}}this.clearTriggerQueues()},Group.prototype.next=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints),isLast=index===this.waypoints.length-1;return isLast?null:this.waypoints[index+1]},Group.prototype.previous=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);return index?this.waypoints[index-1]:null},Group.prototype.queueTrigger=function(waypoint,direction){this.triggerQueues[direction].push(waypoint)},Group.prototype.remove=function(waypoint){var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);index>-1&&this.waypoints.splice(index,1)},Group.prototype.first=function(){return this.waypoints[0]},Group.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},Group.findOrCreate=function(options){return groups[options.axis][options.name]||new Group(options)},Waypoint.Group=Group}(),function(){"use strict";function JQueryAdapter(element){this.$element=$(element)}var $=window.jQuery,Waypoint=window.Waypoint;$.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(i,method){JQueryAdapter.prototype[method]=function(){var args=Array.prototype.slice.call(arguments);return this.$element[method].apply(this.$element,args)}}),$.each(["extend","inArray","isEmptyObject"],function(i,method){JQueryAdapter[method]=$[method]}),Waypoint.adapters.push({name:"jquery",Adapter:JQueryAdapter}),Waypoint.Adapter=JQueryAdapter}(),function(){"use strict";function createExtension(framework){return function(){var waypoints=[],overrides=arguments[0];return framework.isFunction(arguments[0])&&(overrides=framework.extend({},arguments[1]),overrides.handler=arguments[0]),this.each(function(){var options=framework.extend({},overrides,{element:this});typeof options.context=="string"&&(options.context=framework(this).closest(options.context)[0]),waypoints.push(new Waypoint(options))}),waypoints}}var Waypoint=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=createExtension(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=createExtension(window.Zepto))}(),function(){"use strict";function noop(){}function Inview(options){this.options=Waypoint.Adapter.extend({},Inview.defaults,options),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var Waypoint=window.Waypoint;Inview.prototype.createWaypoints=function(){var configs={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]};for(var i=0,end=configs[this.axis].length;i<end;i++){var config=configs[this.axis][i];this.createWaypoint(config)}},Inview.prototype.createWaypoint=function(config){var self=this;this.waypoints.push(new Waypoint({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(config){return function(direction){self.options[config[direction]].call(self,direction)}}(config),offset:config.offset,horizontal:this.options.horizontal}))},Inview.prototype.destroy=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].destroy();this.waypoints=[]},Inview.prototype.disable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].disable()},Inview.prototype.enable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].enable()},Inview.defaults={context:window,enabled:!0,enter:noop,entered:noop,exit:noop,exited:noop},Waypoint.Inview=Inview}(),function($){function initMouseDetection(disable){if(!mouseDetectionEnabled&&!disable){var firstTime=!0,lastMove=null;$(document).bind({"mousemove.smartmenus_mouse":function(e){var thisMove={x:e.pageX,y:e.pageY,timeStamp:(new Date).getTime()};if(lastMove){var deltaX=Math.abs(lastMove.x-thisMove.x),deltaY=Math.abs(lastMove.y-thisMove.y);if((deltaX>0||deltaY>0)&&deltaX<=2&&deltaY<=2&&thisMove.timeStamp-lastMove.timeStamp<=300){mouse=!0;if(firstTime){var $a=$(e.target).closest("a");$a.is("a")&&$.each(menuTrees,function(){if($.contains(this.$root[0],$a[0]))return this.itemEnter({currentTarget:$a[0]}),!1}),firstTime=!1}}}lastMove=thisMove},"touchstart.smartmenus_mouse pointerover.smartmenus_mouse MSPointerOver.smartmenus_mouse":function(e){/^(4|mouse)$/.test(e.originalEvent.pointerType)||(mouse=!1)}}),mouseDetectionEnabled=!0}else mouseDetectionEnabled&&disable&&($(document).unbind(".smartmenus_mouse"),mouseDetectionEnabled=!1)}var menuTrees=[],IE=!!window.createPopup,IElt9=IE&&!document.defaultView,IElt8=IE&&!document.querySelector,IE6=IE&&typeof document.documentElement.currentStyle.minWidth=="undefined",mouse=!1,mouseDetectionEnabled=!1;$.SmartMenus=function(elm,options){this.$root=$(elm),this.opts=options,this.rootId="",this.$subArrow=null,this.subMenus=[],this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.zIndexInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.init()},$.extend($.SmartMenus,{hideAll:function(){$.each(menuTrees,function(){this.menuHideAll()})},destroy:function(){while(menuTrees.length)menuTrees[0].destroy();initMouseDetection(!0)},prototype:{init:function(refresh){var self=this;if(!refresh){menuTrees.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0),this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind({"mouseover.smartmenus focusin.smartmenus":$.proxy(this.rootOver,this),"mouseout.smartmenus focusout.smartmenus":$.proxy(this.rootOut,this)}).delegate("a, div.logo-container",{"mouseenter.smartmenus":$.proxy(this.itemEnter,this),"mouseleave.smartmenus":$.proxy(this.itemLeave,this),"mousedown.smartmenus":$.proxy(this.itemDown,this),"focus.smartmenus":$.proxy(this.itemFocus,this),"blur.smartmenus":$.proxy(this.itemBlur,this),"click.smartmenus":$.proxy(this.itemClick,this),"touchend.smartmenus":$.proxy(this.itemTouchEnd,this)});var eNamespace=".smartmenus"+this.rootId;this.opts.hideOnClick&&$(document).bind("touchstart"+eNamespace,$.proxy(this.docTouchStart,this)).bind("touchmove"+eNamespace,$.proxy(this.docTouchMove,this)).bind("touchend"+eNamespace,$.proxy(this.docTouchEnd,this)).bind("click"+eNamespace,$.proxy(this.docClick,this)),$(window).bind("resize"+eNamespace+" orientationchange"+eNamespace,$.proxy(this.winResize,this)),$(window).bind("scroll"+eNamespace+" orientationchange"+eNamespace,$.proxy(this.winResize,this)),this.opts.subIndicators&&(this.$subArrow=$("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),initMouseDetection()}this.$firstSub=this.$root.find("ul").each(function(){self.menuInit($(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0);if(this.opts.markCurrentItem){var reDefaultDoc=/(index|default)\.[^#\?\/]*/i,reHash=/#.*/,locHref=window.location.href.replace(reDefaultDoc,""),locHrefNoHash=locHref.replace(reHash,"");this.$root.find("a").each(function(){var href=this.href.replace(reDefaultDoc,""),$this=$(this);if(href==locHref||href==locHrefNoHash)$this.addClass("current"),self.opts.markCurrentTree&&$this.parents("li").each(function(){var $this=$(this);$this.dataSM("sub")&&$this.children("a").addClass("current")})})}},destroy:function(){this.menuHideAll(),this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(".smartmenus").undelegate(".smartmenus");var eNamespace=".smartmenus"+this.rootId;$(document).unbind(eNamespace),$(window).unbind(eNamespace),this.opts.subIndicators&&(this.$subArrow=null);var self=this;$.each(this.subMenus,function(){this.hasClass("mega-menu")&&this.find("ul").removeDataSM("in-mega");if(this.dataSM("shown-before")){IElt8&&this.children().css({styleFloat:"",width:""});if(self.opts.subMenusMinWidth||self.opts.subMenusMaxWidth)IE6?this.css({width:"",overflowX:"",overflowY:""}).children().children("a").css("white-space",""):this.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap");this.dataSM("scroll-arrows")&&this.dataSM("scroll-arrows").remove(),this.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})}self.opts.subIndicators&&this.dataSM("parent-a").removeClass("has-submenu").children("span.sub-arrow").remove(),this.removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").parent().removeDataSM("sub")}),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),menuTrees.splice($.inArray(this,menuTrees),1)},disable:function(noOverlay){if(!this.disabled){this.menuHideAll();if(!noOverlay&&!this.opts.isPopup&&this.$root.is(":visible")){var pos=this.$root.offset();this.$disableOverlay=$('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:pos.top,left:pos.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex()+1,opacity:0}).appendTo(document.body)}this.disabled=!0}},docClick:function(e){(this.visibleSubMenus.length&&!$.contains(this.$root[0],e.target)||$(e.target).is("a"))&&this.menuHideAll($(e.target))},docTouchEnd:function(e){if(!this.lastTouch)return;if(this.visibleSubMenus.length&&(this.lastTouch.x2===undefined||this.lastTouch.x1==this.lastTouch.x2)&&(this.lastTouch.y2===undefined||this.lastTouch.y1==this.lastTouch.y2)&&(!this.lastTouch.target||!$.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var self=this;this.hideTimeout=setTimeout(function(){self.menuHideAll($(e.target))},350)}this.lastTouch=null},docTouchMove:function(e){if(!this.lastTouch)return;var touchPoint=e.originalEvent.touches[0];this.lastTouch.x2=touchPoint.pageX,this.lastTouch.y2=touchPoint.pageY},docTouchStart:function(e){var touchPoint=e.originalEvent.touches[0];this.lastTouch={x1:touchPoint.pageX,y1:touchPoint.pageY,target:touchPoint.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getHeight:function($elm){return this.getOffset($elm,!0)},getOffset:function($elm,height){var old;$elm.css("display")=="none"&&(old={position:$elm[0].style.position,visibility:$elm[0].style.visibility},$elm.css({position:"absolute",visibility:"hidden"}).show());var defaultView=$elm[0].ownerDocument.defaultView,compStyle=defaultView&&defaultView.getComputedStyle&&defaultView.getComputedStyle($elm[0],null),val=compStyle&&parseFloat(compStyle[height?"height":"width"]);return val?val+=parseFloat(compStyle[height?"paddingTop":"paddingLeft"])+parseFloat(compStyle[height?"paddingBottom":"paddingRight"])+parseInt(compStyle[height?"borderTopWidth":"borderLeftWidth"])+parseInt(compStyle[height?"borderBottomWidth":"borderRightWidth"]):val=height?$elm[0].offsetHeight:$elm[0].offsetWidth,old&&$elm.hide().css(old),val},getWidth:function($elm){return this.getOffset($elm)},getStartZIndex:function(){var zIndex=parseInt(this.$root.css("z-index"));return isNaN(zIndex)?1:zIndex},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function($a){return this.handleEvents()&&!this.isLinkInMegaMenu($a)},isCollapsible:function(){return this.$firstSub.css("position")=="static"},isCSSOn:function(){return this.$firstLink.css("display")=="block"||this.$firstLink.css("display")=="flex"||this.$firstLink.css("display")=="inline-flex"||this.$firstLink.css("display")=="table-cell"||this.$firstLink.css("display")=="inline"},isFixed:function(){return this.$root.css("position")=="fixed"},isLinkInMegaMenu:function($a){return!$a.parent().parent().dataSM("level")},isTouchMode:function(){return!mouse||this.isCollapsible()},itemActivate:function($a){var $li=$a.parent(),$ul=$li.parent(),level=$ul.dataSM("level");if(level>1&&(!this.activatedItems[level-2]||this.activatedItems[level-2][0]!=$ul.dataSM("parent-a")[0])){var self=this;$($ul.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add($ul).each(function(){self.itemActivate($(this).dataSM("parent-a"))})}if(this.visibleSubMenus.length>level)for(var i=this.visibleSubMenus.length-1,l=!this.activatedItems[level-1]||this.activatedItems[level-1][0]!=$a[0]?level-1:level;i>l;i--)this.menuHide(this.visibleSubMenus[i]);this.activatedItems[level-1]=$a,this.visibleSubMenus[level-1]=$ul;if(this.$root.triggerHandler("activate.smapi",$a[0])===!1)return;var $sub=$li.dataSM("sub");$sub&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow($sub)},itemBlur:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;this.$root.triggerHandler("blur.smapi",$a[0])},itemClick:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;$a.removeDataSM("mousedown");if(this.$root.triggerHandler("click.smapi",$a[0])===!1)return!1;var $sub=$a.parent().dataSM("sub");if(this.isTouchMode()){$a.dataSM("href")&&$a.attr("href",$a.dataSM("href")).removeDataSM("href");if($sub&&(!$sub.dataSM("shown-before")||!$sub.is(":visible"))){this.itemActivate($a);if($sub.is(":visible"))return!1}}else if(this.opts.showOnClick&&$a.parent().parent().dataSM("level")==1&&$sub)return this.clickActivated=!0,this.menuShow($sub),!1;if($a.hasClass("disabled"))return!1;if(this.$root.triggerHandler("select.smapi",$a[0])===!1)return!1},itemDown:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;$a.dataSM("mousedown",!0)},itemEnter:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;if(!this.isTouchMode()){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);var self=this;this.showTimeout=setTimeout(function(){self.itemActivate($a)},this.opts.showOnClick&&$a.parent().parent().dataSM("level")==1?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",$a[0])},itemFocus:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;(!this.isTouchMode()||!$a.dataSM("mousedown"))&&(!this.activatedItems.length||this.activatedItems[this.activatedItems.length-1][0]!=$a[0])&&this.itemActivate($a),this.$root.triggerHandler("focus.smapi",$a[0])},itemLeave:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;this.isTouchMode()||($a[0].blur&&$a[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),$a.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",$a[0])},itemTouchEnd:function(e){var $a=$(e.currentTarget);if(!this.handleItemEvents($a))return;var $sub=$a.parent().dataSM("sub");$a.attr("href").charAt(0)!=="#"&&$sub&&(!$sub.dataSM("shown-before")||!$sub.is(":visible"))&&($a.dataSM("href",$a.attr("href")),$a.attr("href","#"))},menuFixLayout:function($ul){$ul.dataSM("shown-before")||($ul.hide().dataSM("shown-before",!0),IElt8&&$ul.children().css({styleFloat:"left",width:"100%"}))},menuHide:function($sub){if(this.$root.triggerHandler("beforehide.smapi",$sub[0])===!1)return;$sub.stop(!0,!0);if($sub.is(":visible")){var complete=function(){IElt9?$sub.parent().css("z-index",""):$sub.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,$sub,complete):$sub.hide(this.opts.collapsibleHideDuration,complete):this.opts.hideFunction?this.opts.hideFunction.call(this,$sub,complete):$sub.hide(this.opts.hideDuration,complete),$sub.dataSM("ie-shim")&&$sub.dataSM("ie-shim").remove(),$sub.dataSM("scroll")&&$sub.unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide(),$sub.dataSM("parent-a").removeClass("highlighted");var level=$sub.dataSM("level");this.activatedItems.splice(level-1,1),this.visibleSubMenus.splice(level-1,1),this.$root.triggerHandler("hide.smapi",$sub[0])}},menuHideAll:function($item){if($item!=undefined&&$item.parent().hasClass("menu-item")&&!$item.parent().hasClass("menu-item-has-children"))return;var $win=$(window),winW=$win.width();if($("body").hasClass("vmenu")&&winW>=560)return;this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var i=this.visibleSubMenus.length-1;i>0;i--)this.menuHide(this.visibleSubMenus[i]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove())),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.zIndexInc=0},menuIframeShim:function($ul){IE&&this.opts.overlapControlsInIE&&!$ul.dataSM("ie-shim")&&$ul.dataSM("ie-shim",$("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function($ul){if(!$ul.dataSM("in-mega")){this.subMenus.push($ul),$ul.hasClass("mega-menu")&&$ul.find("ul").dataSM("in-mega",!0);var level=2,par=$ul[0];while(par!=null&&par.parentNode!=null&&(par=par.parentNode.parentNode)!=this.$root[0])level++;$ul.dataSM("parent-a",$ul.prevAll("a").eq(-1)).dataSM("level",level).parent().dataSM("sub",$ul),this.opts.subIndicators&&$ul.dataSM("parent-a").addClass("has-submenu")[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function($sub){var fixIE=$("html.ie").length,$a=$sub.dataSM("parent-a"),$li=$sub.parent(),$ul=$sub.parent().parent(),$container=$ul.closest(".row-menu-inner").length?$("body").hasClass("megamenu-side-to-side")?$ul.closest(".row-menu"):$ul.closest(".row-menu-inner"):$ul.closest(".uncol"),level=$sub.dataSM("level"),subW=this.getWidth($sub),subH=this.getHeight($sub),itemOffset=$a.offset(),itemX=itemOffset.left,itemY=itemOffset.top,itemW=this.getWidth($a),itemH=this.getHeight($a),$win=$(window),winX=$win.scrollLeft(),winY=$win.scrollTop(),winW=$win.width(),winH=$win.height(),containerW=$container.width(),containerOffsetX=containerW+(winW-containerW)/2,horizontalParent=$ul.hasClass("sm")&&!$ul.hasClass("sm-vertical"),subOffsetX=level==2?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,subOffsetY=level==2?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY,x,y,leftPos;horizontalParent?(x=this.opts.rightToLeftSubMenus?itemW-subW-subOffsetX:subOffsetX,y=this.opts.bottomToTopSubMenus?-subH-subOffsetY:itemH+subOffsetY):(x=this.opts.rightToLeftSubMenus?subOffsetX-subW:subW-subOffsetX,y=this.opts.bottomToTopSubMenus?itemH-subOffsetY-subH:subOffsetY);if(this.opts.keepInViewport&&!this.isCollapsible()){this.isFixed()&&(itemX-=winX,itemY-=winY,winX=winY=0);var absX=itemX+x,absY=itemY+y;this.opts.rightToLeftSubMenus&&absX<winX?x=horizontalParent?winX-absX+x:itemW-subOffsetX:!this.opts.rightToLeftSubMenus&&absX+subW>winX+containerOffsetX&&(x=horizontalParent?winX+containerOffsetX-subW-absX+x:subOffsetX-subW);if(!horizontalParent)if(subH<winH&&absY+subH>winY+winH)y+=winY+winH-subH-absY;else if(subH>=winH||absY<winY)y+=winY-absY;if(mouse&&(horizontalParent&&(absY+subH>winY+winH+.49||absY<winY)||!horizontalParent&&subH>winH+.49)){var self=this;$sub.dataSM("scroll-arrows")||$sub.dataSM("scroll-arrows",$([$('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],$('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){self.menuScroll($sub,$(this).hasClass("scroll-up"))},mouseleave:function(e){self.menuScrollStop($sub),self.menuScrollOut($sub,e)},"mousewheel DOMMouseScroll":function(e){e.preventDefault()}}).insertAfter($sub));var vportY=winY-(itemY+itemH);$sub.dataSM("scroll",{vportY:vportY,subH:subH,winH:winH,step:1}).bind({"mouseover.smartmenus_scroll":function(e){self.menuScrollOver($sub,e)},"mouseout.smartmenus_scroll":function(e){self.menuScrollOut($sub,e)},"mousewheel.smartmenus_scroll DOMMouseScroll.smartmenus_scroll":function(e){self.menuScrollMousewheel($sub,e)}}).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:x+(parseInt($sub.css("border-left-width"))||0),width:this.getWidth($sub)-(parseInt($sub.css("border-left-width"))||0)-(parseInt($sub.css("border-right-width"))||0),zIndex:this.getStartZIndex()+this.zIndexInc}).eq(0).css("margin-top",vportY).end().eq(1).css("margin-top",vportY+winH-this.getHeight($sub.dataSM("scroll-arrows").eq(1))).end().eq(horizontalParent&&this.opts.bottomToTopSubMenus?0:1).show()}}if(!$sub.closest(".menu-accordion").length){var rightPos="auto";$sub.parents(".isotope-filters").length?($sub.parents(".text-right").eq(0).length?(leftPos="0px",rightPos="auto"):(leftPos="auto",rightPos="0px"),x=0):$sub.hasClass("mega-menu-inner")?($sub.css({width:containerW}),leftPos=-1*(parseFloat($sub.closest("ul.menu-smart").offset().left)-parseFloat($sub.closest(".row-menu").offset().left)),$("body").hasClass("megamenu-side-to-side")||(leftPos+=parseFloat($sub.closest(".row-menu-inner").css("paddingLeft"))),x=0):(leftPos=(level>2?$li.position().left-parseFloat($li.closest("ul").css("paddingLeft")):$li.position().left)+"px",x=level>2&&x>=0?x+1:x-1)}$sub.css({top:level>2?$a[0].offsetTop:fixIE?itemH:"100%",left:leftPos,right:rightPos,marginLeft:x,marginTop:level>2?0:y-itemH+($sub.closest(".menu-borders").length&&!$sub.closest(".menu-borders.needs-after").length?1:0)}),this.menuIframeShim($sub),$sub.dataSM("ie-shim")&&$sub.dataSM("ie-shim").css({zIndex:$sub.css("z-index"),width:subW,height:subH,marginLeft:x,marginTop:y-itemH+($sub.closest(".menu-mini").length?0:1)})},menuScroll:function($sub,up,wheel){var y=parseFloat($sub.css("margin-top")),scroll=$sub.dataSM("scroll"),end=scroll.vportY+(up?0:scroll.winH-scroll.subH),step=wheel||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor($sub.dataSM("scroll").step);$sub.add($sub.dataSM("ie-shim")).css("margin-top",Math.abs(end-y)>step?y+(up?step:-step):end),y=parseFloat($sub.css("margin-top")),(up&&y+scroll.subH>scroll.vportY+scroll.winH||!up&&y<scroll.vportY)&&$sub.dataSM("scroll-arrows").eq(up?1:0).show(),!wheel&&this.opts.scrollAccelerate&&$sub.dataSM("scroll").step<this.opts.scrollStep&&($sub.dataSM("scroll").step+=.5);if(Math.abs(y-end)<1)$sub.dataSM("scroll-arrows").eq(up?0:1).hide(),$sub.dataSM("scroll").step=1;else if(!wheel){var self=this;this.scrollTimeout=setTimeout(function(){self.menuScroll($sub,up)},this.opts.scrollInterval)}},menuScrollMousewheel:function($sub,e){var $closestSub=$(e.target).closest("ul");while($closestSub.dataSM("in-mega"))$closestSub=$closestSub.parent().closest("ul");if($closestSub[0]==$sub[0]){var up=(e.originalEvent.wheelDelta||-e.originalEvent.detail)>0;$sub.dataSM("scroll-arrows").eq(up?0:1).is(":visible")&&this.menuScroll($sub,up,!0)}e.preventDefault()},menuScrollOut:function($sub,e){var reClass=/^scroll-(up|down)/,$closestSub=$(e.relatedTarget).closest("ul");while($closestSub.dataSM("in-mega"))$closestSub=$closestSub.parent().closest("ul");!reClass.test((e.relatedTarget||"").className)&&($sub[0]!=e.relatedTarget&&!$.contains($sub[0],e.relatedTarget)||$closestSub[0]!=$sub[0])&&$sub.dataSM("scroll-arrows").css("visibility","hidden")},menuScrollOver:function($sub,e){var reClass=/^scroll-(up|down)/,$closestSub=$(e.target).closest("ul");while($closestSub.dataSM("in-mega"))$closestSub=$closestSub.parent().closest("ul");!reClass.test(e.target.className)&&$closestSub[0]==$sub[0]&&$sub.dataSM("scroll-arrows").css("visibility","visible")},menuScrollStop:function($sub){this.scrollTimeout&&(clearTimeout(this.scrollTimeout),this.scrollTimeout=0,$sub.dataSM("scroll").step=1)},menuShow:function($sub){if(!$sub.dataSM("beforefirstshowfired")){$sub.dataSM("beforefirstshowfired",!0);if(this.$root.triggerHandler("beforefirstshow.smapi",$sub[0])===!1)return}if(this.$root.triggerHandler("beforeshow.smapi",$sub[0])===!1)return;this.menuFixLayout($sub),$sub.stop(!0,!0);if(!$sub.is(":visible")){$sub.css({visibility:"visible","pointer-events":"auto"});var zIndex=this.getStartZIndex()+ ++this.zIndexInc;IElt9?$sub.parent().css("z-index",zIndex):$sub.css("z-index",zIndex),(this.opts.keepHighlighted||this.isCollapsible())&&$sub.dataSM("parent-a").attr("data-type")!="title"&&$sub.dataSM("parent-a").addClass("highlighted");if(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)if(!IElt8){$sub.css({width:$sub.hasClass("mega-menu-inner")?$(".box-container").outerWidth()+"px":"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&$sub.css("min-width",this.opts.subMenusMinWidth);if(this.opts.subMenusMaxWidth){var noMaxWidth=this.getWidth($sub);$sub.hasClass("mega-menu-inner")||$sub.css("max-width",this.opts.subMenusMaxWidth),noMaxWidth>this.getWidth($sub)&&$sub.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}}else{$sub.children().css("styleFloat","none"),IE6?$sub.width(this.opts.subMenusMinWidth?this.opts.subMenusMinWidth:1).children().children("a").css("white-space","nowrap"):($sub.css({width:$sub.hasClass("mega-menu-inner")?$(".box-container").outerWidth()+"px":"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&$sub.css("min-width",this.opts.subMenusMinWidth));if(this.opts.subMenusMaxWidth){var noMaxWidth=$sub.width();if(IE6){var maxWidth=$sub.css({width:this.opts.subMenusMaxWidth,overflowX:"hidden",overflowY:"hidden"}).width();noMaxWidth>maxWidth?$sub.css({width:maxWidth,overflowX:"visible",overflowY:"visible"}).children().children("a").css("white-space",""):$sub.css({width:noMaxWidth,overflowX:"visible",overflowY:"visible"})}else $sub.hasClass("mega-menu-inner")||$sub.css("max-width",this.opts.subMenusMaxWidth),noMaxWidth>$sub.width()?$sub.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth):$sub.width(noMaxWidth)}else $sub.width($sub.width());$sub.children().css("styleFloat","left")}this.menuPosition($sub),$sub.dataSM("ie-shim")&&$sub.dataSM("ie-shim").insertBefore($sub);var complete=function(){$sub.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,$sub,complete):$sub.show(this.opts.collapsibleShowDuration,complete):this.opts.showFunction?this.opts.showFunction.call(this,$sub,complete):$sub.show(this.opts.showDuration,complete),this.visibleSubMenus[$sub.dataSM("level")-1]=$sub,this.$root.triggerHandler("show.smapi",$sub[0])}},popupHide:function(noHideTimeout){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var self=this;this.hideTimeout=setTimeout(function(){self.menuHideAll()},noHideTimeout?1:this.opts.hideTimeout)},popupShow:function(left,top){if(!this.opts.isPopup){alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.');return}this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.menuFixLayout(this.$root),this.$root.stop(!0,!0),this.$root.is(":visible")||(this.$root.css({left:left,top:top}),this.menuIframeShim(this.$root),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:left,top:top}).insertBefore(this.$root),this.opts.showFunction?this.opts.showFunction.call(this,this.$root):this.$root.show(this.opts.showDuration),this.visibleSubMenus[0]=this.$root)},refresh:function(){this.menuHideAll(),this.$root.find("ul").each(function(){var $this=$(this);$this.dataSM("scroll-arrows")&&$this.dataSM("scroll-arrows").remove()}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired"),this.$root.find("a.has-submenu").removeClass("has-submenu").parent().removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),this.subMenus=[],this.init(!0)},rootOut:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0])return;this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);if(!this.opts.showOnClick||!this.opts.hideOnClick){var self=this;this.hideTimeout=setTimeout(function(){self.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(e){if(!this.handleEvents()||this.isTouchMode()||e.target==this.$root[0])return;this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(e){if(!this.handleEvents()){if(this.$disableOverlay){var pos=this.$root.offset();this.$disableOverlay.css({top:pos.top,left:pos.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()})}return}!this.isCollapsible()&&(!("onorientationchange"in window)||e.type=="orientationchange")&&(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll())}}}),$.fn.dataSM=function(key,val){return val?this.data(key+"_smartmenus",val):this.data(key+"_smartmenus")},$.fn.removeDataSM=function(key){return this.removeData(key+"_smartmenus")},$.fn.smartmenus=function(options){if(typeof options=="string"){var args=arguments,method=options;return Array.prototype.shift.call(args),this.each(function(){var smartmenus=$(this).data("smartmenus");smartmenus&&smartmenus[method]&&smartmenus[method].apply(smartmenus,args)})}var opts=$.extend({},$.fn.smartmenus.defaults,options);return this.each(function(){new $.SmartMenus(this,opts)})},$.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:!1,subMenusMaxWidth:!1,subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollInterval:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function($ul,complete){$ul.fadeOut(200,complete)},collapsibleShowDuration:0,collapsibleShowFunction:function($ul,complete){$ul.slideDown(200,complete)},collapsibleHideDuration:0,collapsibleHideFunction:function($ul,complete){$ul.slideUp(200,complete)},showOnClick:!1,hideOnClick:!0,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0}}(jQuery),function(factory){typeof define=="function"&&define.amd?define(["jquery"],function($){return factory($)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=factory(require("jquery")):factory(jQuery)}(function($){function bounceOut(x){var n1=7.5625,d1=2.75;return x<1/d1?n1*x*x:x<2/d1?n1*(x-=1.5/d1)*x+.75:x<2.5/d1?n1*(x-=2.25/d1)*x+.9375:n1*(x-=2.625/d1)*x+.984375}typeof $.easing!="undefined"&&($.easing.jswing=$.easing.swing);var pow=Math.pow,sqrt=Math.sqrt,sin=Math.sin,cos=Math.cos,PI=Math.PI,c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*PI/3,c5=2*PI/4.5;return $.extend($.easing,{def:"easeOutQuad",swing:function(x){return $.easing[$.easing.def](x)},easeInQuad:function(x){return x*x},easeOutQuad:function(x){return 1-(1-x)*(1-x)},easeInOutQuad:function(x){return x<.5?2*x*x:1-pow(-2*x+2,2)/2},easeInCubic:function(x){return x*x*x},easeOutCubic:function(x){return 1-pow(1-x,3)},easeInOutCubic:function(x){return x<.5?4*x*x*x:1-pow(-2*x+2,3)/2},easeInQuart:function(x){return x*x*x*x},easeOutQuart:function(x){return 1-pow(1-x,4)},easeInOutQuart:function(x){return x<.5?8*x*x*x*x:1-pow(-2*x+2,4)/2},easeInQuint:function(x){return x*x*x*x*x},easeOutQuint:function(x){return 1-pow(1-x,5)},easeInOutQuint:function(x){return x<.5?16*x*x*x*x*x:1-pow(-2*x+2,5)/2},easeInSine:function(x){return 1-cos(x*PI/2)},easeOutSine:function(x){return sin(x*PI/2)},easeInOutSine:function(x){return-(cos(PI*x)-1)/2},easeInExpo:function(x){return x===0?0:pow(2,10*x-10)},easeOutExpo:function(x){return x===1?1:1-pow(2,-10*x)},easeInOutExpo:function(x){return x===0?0:x===1?1:x<.5?pow(2,20*x-10)/2:(2-pow(2,-20*x+10))/2},easeInCirc:function(x){return 1-sqrt(1-pow(x,2))},easeOutCirc:function(x){return sqrt(1-pow(x-1,2))},easeInOutCirc:function(x){return x<.5?(1-sqrt(1-pow(2*x,2)))/2:(sqrt(1-pow(-2*x+2,2))+1)/2},easeInElastic:function(x){return x===0?0:x===1?1:-pow(2,10*x-10)*sin((x*10-10.75)*c4)},easeOutElastic:function(x){return x===0?0:x===1?1:pow(2,-10*x)*sin((x*10-.75)*c4)+1},easeInOutElastic:function(x){return x===0?0:x===1?1:x<.5?-(pow(2,20*x-10)*sin((20*x-11.125)*c5))/2:pow(2,-20*x+10)*sin((20*x-11.125)*c5)/2+1},easeInBack:function(x){return c3*x*x*x-c1*x*x},easeOutBack:function(x){return 1+c3*pow(x-1,3)+c1*pow(x-1,2)},easeInOutBack:function(x){return x<.5?pow(2*x,2)*((c2+1)*2*x-c2)/2:(pow(2*x-2,2)*((c2+1)*(x*2-2)+c2)+2)/2},easeInBounce:function(x){return 1-bounceOut(1-x)},easeOutBounce:bounceOut,easeInOutBounce:function(x){return x<.5?(1-bounceOut(1-2*x))/2:(1+bounceOut(2*x-1))/2}}),$}),function($){function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=!0,deltaX=0,deltaY=0;return event=$.event.fix(orgEvent),event.type="mousewheel",orgEvent.wheelDelta&&(delta=orgEvent.wheelDelta/120),orgEvent.detail&&(delta=-orgEvent.detail/3),deltaY=delta,orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS&&(deltaY=0,deltaX=-1*delta),orgEvent.wheelDeltaY!==undefined&&(deltaY=orgEvent.wheelDeltaY/120),orgEvent.wheelDeltaX!==undefined&&(deltaX=-1*orgEvent.wheelDeltaX/120),args.unshift(event,delta,deltaX,deltaY),($.event.dispatch||$.event.handle).apply(this,args)}var types=["DOMMouseScroll","mousewheel"];if($.event.fixHooks)for(var i=types.length;i;)$.event.fixHooks[types[--i]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var i=types.length;i;)this.addEventListener(types[--i],handler,!1);else this.onmousewheel=handler},teardown:function(){if(this.removeEventListener)for(var i=types.length;i;)this.removeEventListener(types[--i],handler,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}})}(jQuery),function($,window,undefined){function getPixel($element,property){return parseInt($element.css(property),10)||0}function within(number,min,max){return number<min?min:number>max?max:number}function getViewport(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}}function removeHash(){var scroll=getScrollXY();history.replaceState({},document.title,window.location.pathname+window.location.search),window.scrollTo(scroll.x,scroll.y)}function doAjax(url,callback){var url="//ilightbox.net/getSource/jsonp.php?url="+encodeURIComponent(url).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A");$.ajax({url:url,dataType:"jsonp"}),iLCallback=function(data){callback.call(this,data)}}function findImageInElement(element){var elements=$("*",element),imagesArr=new Array;return elements.each(function(){var url="",element=this;$(element).css("background-image")!="none"?url=$(element).css("background-image"):typeof $(element).attr("src")!="undefined"&&element.nodeName.toLowerCase()=="img"&&(url=$(element).attr("src"));if(url.indexOf("gradient")==-1){url=url.replace(/url\(\"/g,""),url=url.replace(/url\(/g,""),url=url.replace(/\"\)/g,""),url=url.replace(/\)/g,"");var urls=url.split(",");for(var i=0;i<urls.length;i++)if(urls[i].length>0&&$.inArray(urls[i],imagesArr)==-1){var extra="";browser.msie&&browser.version<9&&(extra="?"+floor(random()*3e3)),imagesArr.push(urls[i]+extra)}}}),imagesArr}function getExtension(URL){if(URL!==null){var ext=URL.indexOf("?")!==-1?URL.split("?")[0]:URL;return ext=ext.split(".").pop().toLowerCase(),ext}}function getTypeByExtension(URL){var type,ext=getExtension(URL);return URL==undefined?!1:(extensions.image.indexOf(ext)!==-1?type="image":extensions.flash.indexOf(ext)!==-1?type="flash":extensions.video.indexOf(ext)!==-1?type="video":ext.substring(0,1)=="#"?type="inline":type="iframe",type)}function percentToValue(percent,total){return parseInt(total/100*percent)}function parseURI(url){var m=String(url).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return m?{href:m[0]||"",protocol:m[1]||"",authority:m[2]||"",host:m[3]||"",hostname:m[4]||"",port:m[5]||"",pathname:m[6]||"",search:m[7]||"",hash:m[8]||""}:null}function absolutizeURI(base,href){function removeDotSegments(input){var output=[];return input.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(p){p==="/.."?output.pop():output.push(p)}),output.join("").replace(/^\//,input.charAt(0)==="/"?"/":"")}var iL=this;return href=parseURI(href||""),base=parseURI(base||""),!href||!base?null:(href.protocol||base.protocol)+(href.protocol||href.authority?href.authority:base.authority)+removeDotSegments(href.protocol||href.authority||href.pathname.charAt(0)==="/"?href.pathname:href.pathname?(base.authority&&!base.pathname?"/":"")+base.pathname.slice(0,base.pathname.lastIndexOf("/")+1)+href.pathname:base.pathname)+(href.protocol||href.authority||href.pathname?href.search:href.search||base.search)+href.hash}function version_compare(v1,v2,operator){this.php_js=this.php_js||{},this.php_js.ENV=this.php_js.ENV||{};var i=0,x=0,compare=0,vm={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},prepVersion=function(v){return v=(""+v).replace(/[_\-+]/g,"."),v=v.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),v.length?v.split("."):[-8]},numVersion=function(v){return v?isNaN(v)?vm[v]||-7:parseInt(v,10):0};v1=prepVersion(v1),v2=prepVersion(v2),x=max(v1.length,v2.length);for(i=0;i<x;i++){if(v1[i]==v2[i])continue;v1[i]=numVersion(v1[i]),v2[i]=numVersion(v2[i]);if(v1[i]<v2[i]){compare=-1;break}if(v1[i]>v2[i]){compare=1;break}}if(!operator)return compare;switch(operator){case">":case"gt":return compare>0;case">=":case"ge":return compare>=0;case"<=":case"le":return compare<=0;case"==":case"=":case"eq":return compare===0;case"<>":case"!=":case"ne":return compare!==0;case"":case"<":case"lt":return compare<0;default:return null}}function getScrollXY(){var scrOfX=0,scrOfY=0;return typeof window.pageYOffset=="number"?(scrOfY=window.pageYOffset,scrOfX=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(scrOfY=document.body.scrollTop,scrOfX=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(scrOfY=document.documentElement.scrollTop,scrOfX=document.documentElement.scrollLeft),{x:scrOfX,y:scrOfY}}function AC_QuickTimeVersion(){return gQTGeneratorVersion}function _QTComplain(a,b){b=b.replace("%%",a),alert(b)}function _QTAddAttribute(a,b,c){var d;return d=gTagAttrs[a+b],null==d&&(d=gTagAttrs[b]),null!=d?(0==b.indexOf(a)&&null==c&&(c=b.substring(a.length)),null==c&&(c=b),c+'="'+d+'" '):""}function _QTAddObjectAttr(a,b){return 0==a.indexOf("emb#")?"":(0==a.indexOf("obj#")&&null==b&&(b=a.substring(4)),_QTAddAttribute("obj#",a,b))}function _QTAddEmbedAttr(a,b){return 0==a.indexOf("obj#")?"":(0==a.indexOf("emb#")&&null==b&&(b=a.substring(4)),_QTAddAttribute("emb#",a,b))}function _QTAddObjectParam(a,b){var c,d="",e=b?" />":">";return-1==a.indexOf("emb#")&&(c=gTagAttrs["obj#"+a],null==c&&(c=gTagAttrs[a]),0==a.indexOf("obj#")&&(a=a.substring(4)),null!=c&&(d='  <param name="'+a+'" value="'+c+'"'+e+"\n")),d}function _QTDeleteTagAttrs(){for(var a=0;a<arguments.length;a++){var b=arguments[a];delete gTagAttrs[b],delete gTagAttrs["emb#"+b],delete gTagAttrs["obj#"+b]}}function _QTGenerate(a,b,c){if(4>c.length||0!=c.length%2)return _QTComplain(a,gArgCountErr),"";gTagAttrs=[],gTagAttrs.src=c[0],gTagAttrs.width=c[1],gTagAttrs.height=c[2],gTagAttrs.classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",gTagAttrs.pluginspage="http://www.apple.com/quicktime/download/",a=c[3];if(null==a||""==a)a="6,0,2,0";gTagAttrs.codebase="http://www.apple.com/qtactivex/qtplugin.cab#version="+a;for(var d,e=4;e<c.length;e+=2)d=c[e].toLowerCase(),a=c[e+1],"name"==d||"id"==d?gTagAttrs.name=a:gTagAttrs[d]=a;c="<object "+_QTAddObjectAttr("classid")+_QTAddObjectAttr("width")+_QTAddObjectAttr("height")+_QTAddObjectAttr("codebase")+_QTAddObjectAttr("name","id")+_QTAddObjectAttr("tabindex")+_QTAddObjectAttr("hspace")+_QTAddObjectAttr("vspace")+_QTAddObjectAttr("border")+_QTAddObjectAttr("align")+_QTAddObjectAttr("class")+_QTAddObjectAttr("title")+_QTAddObjectAttr("accesskey")+_QTAddObjectAttr("noexternaldata")+">\n"+_QTAddObjectParam("src",b),e="  <embed "+_QTAddEmbedAttr("src")+_QTAddEmbedAttr("width")+_QTAddEmbedAttr("height")+_QTAddEmbedAttr("pluginspage")+_QTAddEmbedAttr("name")+_QTAddEmbedAttr("align")+_QTAddEmbedAttr("tabindex"),_QTDeleteTagAttrs("src","width","height","pluginspage","classid","codebase","name","tabindex","hspace","vspace","border","align","noexternaldata","class","title","accesskey");for(d in gTagAttrs)a=gTagAttrs[d],null!=a&&(e+=_QTAddEmbedAttr(d),c+=_QTAddObjectParam(d,b));return c+e+"> </embed>\n</object>"}function QT_GenerateOBJECTText(){return _QTGenerate("QT_GenerateOBJECTText",!1,arguments)}var extensions={flash:["swf"],image:["bmp","gif","jpeg","jpg","png","tiff","tif","jfif","jpe","webp"],iframe:["asp","aspx","cgi","cfm","htm","html","jsp","php","pl","php3","php4","php5","phtml","rb","rhtml","shtml","txt"],video:["avi","mov","mpg","mpeg","movie","mp4","webm","ogv","ogg","3gp","m4v"]},$win=$(window),$doc=$(document),browser,transform,gpuAcceleration,fullScreenApi="",userAgent=navigator.userAgent||navigator.vendor||window.opera,supportTouch="ontouchstart"in window||navigator.msMaxTouchPoints||navigator.maxTouchPoints&&navigator.userAgent.indexOf("Windows")>-1,ishybrid=navigator.maxTouchPoints&&navigator.userAgent.indexOf("Windows")>-1,isMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(userAgent.substr(0,4)),clickEvent=ishybrid?"itap.iLightBox click.iLightBox":supportTouch?"itap.iLightBox":"click.iLightBox",touchStartEvent=ishybrid?"touchstart.iLightBox mousedown.iLightBox":supportTouch?"touchstart.iLightBox":"mousedown.iLightBox",touchStopEvent=ishybrid?"touchend.iLightBox mouseup.iLightBox":supportTouch?"touchend.iLightBox":"mouseup.iLightBox",touchMoveEvent=ishybrid?"touchmove.iLightBox mousemove.iLightBox":supportTouch?"touchmove.iLightBox":"mousemove.iLightBox",abs=Math.abs,sqrt=Math.sqrt,round=Math.round,max=Math.max,min=Math.min,floor=Math.floor,random=Math.random,pluginspages={quicktime:"http://www.apple.com/quicktime/download",flash:"http://www.adobe.com/go/getflash"},iLightBox=function(el,options,items,instant){var iL=this;iL.options=options,iL.selector=options.selector||el,iL.context=document,iL.instant=instant,items.length<1?iL.attachItems():iL.items=items,iL.vars={total:iL.items.length,start:0,current:null,next:null,prev:null,BODY:$("body"),loadRequests:0,overlay:$('<div class="ilightbox-overlay"></div>'),loader:$('<div class="ilightbox-loader"><div></div></div>'),toolbar:$('<div class="ilightbox-toolbar"></div>'),innerToolbar:$('<div class="ilightbox-inner-toolbar"></div>'),title:$('<div class="ilightbox-title"></div>'),closeButton:$('<a class="ilightbox-close" title="'+iL.options.text.close+'"></a>'),fullScreenButton:$('<a class="ilightbox-fullscreen" title="'+iL.options.text.enterFullscreen+'"></a>'),innerPlayButton:$('<a class="ilightbox-play" title="'+iL.options.text.slideShow+'"></a>'),innerNextButton:$('<a class="ilightbox-next-button" title="'+iL.options.text.next+'"></a>'),innerPrevButton:$('<a class="ilightbox-prev-button" title="'+iL.options.text.previous+'"></a>'),holder:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+'" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-next" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),prevPhoto:$('<div class="ilightbox-holder'+(supportTouch?" supportTouch":"")+' ilightbox-prev" ondragstart="return false;"><div class="ilightbox-container"></div></div>'),nextButton:$('<a class="ilightbox-button ilightbox-next-button" ondragstart="return false;" title="'+iL.options.text.next+'"><span></span></a>'),prevButton:$('<a class="ilightbox-button ilightbox-prev-button" ondragstart="return false;" title="'+iL.options.text.previous+'"><span></span></a>'),thumbnails:$('<div class="ilightbox-thumbnails" ondragstart="return false;"><div class="ilightbox-thumbnails-container"><a class="ilightbox-thumbnails-dragger"></a><div class="ilightbox-thumbnails-grid"></div></div></div>'),thumbs:!1,nextLock:!1,prevLock:!1,hashLock:!1,isMobile:!1,mobileMaxWidth:980,isInFullScreen:!1,isSwipe:!1,mouseID:0,cycleID:0,isPaused:0,captionHeight:39},iL.vars.hideableElements=iL.vars.nextButton.add(iL.vars.prevButton),iL.normalizeItems(),iL.availPlugins(),iL.options.startFrom=iL.options.startFrom>0&&iL.options.startFrom>=iL.vars.total?iL.vars.total-1:iL.options.startFrom,iL.options.startFrom=iL.options.randomStart?floor(random()*iL.vars.total):iL.options.startFrom,iL.vars.start=iL.options.startFrom,instant?iL.instantCall():iL.patchItemsEvents(),iL.options.linkId&&(iL.hashChangeHandler(),$win.iLightBoxHashChange(function(){iL.hashChangeHandler()}));if(supportTouch){var RegExp=/(click|mouseenter|mouseleave|mouseover|mouseout)/ig,replace="itap";iL.options.caption.show=iL.options.caption.show.replace(RegExp,replace),iL.options.caption.hide=iL.options.caption.hide.replace(RegExp,replace),iL.options.social.show=iL.options.social.show.replace(RegExp,replace),iL.options.social.hide=iL.options.social.hide.replace(RegExp,replace)}(iL.options.controls.arrows||$(window).width()<UNCODE.mediaQuery)&&$.extend(iL.options.styles,{nextOffsetX:$(window).width()>UNCODE.mediaQuery?36:4,prevOffsetX:$(window).width()>UNCODE.mediaQuery?36:4,nextOpacity:0,prevOpacity:0})};iLightBox.prototype={showLoader:function(){var iL=this;iL.vars.loadRequests+=1,iL.options.path.toLowerCase()=="horizontal"?iL.vars.loader.addClass("ilightbox-show").stop().animate({opacity:"1"},iL.options.show.speed,"easeOutCirc"):iL.vars.loader.addClass("ilightbox-show").stop().animate({opacity:"1"},iL.options.show.speed,"easeOutCirc")},hideLoader:function(){var iL=this;iL.vars.loadRequests-=1,iL.vars.loadRequests=iL.vars.loadRequests<0?0:iL.vars.loadRequests,iL.options.path.toLowerCase()=="horizontal"?iL.vars.loadRequests<=0&&iL.vars.loader.removeClass("ilightbox-show").stop().animate({opacity:"0"},iL.options.show.speed,"easeInCirc"):iL.vars.loadRequests<=0&&iL.vars.loader.removeClass("ilightbox-show").stop().animate({opacity:"0"},iL.options.show.speed,"easeInCirc")},createUI:function(){var iL=this;iL.ui={currentElement:iL.vars.holder,nextElement:iL.vars.nextPhoto,prevElement:iL.vars.prevPhoto,currentItem:iL.vars.current,nextItem:iL.vars.next,prevItem:iL.vars.prev,hide:function(){iL.closeAction()},refresh:function(){arguments.length>0?iL.repositionPhoto(!0):iL.repositionPhoto()},fullscreen:function(){iL.fullScreenAction()}}},attachItems:function(){var iL=this,itemsObject=new Array,items=new Array;$(iL.selector,iL.context).each(function(){var t=$(this),URL=t.attr(iL.options.attr)||null,options=t.data("options")&&eval("({"+t.data("options")+"})")||{},caption=t.data("caption"),title=t.data("title"),type=t.data("type")||getTypeByExtension(URL),clone=t.data("lbox-clone")||!1;if(type===!1)return;if(t.data("lbox-clone")!=undefined)return;if(typeof t.attr("data-album")!="undefined"&&t.attr("data-album")!=""){var ALBUM_URLS=JSON.parse(t.attr("data-album")),URL_i,URLS_LENGHT=ALBUM_URLS.length;for(URL_i=0;URL_i<URLS_LENGHT;URL_i++)if(typeof ALBUM_URLS[URL_i].url!="undefined"&&ALBUM_URLS[URL_i].url!=""){var item_opts="width:"+ALBUM_URLS[URL_i].width+",height:"+ALBUM_URLS[URL_i].height+",thumbnail: '"+ALBUM_URLS[URL_i].thumbnail+"'";item_opts=item_opts&&eval("({"+item_opts+"})")||{},items.push({URL:ALBUM_URLS[URL_i].url,caption:ALBUM_URLS[URL_i].caption,title:ALBUM_URLS[URL_i].title,type:getTypeByExtension(ALBUM_URLS[URL_i].url),options:item_opts,clone:clone});var newT=t;newT.attr("href",ALBUM_URLS[URL_i].url),iL.instant||itemsObject.push(newT)}}else items.push({URL:URL,caption:caption,title:title,type:type,options:options,clone:clone});iL.vars!=undefined&&(iL.vars.total=items.length),iL.instant||itemsObject.push(t)}),iL.items=items,iL.itemsObject=itemsObject},normalizeItems:function(){var iL=this,newItems=new Array;$.each(iL.items,function(key,val){typeof val=="string"&&(val={url:val});var URL=val.url||val.URL||null,options=val.options||{},caption=val.caption||null,title=val.title||null,type=val.type?val.type.toLowerCase():getTypeByExtension(URL),ext=typeof URL!="object"?getExtension(URL):"";options.thumbnail=options.thumbnail||(type=="image"?URL:null),options.videoType=options.videoType||null,options.skin=options.skin||iL.options.skin,options.width=options.width||null,options.height=options.height||null,options.mousewheel=typeof options.mousewheel!="undefined"?options.mousewheel:!0,options.swipe=typeof options.swipe!="undefined"?options.swipe:!0,options.social=typeof options.social!="undefined"?options.social:iL.options.social.buttons&&$.extend({},{},iL.options.social.buttons),type=="video"&&(options.html5video=typeof options.html5video!="undefined"?options.html5video:{},options.html5video.webm=options.html5video.webm||options.html5video.WEBM||null,options.html5video.controls=typeof options.html5video.controls!="undefined"?options.html5video.controls:"controls",options.html5video.preload=options.html5video.preload||"metadata",options.html5video.autoplay=typeof options.html5video.autoplay!="undefined"?options.html5video.autoplay:!1,options.html5video.loop=typeof options.html5video.loop!="undefined"?options.html5video.loop:!1);if(!options.width||!options.height)type=="video"?(options.width=1280,options.height=720):type=="iframe"?(options.width="100%",options.height="90%"):type=="flash"&&(options.width=1280,options.height=720);delete val.url,val.index=key,val.URL=URL,val.caption=caption,val.title=title,val.type=type,val.options=options,val.ext=ext,newItems.push(val)}),iL.items=newItems},instantCall:function(){var iL=this,key=iL.vars.start;iL.vars.current=key,iL.vars.next=iL.items[key+1]?key+1:null,iL.vars.prev=iL.items[key-1]?key-1:null,iL.addContents(),iL.patchEvents()},addContents:function(){var iL=this,vars=iL.vars,opts=iL.options,viewport=getViewport(),path=opts.path.toLowerCase(),recognizingItems=vars.total>0&&iL.items.filter(function(e,i,arr){return["image","flash","video"].indexOf(e.type)===-1&&typeof e.recognized=="undefined"&&(opts.smartRecognition||e.options.smartRecognition)}),needRecognition=recognizingItems.length>0;opts.mobileOptimizer&&!opts.innerToolbar&&(vars.isMobile=viewport.width<=vars.mobileMaxWidth),vars.overlay.addClass(opts.skin).hide().css("opacity",opts.overlay.opacity),opts.linkId&&vars.overlay[0].setAttribute("linkid",opts.linkId),opts.controls.toolbar&&(vars.toolbar.addClass(opts.skin).append(vars.closeButton),opts.controls.fullscreen&&vars.toolbar.append(vars.fullScreenButton),opts.controls.slideshow&&vars.toolbar.append(vars.innerPlayButton),vars.total>1&&vars.toolbar.append(vars.innerPrevButton).append(vars.innerNextButton)),vars.BODY.addClass("ilightbox-noscroll").append(vars.overlay).append(vars.loader).append(vars.holder).append(vars.nextPhoto).append(vars.prevPhoto),opts.innerToolbar||vars.BODY.append(vars.toolbar),opts.controls.arrows&&vars.BODY.append(vars.nextButton).append(vars.prevButton),opts.controls.thumbnail&&vars.total>1&&(vars.BODY.append(vars.thumbnails),vars.thumbnails.addClass(opts.skin).addClass("ilightbox-"+path),$("div.ilightbox-thumbnails-grid",vars.thumbnails).empty(),vars.thumbs=!0);var loaderCss=opts.path.toLowerCase()=="horizontal"?{left:parseInt(viewport.width/2-vars.loader.outerWidth()/2)}:{top:parseInt(viewport.height/2-vars.loader.outerHeight()/2)};vars.loader.addClass(opts.skin).css(loaderCss),vars.nextButton.add(vars.prevButton).addClass(opts.skin),path=="horizontal"&&vars.loader.add(vars.nextButton).add(vars.prevButton).addClass("horizontal"),vars.BODY[vars.isMobile?"addClass":"removeClass"]("isMobile"),opts.infinite||(vars.prevButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),vars.current==0&&vars.prevButton.add(vars.innerPrevButton).addClass("disabled"),vars.current>=vars.total-1&&vars.nextButton.add(vars.innerNextButton).addClass("disabled")),opts.show.effect?(vars.overlay.stop().fadeIn(opts.show.speed),vars.toolbar.stop().fadeIn(opts.show.speed)):(vars.overlay.show(),vars.toolbar.show());var length=recognizingItems.length;needRecognition?(iL.showLoader(),$.each(recognizingItems,function(key,val){var resultFnc=function(result){var key=-1,filter=iL.items.filter(function(e,i,arr){return e.URL==result.url&&(key=i),e.URL==result.url}),self=iL.items[key];result&&$.extend(!0,self,{URL:result.source,type:result.type,recognized:!0,options:{html5video:result.html5video,width:result.type=="image"?0:result.width||self.width,height:result.type=="image"?0:result.height||self.height,thumbnail:self.options.thumbnail||result.thumbnail}}),length--,length==0&&(iL.hideLoader(),vars.dontGenerateThumbs=!1,iL.generateThumbnails(),opts.show.effect?setTimeout(function(){iL.generateBoxes()},opts.show.speed):iL.generateBoxes())};iL.ogpRecognition(this,resultFnc)})):opts.show.effect?setTimeout(function(){iL.generateBoxes()},opts.show.speed):iL.generateBoxes(),iL.createUI(),window.iLightBox={close:function(){iL.closeAction()},fullscreen:function(){iL.fullScreenAction()},moveNext:function(){iL.moveTo("next")},movePrev:function(){iL.moveTo("prev")},goTo:function(index){iL.goTo(index)},refresh:function(){iL.refresh()},reposition:function(){arguments.length>0?iL.repositionPhoto(!0):iL.repositionPhoto()},setOption:function(options){iL.setOption(options)},destroy:function(){iL.closeAction(),iL.dispatchItemsEvents()}},opts.linkId&&(vars.hashLock=!0,window.location.hash=opts.linkId+"/"+vars.current,setTimeout(function(){vars.hashLock=!1},55)),opts.slideshow.startPaused||(iL.resume(),vars.innerPlayButton.removeClass("ilightbox-play").addClass("ilightbox-pause")),typeof iL.options.callback.onOpen=="function"&&iL.options.callback.onOpen.call(iL)},loadContent:function(obj,opt,speed){var iL=this,holder,item;iL.createUI(),obj.speed=speed||iL.options.effects.loadedFadeSpeed,opt=="current"&&(obj.options.mousewheel?iL.vars.lockWheel=!1:iL.vars.lockWheel=!0,obj.options.swipe?iL.vars.lockSwipe=!1:iL.vars.lockSwipe=!0);switch(opt){case"current":holder=iL.vars.holder,item=iL.vars.current;break;case"next":holder=iL.vars.nextPhoto,item=iL.vars.next;break;case"prev":holder=iL.vars.prevPhoto,item=iL.vars.prev}holder.removeAttr("style class").addClass("ilightbox-holder"+(supportTouch?" supportTouch":"")).addClass(obj.options.skin),$("div.ilightbox-inner-toolbar",holder).remove();if(obj.title||iL.options.innerToolbar){var innerToolbar=iL.vars.innerToolbar.clone();if(obj.title&&iL.options.show.title){var title=iL.vars.title.clone();title.empty().html(obj.title),innerToolbar.append(title)}iL.options.innerToolbar&&innerToolbar.append(iL.vars.total>1?iL.vars.toolbar.clone():iL.vars.toolbar),holder.prepend(innerToolbar)}iL.loadSwitcher(obj,holder,item,opt)},loadSwitcher:function(obj,holder,item,opt){var iL=this,opts=iL.options,api={element:holder,position:item};switch(obj.type){case"image":typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.loadImage(obj.URL,function(img){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api);var width=img?img.width:400,height=img?img.height:200;holder.data({naturalWidth:width,naturalHeight:height}),$("div.ilightbox-container",holder).empty().append(img?'<img src="'+obj.URL+'" class="ilightbox-image" />':'<span class="ilightbox-alert">'+opts.errors.loadImage+"</span>"),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),iL.configureHolder(obj,opt,holder)});break;case"video":holder.data({naturalWidth:obj.options.width,naturalHeight:obj.options.height}),opt==="current"?(iL.addContent(holder,obj),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api)):$("div.ilightbox-container",holder).empty(),iL.configureHolder(obj,opt,holder);break;case"iframe":holder.data({naturalWidth:obj.options.width,naturalHeight:obj.options.height}),iL.configureHolder(obj,opt,holder);if(opt==="current"){var el=iL.addContent(holder,obj);typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),el.bind("load",function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),el.unbind("load")})}else $("div.ilightbox-container",holder).empty();break;case"inline":var el=$(obj.URL),content=iL.addContent(holder,obj),images=findImageInElement(holder);holder.data({naturalWidth:iL.items[item].options.width||el.outerWidth(),naturalHeight:iL.items[item].options.height||el.outerHeight()}),content.children().eq(0).show(),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.loadImage(images,function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),iL.configureHolder(obj,opt,holder)});break;case"flash":var el=iL.addContent(holder,obj);holder.data({naturalWidth:iL.items[item].options.width||el.outerWidth(),naturalHeight:iL.items[item].options.height||el.outerHeight()}),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api),iL.configureHolder(obj,opt,holder);break;case"ajax":var ajax=obj.options.ajax||{};typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.showLoader(),$.ajax({url:obj.URL||opts.ajaxSetup.url,data:ajax.data||null,dataType:ajax.dataType||"html",type:ajax.type||opts.ajaxSetup.type,cache:ajax.cache||opts.ajaxSetup.cache,crossDomain:ajax.crossDomain||opts.ajaxSetup.crossDomain,global:ajax.global||opts.ajaxSetup.global,ifModified:ajax.ifModified||opts.ajaxSetup.ifModified,username:ajax.username||opts.ajaxSetup.username,password:ajax.password||opts.ajaxSetup.password,beforeSend:ajax.beforeSend||opts.ajaxSetup.beforeSend,complete:ajax.complete||opts.ajaxSetup.complete,success:function(data,textStatus,jqXHR){iL.hideLoader();var el=$(data),container=$("div.ilightbox-container",holder),elWidth=iL.items[item].options.width||parseInt(el[0].getAttribute("width")),elHeight=iL.items[item].options.height||parseInt(el[0].getAttribute("height")),css=el[0].getAttribute("width")&&el[0].getAttribute("height")?{overflow:"hidden"}:{};container.empty().append($('<div class="ilightbox-wrapper"></div>').css(css).html(el)),holder.show().data({naturalWidth:elWidth||container.outerWidth(),naturalHeight:elHeight||container.outerHeight()}).hide(),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api);var images=findImageInElement(holder);iL.loadImage(images,function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),iL.configureHolder(obj,opt,holder)}),opts.ajaxSetup.success(data,textStatus,jqXHR),typeof ajax.success=="function"&&ajax.success(data,textStatus,jqXHR)},error:function(jqXHR,textStatus,errorThrown){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),iL.hideLoader(),$("div.ilightbox-container",holder).empty().append('<span class="ilightbox-alert">'+opts.errors.loadContents+"</span>"),iL.configureHolder(obj,opt,holder),opts.ajaxSetup.error(jqXHR,textStatus,errorThrown),typeof ajax.error=="function"&&ajax.error(jqXHR,textStatus,errorThrown)}});break;case"html":var object=obj.URL,el;container=$("div.ilightbox-container",holder);if(object[0].nodeName)el=object.clone();else{var dom=$(object);dom.selector?el=$("<div>"+dom+"</div>"):el=dom}var elWidth=iL.items[item].options.width||parseInt(el.attr("width")),elHeight=iL.items[item].options.height||parseInt(el.attr("height"));iL.addContent(holder,obj),el.appendTo(document.documentElement).hide(),typeof opts.callback.onRender=="function"&&opts.callback.onRender.call(iL,iL.ui,item),typeof obj.options.onRender=="function"&&obj.options.onRender.call(iL,api);var images=findImageInElement(holder);typeof opts.callback.onBeforeLoad=="function"&&opts.callback.onBeforeLoad.call(iL,iL.ui,item),typeof obj.options.onBeforeLoad=="function"&&obj.options.onBeforeLoad.call(iL,api),iL.loadImage(images,function(){typeof opts.callback.onAfterLoad=="function"&&opts.callback.onAfterLoad.call(iL,iL.ui,item),typeof obj.options.onAfterLoad=="function"&&obj.options.onAfterLoad.call(iL,api),holder.show().data({naturalWidth:elWidth||container.outerWidth(),naturalHeight:elHeight||container.outerHeight()}).hide(),el.remove(),iL.configureHolder(obj,opt,holder)})}},configureHolder:function(obj,opt,holder){var iL=this,vars=iL.vars,opts=iL.options;opt!="current"&&(opt=="next"?holder.addClass("ilightbox-next"):holder.addClass("ilightbox-prev"));if(opt=="current")var item=vars.current;else if(opt=="next")var opacity=opts.styles.nextOpacity,item=vars.next;else var opacity=opts.styles.prevOpacity,item=vars.prev;var api={element:holder,position:item};iL.items[item].options.width=iL.items[item].options.width||0,iL.items[item].options.height=iL.items[item].options.height||0,opt=="current"?opts.show.effect?holder.css(transform,gpuAcceleration).fadeIn(obj.speed,function(){holder.css(transform,"");if(obj.caption){iL.setCaption(obj,holder);var caption=$("div.ilightbox-caption",holder),percent=parseInt(caption.outerHeight()/holder.outerHeight()*100);opts.caption.start&percent<=50&&caption.fadeIn(opts.effects.fadeSpeed)}var social=obj.options.social;social&&(iL.setSocial(social,obj.URL,holder),opts.social.start&&$("div.ilightbox-social",holder).fadeIn(opts.effects.fadeSpeed)),iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)}):(holder.show(),iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)):opts.show.effect?holder.fadeTo(obj.speed,opacity,function(){opt=="next"?vars.nextLock=!1:vars.prevLock=!1,iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)}):(holder.css({opacity:opacity}).show(),opt=="next"?vars.nextLock=!1:vars.prevLock=!1,iL.generateThumbnails(),typeof opts.callback.onShow=="function"&&opts.callback.onShow.call(iL,iL.ui,item),typeof obj.options.onShow=="function"&&obj.options.onShow.call(iL,api)),setTimeout(function(){iL.repositionPhoto()},0)},generateBoxes:function(){var iL=this,vars=iL.vars,opts=iL.options;opts.infinite&&vars.total>=3?(vars.current==vars.total-1&&(vars.next=0),vars.current==0&&(vars.prev=vars.total-1)):opts.infinite=!1,typeof iL.items[vars.current]=="undefined"&&(vars.current=0),iL.loadContent(iL.items[vars.current],"current",opts.show.speed),iL.items[vars.next]&&iL.loadContent(iL.items[vars.next],"next",opts.show.speed),iL.items[vars.prev]&&iL.loadContent(iL.items[vars.prev],"prev",opts.show.speed)},generateThumbnails:function(){var iL=this,vars=iL.vars,opts=iL.options,timeOut=null;if(vars.thumbs&&!iL.vars.dontGenerateThumbs){var thumbnails=vars.thumbnails,container=$("div.ilightbox-thumbnails-container",thumbnails),grid=$("div.ilightbox-thumbnails-grid",container),i=0;grid.removeAttr("style").empty(),$.each(iL.items,function(key,val){var isActive=vars.current==key?"ilightbox-active":"",opacity=vars.current==key?opts.thumbnails.activeOpacity:opts.thumbnails.normalOpacity,thumb=val.options.thumbnail,thumbnail=$('<div class="ilightbox-thumbnail"></div>'),icon=$('<div class="ilightbox-thumbnail-icon"></div>');thumbnail.css({opacity:0}).addClass(isActive),val.type!="video"&&val.type!="flash"||typeof val.options.icon!="undefined"?val.options.icon&&(icon.addClass("ilightbox-thumbnail-"+val.options.icon),thumbnail.append(icon)):(icon.addClass("ilightbox-thumbnail-video"),thumbnail.append(icon)),thumb&&iL.loadImage(thumb,function(img){i++,img?thumbnail.data({naturalWidth:img.width,naturalHeight:img.height}).append('<img src="'+thumb+'" border="0" />'):thumbnail.data({naturalWidth:opts.thumbnails.maxWidth,naturalHeight:opts.thumbnails.maxHeight}),clearTimeout(timeOut),timeOut=setTimeout(function(){iL.positionThumbnails(thumbnails,container,grid)},20),setTimeout(function(){thumbnail.fadeTo(opts.effects.loadedFadeSpeed,opacity)},i*20)}),grid.append(thumbnail)}),iL.vars.dontGenerateThumbs=!0}},positionThumbnails:function(thumbnails,container,grid){var iL=this,vars=iL.vars,opts=iL.options,viewport=getViewport(),path=opts.path.toLowerCase();thumbnails||(thumbnails=vars.thumbnails),container||(container=$("div.ilightbox-thumbnails-container",thumbnails)),grid||(grid=$("div.ilightbox-thumbnails-grid",container));var thumbs=$(".ilightbox-thumbnail",grid),widthAvail=path=="horizontal"?viewport.width-opts.styles.pageOffsetX:thumbs.eq(0).outerWidth()-opts.styles.pageOffsetX,heightAvail=path=="horizontal"?thumbs.eq(0).outerHeight()-opts.styles.pageOffsetY:viewport.height-opts.styles.pageOffsetY,gridWidth=path=="horizontal"?0:widthAvail,gridHeight=path=="horizontal"?heightAvail:0,active=$(".ilightbox-active",grid),gridCss={},css={};arguments.length<3&&(thumbs.css({opacity:opts.thumbnails.normalOpacity}),active.css({opacity:opts.thumbnails.activeOpacity})),thumbs.each(function(i){var t=$(this),data=t.data(),width=path=="horizontal"?0:opts.thumbnails.maxWidth;height=path=="horizontal"?opts.thumbnails.maxHeight:0,dims=iL.getNewDimenstions(width,height,data.naturalWidth,data.naturalHeight,!0),t.css({width:dims.width,height:dims.height}),path=="horizontal"&&t.css({"float":"left"}),path=="horizontal"?gridWidth+=t.outerWidth():gridHeight+=t.outerHeight()}),gridCss={width:gridWidth,height:gridHeight},grid.css(gridCss),gridCss={};var gridOffset=grid.offset(),activeOffset=active.length?active.offset():{top:parseInt(heightAvail/2),left:parseInt(widthAvail/2)};gridOffset.top=gridOffset.top-$doc.scrollTop(),gridOffset.left=gridOffset.left-$doc.scrollLeft(),activeOffset.top=activeOffset.top-gridOffset.top-$doc.scrollTop(),activeOffset.left=activeOffset.left-gridOffset.left-$doc.scrollLeft(),path=="horizontal"?(gridCss.top=0,gridCss.left=parseInt(widthAvail/2-activeOffset.left-active.outerWidth()/2)):(gridCss.top=parseInt(heightAvail/2-activeOffset.top-active.outerHeight()/2),gridCss.left=0),arguments.length<3?grid.stop().animate(gridCss,opts.effects.repositionSpeed,"easeOutCirc"):grid.css(gridCss)},loadImage:function(image,callback){$.isArray(image)||(image=[image]);var iL=this,length=image.length;length>0?(iL.showLoader(),$.each(image,function(index,value){var img=new Image;img.onload=function(){length-=1,length==0&&(iL.hideLoader(),callback(img))},img.onerror=img.onabort=function(){length-=1,length==0&&(iL.hideLoader(),callback(!1))},img.src=image[index]})):callback(!1)},patchItemsEvents:function(){var iL=this,vars=iL.vars,clickEvent=ishybrid?"itap.iL click.iL":supportTouch?"itap.iL":"click.iL",vEvent=ishybrid?"click.iL itap.iL":supportTouch?"click.iL":"itap.iL";if(iL.context&&iL.selector){var $items=$(iL.selector,iL.context);$(iL.context).on(clickEvent,iL.selector,function(){var $this=$(this),key=typeof $(this).data("lb-index")!=""&&$(this).closest(".owl-item").length?$(this).data("lb-index"):$items.index($this);if(UNCODE.isMobile){var isCarousel=$this.closest(".owl-carousel");if(isCarousel.length&&isCarousel.hasClass("owl-translating"))return!1}return vars.current=key,vars.next=iL.items[key+1]?key+1:null,vars.prev=iL.items[key-1]?key-1:null,vars.BODY.hasClass("fp-slide-scrolling")?!1:(iL.addContents(),iL.patchEvents(),!1)}).on(vEvent,iL.selector,function(){return!1})}else $.each(iL.itemsObject,function(key,val){val.on(clickEvent,function(){return vars.current=key,vars.next=iL.items[key+1]?key+1:null,vars.prev=iL.items[key-1]?key-1:null,iL.addContents(),iL.patchEvents(),!1}).on(vEvent,function(){return!1})})},dispatchItemsEvents:function(){var iL=this,vars=iL.vars,opts=iL.options;iL.context&&iL.selector?$(iL.context).off(".iL",iL.selector):$.each(iL.itemsObject,function(key,val){val.off(".iL")})},refresh:function(){var iL=this;iL.dispatchItemsEvents(),iL.attachItems(),iL.normalizeItems(),iL.patchItemsEvents()},patchEvents:function(){function mouseMoveHandler(e){vars.isMobile||(vars.mouseID||vars.hideableElements.show(),vars.mouseID=clearTimeout(vars.mouseID),buttonsArray.indexOf(e.target)===-1&&(vars.mouseID=setTimeout(function(){vars.hideableElements.hide(),vars.mouseID=clearTimeout(vars.mouseID)},3e3)))}var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),holders=$(".ilightbox-holder"),fullscreenEvent=fullScreenApi.fullScreenEventName+".iLightBox",durationThreshold=1e3,horizontalDistanceThreshold=verticalDistanceThreshold=100,buttonsArray=[vars.nextButton[0],vars.prevButton[0],vars.nextButton[0].firstChild,vars.prevButton[0].firstChild];$win.bind("resize.iLightBox",function(){var viewport=getViewport();opts.mobileOptimizer&&!opts.innerToolbar&&(vars.isMobile=viewport.width<=vars.mobileMaxWidth),vars.BODY[vars.isMobile?"addClass":"removeClass"]("isMobile"),iL.repositionPhoto(null),supportTouch&&(clearTimeout(vars.setTime),vars.setTime=setTimeout(function(){var scrollTop=getScrollXY().y;window.scrollTo(0,scrollTop-30),window.scrollTo(0,scrollTop+30),window.scrollTo(0,scrollTop)},2e3)),vars.thumbs&&iL.positionThumbnails()}).bind("keydown.iLightBox",function(event){if(opts.controls.keyboard)switch(event.keyCode){case 13:event.shiftKey&&opts.keyboard.shift_enter&&iL.fullScreenAction();break;case 27:opts.keyboard.esc&&iL.closeAction();break;case 37:opts.keyboard.left&&!vars.lockKey&&iL.moveTo("prev");break;case 38:opts.keyboard.up&&!vars.lockKey&&iL.moveTo("prev");break;case 39:opts.keyboard.right&&!vars.lockKey&&iL.moveTo("next");break;case 40:opts.keyboard.down&&!vars.lockKey&&iL.moveTo("next")}}),fullScreenApi.supportsFullScreen&&$win.bind(fullscreenEvent,function(){iL.doFullscreen()});var holderEventsArr=[opts.caption.show+".iLightBox",opts.caption.hide+".iLightBox",opts.social.show+".iLightBox",opts.social.hide+".iLightBox"].filter(function(e,i,arr){return arr.lastIndexOf(e)===i}),holderEvents="";$.each(holderEventsArr,function(key,val){key!=0&&(holderEvents+=" "),holderEvents+=val}),$doc.on(clickEvent,".ilightbox-overlay",function(){opts.overlay.blur&&iL.closeAction()}).on(clickEvent,".ilightbox-next, .ilightbox-next-button",function(){iL.moveTo("next")}).on(clickEvent,".ilightbox-prev, .ilightbox-prev-button",function(){iL.moveTo("prev")}).on(clickEvent,".ilightbox-thumbnail",function(){var t=$(this),thumbs=$(".ilightbox-thumbnail",vars.thumbnails),index=thumbs.index(t);index!=vars.current&&iL.goTo(index)}).on(holderEvents,".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){var caption=$("div.ilightbox-caption",vars.holder),social=$("div.ilightbox-social",vars.holder),fadeSpeed=opts.effects.fadeSpeed;vars.nextLock||vars.prevLock?(e.type==opts.caption.show&&!caption.is(":visible")?caption.fadeIn(fadeSpeed):e.type==opts.caption.hide&&caption.is(":visible")&&caption.fadeOut(fadeSpeed),e.type==opts.social.show&&!social.is(":visible")?social.fadeIn(fadeSpeed):e.type==opts.social.hide&&social.is(":visible")&&social.fadeOut(fadeSpeed)):(e.type==opts.caption.show&&!caption.is(":visible")?caption.stop().fadeIn(fadeSpeed):e.type==opts.caption.hide&&caption.is(":visible")&&caption.stop().fadeOut(fadeSpeed),e.type==opts.social.show&&!social.is(":visible")?social.stop().fadeIn(fadeSpeed):e.type==opts.social.hide&&social.is(":visible")&&social.stop().fadeOut(fadeSpeed))}).on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-wrapper",function(e){e.type=="mouseenter"?vars.lockWheel=!0:vars.lockWheel=!1}).on(clickEvent,".ilightbox-toolbar a.ilightbox-close, .ilightbox-toolbar a.ilightbox-fullscreen, .ilightbox-toolbar a.ilightbox-play, .ilightbox-toolbar a.ilightbox-pause",function(){var t=$(this);t.hasClass("ilightbox-fullscreen")?iL.fullScreenAction():t.hasClass("ilightbox-play")?(iL.resume(),t.addClass("ilightbox-pause").removeClass("ilightbox-play")):t.hasClass("ilightbox-pause")?(iL.pause(),t.addClass("ilightbox-play").removeClass("ilightbox-pause")):iL.closeAction()}).on(touchMoveEvent,".ilightbox-overlay, .ilightbox-thumbnails-container",function(e){e.preventDefault()}),opts.controls.arrows&&!supportTouch&&$doc.on("mousemove.iLightBox",mouseMoveHandler),opts.controls.slideshow&&opts.slideshow.pauseOnHover&&$doc.on("mouseenter.iLightBox mouseleave.iLightBox",".ilightbox-holder:not(.ilightbox-next, .ilightbox-prev)",function(e){e.type=="mouseenter"&&vars.cycleID?iL.pause():e.type=="mouseleave"&&vars.isPaused&&iL.resume()});var switchers=$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails"),delay=!1;opts.controls.mousewheel&&switchers.on("mousewheel.iLightBox",function(event,delta){event.preventDefault();if(delay)return;delay=!0,vars.lockWheel||(event.preventDefault(),delta<0?iL.moveTo("next"):delta>0&&iL.moveTo("prev")),setTimeout(function(){delay=!1},2e3)}),opts.controls.swipe&&holders.on(touchStartEvent,function(event){function moveEachHandler(i){var t=$(this),offset=offSet[i],scroll=[start.coords[0]-stop.coords[0],start.coords[1]-stop.coords[1]];t[0].style[path=="horizontal"?"left":"top"]=(path=="horizontal"?offset.left-scroll[0]:offset.top-scroll[1])+"px"}function moveHandler(event){if(!start)return;var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;stop={time:(new Date).getTime(),coords:[data.pageX-scrollLeft,data.pageY-scrollTop]},holders.each(moveEachHandler),event.preventDefault()}function repositionHolders(){holders.each(function(){var t=$(this),offset=t.data("offset")||{top:t.offset().top-scrollTop,left:t.offset().left-scrollLeft},top=offset.top,left=offset.left;t.css(transform,gpuAcceleration).stop().animate({top:top,left:left},500,"easeOutCirc",function(){t.css(transform,"")})})}if(vars.nextLock||vars.prevLock||vars.total==1||vars.lockSwipe)return;vars.BODY.addClass("ilightbox-closedhand");var data=event.originalEvent.touches?event.originalEvent.touches[0]:event,scrollTop=$doc.scrollTop(),scrollLeft=$doc.scrollLeft(),offsets=[holders.eq(0).offset(),holders.eq(1).offset(),holders.eq(2).offset()],offSet=[{top:offsets[0].top-scrollTop,left:offsets[0].left-scrollLeft},{top:offsets[1].top-scrollTop,left:offsets[1].left-scrollLeft},{top:offsets[2].top-scrollTop,left:offsets[2].left-scrollLeft}],start={time:(new Date).getTime(),coords:[data.pageX-scrollLeft,data.pageY-scrollTop]},stop;holders.bind(touchMoveEvent,moveHandler),$doc.one(touchStopEvent,function(event){holders.unbind(touchMoveEvent,moveHandler),vars.BODY.removeClass("ilightbox-closedhand"),start&&stop&&(path=="horizontal"&&stop.time-start.time<durationThreshold&&abs(start.coords[0]-stop.coords[0])>horizontalDistanceThreshold&&abs(start.coords[1]-stop.coords[1])<verticalDistanceThreshold?start.coords[0]>stop.coords[0]?vars.current==vars.total-1&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("next")):vars.current==0&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("prev")):path=="vertical"&&stop.time-start.time<durationThreshold&&abs(start.coords[1]-stop.coords[1])>horizontalDistanceThreshold&&abs(start.coords[0]-stop.coords[0])<verticalDistanceThreshold?start.coords[1]>stop.coords[1]?vars.current==vars.total-1&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("next")):vars.current==0&&!opts.infinite?repositionHolders():(vars.isSwipe=!0,iL.moveTo("prev")):repositionHolders()),start=stop=undefined})})},goTo:function(index){var iL=this,vars=iL.vars,opts=iL.options,diff=index-vars.current;opts.infinite&&(index==vars.total-1&&vars.current==0&&(diff=-1),vars.current==vars.total-1&&index==0&&(diff=1));if(diff==1)iL.moveTo("next");else if(diff==-1)iL.moveTo("prev");else{if(vars.nextLock||vars.prevLock)return!1;typeof opts.callback.onBeforeChange=="function"&&opts.callback.onBeforeChange.call(iL,iL.ui),opts.linkId&&(vars.hashLock=!0,window.location.hash=opts.linkId+"/"+index),iL.items[index]&&(iL.items[index].options.mousewheel?iL.vars.lockWheel=!1:vars.lockWheel=!0,iL.items[index].options.swipe?vars.lockSwipe=!1:vars.lockSwipe=!0),$.each([vars.holder,vars.nextPhoto,vars.prevPhoto],function(key,val){val.css(transform,gpuAcceleration).fadeOut(opts.effects.loadedFadeSpeed)}),vars.current=index,vars.next=index+1,vars.prev=index-1,iL.createUI(),setTimeout(function(){iL.generateBoxes()},opts.effects.loadedFadeSpeed+50),$(".ilightbox-thumbnail",vars.thumbnails).removeClass("ilightbox-active").eq(index).addClass("ilightbox-active"),iL.positionThumbnails(),opts.linkId&&setTimeout(function(){vars.hashLock=!1},55),opts.infinite||(vars.nextButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),vars.current==0&&vars.prevButton.add(vars.innerPrevButton).addClass("disabled"),vars.current>=vars.total-1&&vars.nextButton.add(vars.innerNextButton).addClass("disabled")),iL.resetCycle(),typeof opts.callback.onAfterChange=="function"&&opts.callback.onAfterChange.call(iL,iL.ui)}},moveTo:function(side){var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),viewport=getViewport(),switchSpeed=opts.effects.switchSpeed;if(vars.nextLock||vars.prevLock)return!1;var item=side=="next"?vars.next:vars.prev;opts.linkId&&(vars.hashLock=!0,window.location.hash=opts.linkId+"/"+item);if(side=="next"){if(!iL.items[item])return!1;var firstHolder=vars.nextPhoto,secondHolder=vars.holder,lastHolder=vars.prevPhoto,firstClass="ilightbox-prev",secondClass="ilightbox-next"}else if(side=="prev"){if(!iL.items[item])return!1;var firstHolder=vars.prevPhoto,secondHolder=vars.holder,lastHolder=vars.nextPhoto,firstClass="ilightbox-next",secondClass="ilightbox-prev"}typeof opts.callback.onBeforeChange=="function"&&opts.callback.onBeforeChange.call(iL,iL.ui),side=="next"?vars.nextLock=!0:vars.prevLock=!0;var captionFirst=$("div.ilightbox-caption",secondHolder),socialFirst=$("div.ilightbox-social",secondHolder);captionFirst.length&&captionFirst.stop().fadeOut(switchSpeed,function(){$(this).remove()}),socialFirst.length&&socialFirst.stop().fadeOut(switchSpeed,function(){$(this).remove()});if(iL.items[item].caption){iL.setCaption(iL.items[item],firstHolder);var caption=$("div.ilightbox-caption",firstHolder),percent=parseInt(caption.outerHeight()/firstHolder.outerHeight()*100);opts.caption.start&&percent<=50&&caption.fadeIn(switchSpeed)}var social=iL.items[item].options.social;social&&(iL.setSocial(social,iL.items[item].URL,firstHolder),opts.social.start&&$("div.ilightbox-social",firstHolder).fadeIn(opts.effects.fadeSpeed)),$.each([firstHolder,secondHolder,lastHolder],function(key,val){val.removeClass("ilightbox-next ilightbox-prev")});var firstOffset=firstHolder.data("offset"),winW=viewport.width-opts.styles.pageOffsetX,winH=viewport.height-opts.styles.pageOffsetY,width=firstOffset.newDims.width,height=firstOffset.newDims.height,thumbsOffset=firstOffset.thumbsOffset,diff=firstOffset.diff,top=parseInt(winH/2-height/2-diff.H-thumbsOffset.H/2),left=parseInt(winW/2-width/2-diff.W-thumbsOffset.W/2),secondOffset=secondHolder.data("offset"),object=secondOffset.object;firstHolder.show().css(transform,gpuAcceleration).animate({top:top,left:left,opacity:1},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc",function(){firstHolder.css(transform,"")}),$("div.ilightbox-container",firstHolder).animate({width:width,height:height},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc"),diff=secondOffset.diff,width=secondOffset.newDims.width,height=secondOffset.newDims.height,width=parseInt(width*opts.styles[side=="next"?"prevScale":"nextScale"]),height=parseInt(height*opts.styles[side=="next"?"prevScale":"nextScale"]),top=path=="horizontal"?parseInt(winH/2-object.offsetY-height/2-diff.H-thumbsOffset.H/2):parseInt(winH-object.offsetX-diff.H-thumbsOffset.H/2),side=="prev"?left=path=="horizontal"?parseInt(winW-object.offsetX-diff.W-thumbsOffset.W/2):parseInt(winW/2-width/2-diff.W-object.offsetY-thumbsOffset.W/2):(top=path=="horizontal"?top:parseInt(object.offsetX-diff.H-height-thumbsOffset.H/2),left=path=="horizontal"?parseInt(object.offsetX-diff.W-width-thumbsOffset.W/2):parseInt(winW/2-object.offsetY-width/2-diff.W-thumbsOffset.W/2)),$("div.ilightbox-container",secondHolder).animate({width:width,height:height},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc"),secondHolder.addClass(firstClass).css(transform,gpuAcceleration).animate({top:top,left:left,opacity:opts.styles.prevOpacity},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc",function(){secondHolder.css(transform,""),$(".ilightbox-thumbnail",vars.thumbnails).removeClass("ilightbox-active").eq(item).addClass("ilightbox-active"),iL.positionThumbnails(),iL.items[item]&&(iL.items[item].options.mousewheel?vars.lockWheel=!1:vars.lockWheel=!0,iL.items[item].options.swipe?vars.lockSwipe=!1:vars.lockSwipe=!0),vars.isSwipe=!1,["iframe","video"].indexOf(iL.items[vars.current].type)!==-1&&$("div.ilightbox-container",secondHolder).empty(),side=="next"?(vars.nextPhoto=lastHolder,vars.prevPhoto=secondHolder,vars.holder=firstHolder,vars.nextPhoto.hide(),vars.next=vars.next+1,vars.prev=vars.current,vars.current=vars.current+1,opts.infinite&&(vars.current>vars.total-1&&(vars.current=0),vars.current==vars.total-1&&(vars.next=0),vars.current==0&&(vars.prev=vars.total-1)),iL.createUI(),iL.items[vars.next]?iL.loadContent(iL.items[vars.next],"next"):vars.nextLock=!1):(vars.prevPhoto=lastHolder,vars.nextPhoto=secondHolder,vars.holder=firstHolder,vars.prevPhoto.hide(),vars.next=vars.current,vars.current=vars.prev,vars.prev=vars.current-1,opts.infinite&&(vars.current==vars.total-1&&(vars.next=0),vars.current==0&&(vars.prev=vars.total-1)),iL.createUI(),iL.items[vars.prev]?iL.loadContent(iL.items[vars.prev],"prev"):vars.prevLock=!1),["iframe","video"].indexOf(iL.items[vars.current].type)!==-1&&iL.loadContent(iL.items[vars.current],"current"),opts.linkId&&setTimeout(function(){vars.hashLock=!1},55),opts.infinite||(vars.nextButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),vars.current==0&&vars.prevButton.add(vars.innerPrevButton).addClass("disabled"),vars.current>=vars.total-1&&vars.nextButton.add(vars.innerNextButton).addClass("disabled")),iL.repositionPhoto(),iL.resetCycle(),typeof opts.callback.onAfterChange=="function"&&opts.callback.onAfterChange.call(iL,iL.ui)}),top=path=="horizontal"?getPixel(lastHolder,"top"):side=="next"?parseInt(-(winH/2)-lastHolder.outerHeight()):parseInt(top*2),left=path=="horizontal"?side=="next"?parseInt(-(winW/2)-lastHolder.outerWidth()):parseInt(left*2):getPixel(lastHolder,"left"),lastHolder.css(transform,gpuAcceleration).animate({top:top,left:left,opacity:opts.styles.nextOpacity},switchSpeed,vars.isSwipe?"easeOutCirc":"easeInOutCirc",function(){lastHolder.css(transform,"")}).addClass(secondClass)},setCaption:function(obj,target){var iL=this,caption=$('<div class="ilightbox-caption"></div>');obj.caption&&(caption.html(obj.caption),$("div.ilightbox-container",target).append(caption))},normalizeSocial:function(obj,url){var iL=this,vars=iL.vars,opts=iL.options,baseURL=window.location.href;return $.each(obj,function(key,value){if(!value)return!0;var item=key.toLowerCase(),source,text;switch(item){case"facebook":source="http://www.facebook.com/share.php?v=4&src=bm&u={URL}",text="Share on Facebook";break;case"twitter":source="http://twitter.com/home?status={URL}",text="Share on Twitter";break;case"digg":source="http://digg.com/submit?phase=2&url={URL}",text="Share on Digg";break;case"reddit":source="http://reddit.com/submit?url={URL}",text="Share on reddit"}obj[key]={URL:value.URL&&absolutizeURI(baseURL,value.URL)||opts.linkId&&window.location.href||typeof url!="string"&&baseURL||url&&absolutizeURI(baseURL,url)||baseURL,source:value.source||source||value.URL&&absolutizeURI(baseURL,value.URL)||url&&absolutizeURI(baseURL,url),text:value.text||text||"Share on "+key,width:typeof value.width!="undefined"&&!isNaN(value.width)?parseInt(value.width):640,height:value.height||360}}),obj},setSocial:function(obj,url,target){var iL=this,socialBar=$('<div class="ilightbox-social"></div>'),buttons="<ul>";obj=iL.normalizeSocial(obj,url),$.each(obj,function(key,value){var item=key.toLowerCase(),source=value.source.replace(/\{URL\}/g,encodeURIComponent(value.URL).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+"));buttons+='<li class="'+key+'"><a href="'+source+'" onclick="javascript:window.open(this.href'+(value.width<=0||value.height<=0?"":", '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height="+value.height+",width="+value.width+",left=40,top=40'")+');return false;" title="'+value.text+'" target="_blank"></a></li>'}),buttons+="</ul>",socialBar.html(buttons),$("div.ilightbox-container",target).append(socialBar)},fullScreenAction:function(){var iL=this,vars=iL.vars;fullScreenApi.supportsFullScreen?fullScreenApi.isFullScreen()?fullScreenApi.cancelFullScreen(document.documentElement):fullScreenApi.requestFullScreen(document.documentElement):iL.doFullscreen()},doFullscreen:function(){var iL=this,vars=iL.vars,viewport=getViewport(),opts=iL.options;if(opts.fullAlone){var currentHolder=vars.holder,current=iL.items[vars.current],windowWidth=viewport.width,windowHeight=viewport.height,elements=[currentHolder,vars.nextPhoto,vars.prevPhoto,vars.nextButton,vars.prevButton,vars.overlay,vars.toolbar,vars.thumbnails,vars.loader],hideElements=[vars.nextPhoto,vars.prevPhoto,vars.nextButton,vars.prevButton,vars.loader,vars.thumbnails];if(!vars.isInFullScreen){vars.isInFullScreen=vars.lockKey=vars.lockWheel=vars.lockSwipe=!0,vars.overlay.css({opacity:1}),$.each(hideElements,function(i,element){element.hide()}),vars.fullScreenButton.attr("title",opts.text.exitFullscreen);if(opts.fullStretchTypes.indexOf(current.type)!=-1)currentHolder.data({naturalWidthOld:currentHolder.data("naturalWidth"),naturalHeightOld:currentHolder.data("naturalHeight"),naturalWidth:windowWidth,naturalHeight:windowHeight});else{var viewport=current.options.fullViewPort||opts.fullViewPort||"",newWidth=windowWidth,newHeight=windowHeight,width=currentHolder.data("naturalWidth"),height=currentHolder.data("naturalHeight");if(viewport.toLowerCase()=="fill")newHeight=newWidth/width*height,newHeight<windowHeight&&(newWidth=windowHeight/height*width,newHeight=windowHeight);else if(viewport.toLowerCase()=="fit"){var dims=iL.getNewDimenstions(newWidth,newHeight,width,height,!0);newWidth=dims.width,newHeight=dims.height}else if(viewport.toLowerCase()=="stretch")newWidth=newWidth,newHeight=newHeight;else{var scale=width>newWidth||height>newHeight?!0:!1,dims=iL.getNewDimenstions(newWidth,newHeight,width,height,scale);newWidth=dims.width,newHeight=dims.height}currentHolder.data({naturalWidthOld:currentHolder.data("naturalWidth"),naturalHeightOld:currentHolder.data("naturalHeight"),naturalWidth:newWidth,naturalHeight:newHeight})}$.each(elements,function(key,val){val.addClass("ilightbox-fullscreen")}),typeof opts.callback.onEnterFullScreen=="function"&&opts.callback.onEnterFullScreen.call(iL,iL.ui)}else vars.isInFullScreen=vars.lockKey=vars.lockWheel=vars.lockSwipe=!1,vars.overlay.css({opacity:iL.options.overlay.opacity}),$.each(hideElements,function(i,element){element.show()}),vars.fullScreenButton.attr("title",opts.text.enterFullscreen),currentHolder.data({naturalWidth:currentHolder.data("naturalWidthOld"),naturalHeight:currentHolder.data("naturalHeightOld"),naturalWidthOld:null,naturalHeightOld:null}),$.each(elements,function(key,val){val.removeClass("ilightbox-fullscreen")}),typeof opts.callback.onExitFullScreen=="function"&&opts.callback.onExitFullScreen.call(iL,iL.ui)}else vars.isInFullScreen?vars.isInFullScreen=!1:vars.isInFullScreen=!0;iL.repositionPhoto(!0)},closeAction:function(){var iL=this,vars=iL.vars,opts=iL.options;$win.unbind(".iLightBox"),$doc.off(".iLightBox"),vars.isInFullScreen&&fullScreenApi.cancelFullScreen(document.documentElement),$(".ilightbox-overlay, .ilightbox-holder, .ilightbox-thumbnails").off(".iLightBox"),opts.hide.effect?vars.overlay.stop().fadeOut(opts.hide.speed,function(){vars.overlay.remove(),vars.BODY.removeClass("ilightbox-noscroll").off(".iLightBox")}):(vars.overlay.remove(),vars.BODY.removeClass("ilightbox-noscroll").off(".iLightBox"));var fadeOuts=[vars.toolbar,vars.holder,vars.nextPhoto,vars.prevPhoto,vars.nextButton,vars.prevButton,vars.loader,vars.thumbnails];$.each(fadeOuts,function(i,element){element.removeAttr("style").remove()}),vars.dontGenerateThumbs=vars.isInFullScreen=!1,window.iLightBox=null,opts.linkId&&(vars.hashLock=!0,removeHash(),setTimeout(function(){vars.hashLock=!1},55)),vars.nextButton.add(vars.prevButton).add(vars.innerPrevButton).add(vars.innerNextButton).removeClass("disabled"),typeof opts.callback.onHide=="function"&&opts.callback.onHide.call(iL,iL.ui)},repositionPhoto:function(){var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),viewport=getViewport(),winWidth=viewport.width,winHeight=viewport.height;viewport.width<UNCODE.mediaQuery&&(opts.styles.nextOffsetX=0);var thumbsOffsetW=vars.isInFullScreen&&opts.fullAlone||vars.isMobile?0:path=="horizontal"?0:vars.thumbnails.outerWidth(),thumbsOffsetH=vars.isMobile?vars.toolbar.outerHeight():vars.isInFullScreen&&opts.fullAlone?0:path=="horizontal"?vars.thumbnails.outerHeight():0,width=vars.isInFullScreen&&opts.fullAlone?winWidth:winWidth-opts.styles.pageOffsetX,height=vars.isInFullScreen&&opts.fullAlone?winHeight:winHeight-opts.styles.pageOffsetY,offsetW=path=="horizontal"?parseInt(iL.items[vars.next]||iL.items[vars.prev]?(opts.styles.nextOffsetX+opts.styles.prevOffsetX)*2:width/10<=30?30:width/10):parseInt(width/10<=30?30:width/10)+thumbsOffsetW,offsetH=path=="horizontal"?parseInt(height/10<=30?30:height/10)+thumbsOffsetH:parseInt(iL.items[vars.next]||iL.items[vars.prev]?(opts.styles.nextOffsetX+opts.styles.prevOffsetX)*2:height/10<=30?30:height/10),elObject={type:"current",width:width,height:height,item:iL.items[vars.current],offsetW:offsetW,offsetH:offsetH,thumbsOffsetW:thumbsOffsetW,thumbsOffsetH:thumbsOffsetH,animate:arguments.length,holder:vars.holder};iL.repositionEl(elObject),iL.items[vars.next]&&(elObject=$.extend(elObject,{type:"next",item:iL.items[vars.next],offsetX:opts.styles.nextOffsetX,offsetY:opts.styles.nextOffsetY,holder:vars.nextPhoto}),iL.repositionEl(elObject)),iL.items[vars.prev]&&(elObject=$.extend(elObject,{type:"prev",item:iL.items[vars.prev],offsetX:opts.styles.nextOffsetX,offsetY:opts.styles.prevOffsetY,holder:vars.prevPhoto}),iL.repositionEl(elObject));var loaderCss=path=="horizontal"?{left:parseInt(width/2-vars.loader.outerWidth()/2)}:{top:parseInt(height/2-vars.loader.outerHeight()/2)};vars.loader.css(loaderCss)},repositionEl:function(obj){var iL=this,vars=iL.vars,opts=iL.options,path=opts.path.toLowerCase(),widthAvail=obj.type=="current"?vars.isInFullScreen&&opts.fullAlone?obj.width:obj.width-obj.offsetW:obj.width-obj.offsetW,heightAvail=obj.type=="current"?vars.isInFullScreen&&opts.fullAlone?obj.height:obj.height-obj.offsetH:obj.height-obj.offsetH,itemParent=obj.item,item=obj.item.options,holder=obj.holder,offsetX=obj.offsetX||0,offsetY=obj.offsetY||0,toolbarHeight=$(".ilightbox-inner-toolbar",holder).length?parseInt($(".ilightbox-inner-toolbar",holder).outerHeight()):0,thumbsOffsetW=obj.thumbsOffsetW,thumbsOffsetH=obj.thumbsOffsetH;obj.type=="current"?(typeof item.width=="number"&&item.width&&(widthAvail=vars.isInFullScreen&&opts.fullAlone&&(opts.fullStretchTypes.indexOf(itemParent.type)!=-1||item.fullViewPort||opts.fullViewPort)?widthAvail:item.width>widthAvail?widthAvail:item.width),typeof item.height=="number"&&item.height&&(heightAvail=vars.isInFullScreen&&opts.fullAlone&&(opts.fullStretchTypes.indexOf(itemParent.type)!=-1||item.fullViewPort||opts.fullViewPort)?heightAvail:item.height>heightAvail?heightAvail:item.height)):(typeof item.width=="number"&&item.width&&(widthAvail=item.width>widthAvail?widthAvail:item.width),typeof item.height=="number"&&item.height&&(heightAvail=item.height>heightAvail?heightAvail:item.height)),heightAvail=parseInt(heightAvail-toolbarHeight);var width=typeof item.width=="string"&&item.width.indexOf("%")!=-1?percentToValue(parseInt(item.width.replace("%","")),obj.width):holder.data("naturalWidth"),height=typeof item.height=="string"&&item.height.indexOf("%")!=-1?percentToValue(parseInt(item.height.replace("%","")),obj.height):holder.data("naturalHeight"),dims=typeof item.width=="string"&&item.width.indexOf("%")!=-1||typeof item.height=="string"&&item.height.indexOf("%")!=-1?{width:width,height:height}:iL.getNewDimenstions(widthAvail,heightAvail,width,height),newDims=$.extend({},dims,{});obj.type=="prev"||obj.type=="next"?(width=parseInt(dims.width*(obj.type=="next"?opts.styles.nextScale:opts.styles.prevScale)),height=parseInt(dims.height*(obj.type=="next"?opts.styles.nextScale:opts.styles.prevScale))):(width=dims.width,height=dims.height);var widthDiff=parseInt((getPixel(holder,"padding-left")+getPixel(holder,"padding-right")+getPixel(holder,"border-left-width")+getPixel(holder,"border-right-width"))/2),heightDiff=parseInt((getPixel(holder,"padding-top")+getPixel(holder,"padding-bottom")+getPixel(holder,"border-top-width")+getPixel(holder,"border-bottom-width")+($(".ilightbox-inner-toolbar",holder).outerHeight()||0))/2);switch(obj.type){case"current":var top=parseInt(obj.height/2-height/2-heightDiff-thumbsOffsetH/2),left=parseInt(obj.width/2-width/2-widthDiff-thumbsOffsetW/2);break;case"next":var top=path=="horizontal"?parseInt(obj.height/2-offsetY-height/2-heightDiff-thumbsOffsetH/2):parseInt(obj.height-offsetX-heightDiff-thumbsOffsetH/2),left=path=="horizontal"?parseInt(obj.width-offsetX-widthDiff-thumbsOffsetW/2):parseInt(obj.width/2-width/2-widthDiff-offsetY-thumbsOffsetW/2);break;case"prev":var top=path=="horizontal"?parseInt(obj.height/2-offsetY-height/2-heightDiff-thumbsOffsetH/2):parseInt(offsetX-heightDiff-height-thumbsOffsetH/2),left=path=="horizontal"?parseInt(offsetX-widthDiff-width-thumbsOffsetW/2):parseInt(obj.width/2-offsetY-width/2-widthDiff-thumbsOffsetW/2)}holder.data("offset",{top:top,left:left,newDims:newDims,diff:{W:widthDiff,H:heightDiff},thumbsOffset:{W:thumbsOffsetW,H:thumbsOffsetH},object:obj});var opacityMobile;isMobile?opacityMobile={opacity:1,top:top,left:left}:opacityMobile={top:top,left:left},obj.animate>0&&opts.effects.reposition?(holder.css(transform,gpuAcceleration).stop().animate(opacityMobile,opts.effects.repositionSpeed,"easeOutCirc",function(){holder.css(transform,"")}),$("div.ilightbox-container",holder).stop().animate({width:width,height:height},opts.effects.repositionSpeed,"easeOutCirc"),$("div.ilightbox-inner-toolbar",holder).stop().animate({width:width},opts.effects.repositionSpeed,"easeOutCirc",function(){$(this).css("overflow","visible")})):(holder.css(opacityMobile),$("div.ilightbox-container",holder).css({width:width,height:height}),$("div.ilightbox-inner-toolbar",holder).css({width:width}))},resume:function(priority){var iL=this,vars=iL.vars,opts=iL.options;if(!opts.slideshow.pauseTime||opts.controls.slideshow&&vars.total<=1||priority<vars.isPaused)return;vars.isPaused=0,vars.cycleID&&(vars.cycleID=clearTimeout(vars.cycleID)),vars.cycleID=setTimeout(function(){vars.current==vars.total-1?iL.goTo(0):iL.moveTo("next")},opts.slideshow.pauseTime)},pause:function(priority){var iL=this,vars=iL.vars,opts=iL.options;if(priority<vars.isPaused)return;vars.isPaused=priority||100,vars.cycleID&&(vars.cycleID=clearTimeout(vars.cycleID))},resetCycle:function(){var iL=this,vars=iL.vars,opts=iL.options;opts.controls.slideshow&&vars.cycleID&&!vars.isPaused&&iL.resume()},getNewDimenstions:function(width,height,width_old,height_old,thumb){var iL=this;width?height?factor=min(width/width_old,height/height_old):factor=width/width_old:factor=height/height_old,thumb||(factor>iL.options.maxScale?factor=iL.options.maxScale:factor<iL.options.minScale&&(factor=iL.options.minScale));var final_width=iL.options.keepAspectRatio?round(width_old*factor):width,final_height=iL.options.keepAspectRatio?round(height_old*factor):height;return{width:final_width,height:final_height,ratio:factor}},setOption:function(options){var iL=this;iL.options=$.extend(!0,iL.options,options||{}),iL.refresh()},availPlugins:function(){var iL=this,testEl=document.createElement("video");iL.plugins={flash:!isMobile,quicktime:parseInt(PluginDetect.getVersion("QuickTime"))>=0?!0:!1,html5H264:!!testEl.canPlayType&&!!testEl.canPlayType("video/mp4").replace(/no/,""),html5WebM:!!testEl.canPlayType&&!!testEl.canPlayType("video/webm").replace(/no/,""),html5Vorbis:!!testEl.canPlayType&&!!testEl.canPlayType("video/ogg").replace(/no/,""),html5QuickTime:!!testEl.canPlayType&&!!testEl.canPlayType("video/quicktime").replace(/no/,"")}},addContent:function(element,obj){var iL=this,el;switch(obj.type){case"video":var HTML5=!1,videoType=obj.videoType,html5video=obj.options.html5video;(videoType=="video/mp4"||obj.ext=="mp4"||obj.ext=="m4v"||html5video.h264)&&iL.plugins.html5H264?(obj.ext="mp4",obj.URL=html5video.h264||obj.URL):html5video.webm&&iL.plugins.html5WebM?(obj.ext="webm",obj.URL=html5video.webm||obj.URL):html5video.ogg&&iL.plugins.html5Vorbis&&(obj.ext="ogv",obj.URL=html5video.ogg||obj.URL),!iL.plugins.html5H264||videoType!="video/mp4"&&obj.ext!="mp4"&&obj.ext!="m4v"?!iL.plugins.html5WebM||videoType!="video/webm"&&obj.ext!="webm"?!iL.plugins.html5Vorbis||videoType!="video/ogg"&&obj.ext!="ogv"?iL.plugins.html5QuickTime&&(videoType=="video/quicktime"||obj.ext=="mov"||obj.ext=="qt")&&(HTML5=!0,videoType="video/quicktime"):(HTML5=!0,videoType="video/ogg"):(HTML5=!0,videoType="video/webm"):(HTML5=!0,videoType="video/mp4"),HTML5?el=$("<video />",{width:"100%",height:"100%",preload:html5video.preload,autoplay:html5video.autoplay,loop:html5video.loop,poster:html5video.poster,controls:html5video.controls,controlslist:"nodownload"}).append($("<source />",{src:obj.URL,type:videoType})):iL.plugins.quicktime?(el=$("<object />",{type:"video/quicktime",pluginspage:pluginspages.quicktime}).attr({data:obj.URL,width:"100%",height:"100%"}).append($("<param />",{name:"src",value:obj.URL})).append($("<param />",{name:"autoplay",value:"false"})).append($("<param />",{name:"loop",value:"false"})).append($("<param />",{name:"scale",value:"tofit"})),browser.msie&&(el=QT_GenerateOBJECTText(obj.URL,"100%","100%","","SCALE","tofit","AUTOPLAY","false","LOOP","false"))):el=$("<span />",{"class":"ilightbox-alert",html:iL.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.quicktime).replace("{type}","QuickTime")});break;case"flash":if(!iL.plugins.flash)el=$("<span />",{"class":"ilightbox-alert",html:iL.options.errors.missingPlugin.replace("{pluginspage}",pluginspages.flash).replace("{type}","Adobe Flash player")});else{var flashvars="",i=0;obj.options.flashvars?$.each(obj.options.flashvars,function(k,v){i!=0&&(flashvars+="&"),flashvars+=k+"="+encodeURIComponent(v),i++}):flashvars=null,el=$("<embed />").attr({type:"application/x-shockwave-flash",src:obj.URL,width:typeof obj.options.width=="number"&&obj.options.width&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.width:"100%",height:typeof obj.options.height=="number"&&obj.options.height&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.height:"100%",quality:"high",bgcolor:"#000000",play:"true",loop:"true",menu:"true",wmode:"transparent",scale:"showall",allowScriptAccess:"always",allowFullScreen:"true",flashvars:flashvars,fullscreen:"yes"})}break;case"iframe":el=$("<iframe />").attr({width:typeof obj.options.width=="number"&&obj.options.width&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.width:"100%",height:typeof obj.options.height=="number"&&obj.options.height&&iL.options.minScale=="1"&&iL.options.maxScale=="1"?obj.options.height:"100%",src:obj.URL,frameborder:0,hspace:0,vspace:0,scrolling:supportTouch?"auto":"scroll",webkitAllowFullScreen:"",mozallowfullscreen:"",allowFullScreen:""});break;case"inline":el=$('<div class="ilightbox-wrapper"></div>').html($(obj.URL).clone(!0));break;case"html":var object=obj.URL,el;if(object[0].nodeName)el=$('<div class="ilightbox-wrapper"></div>').html(object);else{var dom=$(obj.URL),html=dom.selector?$("<div>"+dom+"</div>"):dom;el=$('<div class="ilightbox-wrapper"></div>').html(html)}}return $("div.ilightbox-container",element).empty().html(el),el[0].tagName.toLowerCase()==="video"&&browser.webkit&&setTimeout(function(){var src=el[0].currentSrc+"?"+floor(random()*3e4);el[0].currentSrc=src,el[0].src=src}),el},ogpRecognition:function(obj,callback){var iL=this,url=obj.URL;iL.showLoader(),doAjax(url,function(data){iL.hideLoader();if(data){var object=new Object;object.length=!1,object.url=data.url;if(data.status==200){var result=data.results,type=result.type,source=result.source;object.source=source.src,object.width=source.width&&parseInt(source.width)||0,object.height=source.height&&parseInt(source.height)||0,object.type=type,object.thumbnail=source.thumbnail||result.images&&result.images[0],object.html5video=result.html5video||{},object.length=!0,source.type=="application/x-shockwave-flash"?object.type="flash":source.type.indexOf("video/")!=-1?object.type="video":source.type.indexOf("/html")!=-1?object.type="iframe":source.type.indexOf("image/")!=-1&&(object.type="image")}else if(typeof data.response!="undefined")throw data.response;callback.call(this,object.length?object:!1)}})},hashChangeHandler:function(url){var iL=this,vars=iL.vars,opts=iL.options,URL=url||window.location.href,hash=parseURI(URL).hash,split=hash.split("/"),index=split[1];if(vars.hashLock||"#"+opts.linkId!=split[0]&&hash.length>1)return;if(index){var target=split[1]||0;if(iL.items[target]){var overlay=$(".ilightbox-overlay");overlay.length&&overlay.attr("linkid")==opts.linkId?iL.goTo(target):iL.itemsObject[target].trigger(ishybrid?"itap click":supportTouch?"itap":"click")}else{var overlay=$(".ilightbox-overlay");overlay.length&&iL.closeAction()}}else{var overlay=$(".ilightbox-overlay");overlay.length&&iL.closeAction()}}},$.fn.iLightBox=function(){var args=arguments,opt=$.isPlainObject(args[0])?args[0]:args[1],items=$.isArray(args[0])||typeof args[0]=="string"?args[0]:args[1];opt||(opt={});var options=$.extend(!0,{attr:"href",path:"vertical",skin:"dark",linkId:!1,infinite:!1,startFrom:0,randomStart:!1,keepAspectRatio:!0,maxScale:1,minScale:.2,innerToolbar:!1,smartRecognition:!1,mobileOptimizer:!0,fullAlone:!0,fullViewPort:null,fullStretchTypes:"flash, video",overlay:{blur:!0,opacity:.85},controls:{arrows:!1,slideshow:!1,toolbar:!0,fullscreen:!0,thumbnail:!0,keyboard:!0,mousewheel:!0,swipe:!0},keyboard:{left:!0,right:!0,up:!0,down:!0,esc:!0,shift_enter:!0},show:{effect:!0,speed:300,title:!0},hide:{effect:!0,speed:300},caption:{start:!0,show:"mouseenter",hide:"mouseleave"},social:{start:!0,show:"mouseenter",hide:"mouseleave",buttons:!1},styles:{pageOffsetX:0,pageOffsetY:0,nextOffsetX:45,nextOffsetY:0,nextOpacity:1,nextScale:1,prevOffsetX:45,prevOffsetY:0,prevOpacity:1,prevScale:1},thumbnails:{maxWidth:120,maxHeight:80,normalOpacity:1,activeOpacity:.6},effects:{reposition:!0,repositionSpeed:200,switchSpeed:500,loadedFadeSpeed:180,fadeSpeed:200},slideshow:{pauseTime:5e3,pauseOnHover:!1,startPaused:!0},text:{close:"Press Esc to close",enterFullscreen:"Enter Fullscreen (Shift+Enter)",exitFullscreen:"Exit Fullscreen (Shift+Enter)",slideShow:"Slideshow",next:"Next",previous:"Previous"},errors:{loadImage:"An error occurred when trying to load photo.",loadContents:"An error occurred when trying to load contents.",missingPlugin:"The content your are attempting to view requires the <a href='{pluginspage}' target='_blank'>{type} plugin</a>."},ajaxSetup:{url:"",beforeSend:function(jqXHR,settings){},cache:!1,complete:function(jqXHR,textStatus){},crossDomain:!1,error:function(jqXHR,textStatus,errorThrown){},success:function(data,textStatus,jqXHR){},global:!0,ifModified:!1,username:null,password:null,type:"GET"},callback:{}},opt),instant=$.isArray(items)||typeof items=="string"?!0:!1;items=$.isArray(items)?items:new Array,typeof args[0]=="string"&&(items[0]=args[0]);if(version_compare($.fn.jquery,"1.8",">=")){var iLB=new iLightBox($(this),options,items,instant);return{close:function(){iLB.closeAction()},fullscreen:function(){iLB.fullScreenAction()},moveNext:function(){iLB.moveTo("next")},movePrev:function(){iLB.moveTo("prev")},goTo:function(index){iLB.goTo(index)},refresh:function(){iLB.refresh()},reposition:function(){arguments.length>0?iLB.repositionPhoto(!0):iLB.repositionPhoto()},setOption:function(options){iLB.setOption(options)},destroy:function(){iLB.closeAction(),iLB.dispatchItemsEvents()}}}throw"The jQuery version that was loaded is too old. iLightBox requires jQuery 1.8+"},$.iLightBox=function(){return $.fn.iLightBox(arguments[0],arguments[1])},function(){$.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)}});var tapSettings={startEvent:"touchstart.iTap",endEvent:"touchend.iTap"};$.event.special.itap={setup:function(){var self=this,$self=$(this),start,stop;$self.bind(tapSettings.startEvent,function(event){start=getScrollXY(),$self.one(tapSettings.endEvent,function(event){stop=getScrollXY();var orgEvent=event||window.event;event=$.event.fix(orgEvent),event.type="itap",start&&stop&&start.x==stop.x&&start.y==stop.y&&($.event.dispatch||$.event.handle).call(self,event),start=stop=undefined})})},teardown:function(){$(this).unbind(tapSettings.startEvent)}}}(),function(){fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},browserPrefixes="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined")fullScreenApi.supportsFullScreen=!0;else for(var i=0,il=browserPrefixes.length;i<il;i++){fullScreenApi.prefix=browserPrefixes[i];if(typeof document[fullScreenApi.prefix+"CancelFullScreen"]!="undefined"){fullScreenApi.supportsFullScreen=!0;break}}fullScreenApi.supportsFullScreen&&(fullScreenApi.fullScreenEventName=fullScreenApi.prefix+"fullscreenchange",fullScreenApi.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},fullScreenApi.requestFullScreen=function(el){return this.prefix===""?el.requestFullScreen():el[this.prefix+"RequestFullScreen"]()},fullScreenApi.cancelFullScreen=function(el){return this.prefix===""?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()})}(),function(){function uaMatch(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}}var matched=uaMatch(navigator.userAgent);browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0)}(),function(){function testProp(prop){for(var p=0,pl=prefixes.length;p<pl;p++){var prefixedProp=prefixes[p]?prefixes[p]+prop.charAt(0).toUpperCase()+prop.slice(1):prop;if(el.style[prefixedProp]!==undefined)return prefixedProp}}var prefixes=["","webkit","moz","ms","o"],el=document.createElement("div");transform=testProp("transform")||"",gpuAcceleration=testProp("perspective")?"translateZ(0) ":""}();var PluginDetect={version:"0.7.9",name:"PluginDetect",handler:function(c,b,a){return function(){c(b,a)}},openTag:"<",isDefined:function(b){return typeof b!="undefined"},isArray:function(b){return/array/i.test(Object.prototype.toString.call(b))},isFunc:function(b){return typeof b=="function"},isString:function(b){return typeof b=="string"},isNum:function(b){return typeof b=="number"},isStrNum:function(b){return typeof b=="string"&&/\d/.test(b)},getNumRegx:/[\d][\d\.\_,-]*/,splitNumRegx:/[\.\_,-]/g,getNum:function(b,c){var d=this,a=d.isStrNum(b)?(d.isDefined(c)?new RegExp(c):d.getNumRegx).exec(b):null;return a?a[0]:null},compareNums:function(h,f,d){var e=this,c,b,a,g=parseInt;if(e.isStrNum(h)&&e.isStrNum(f)){if(e.isDefined(d)&&d.compareNums)return d.compareNums(h,f);c=h.split(e.splitNumRegx),b=f.split(e.splitNumRegx);for(a=0;a<min(c.length,b.length);a++){if(g(c[a],10)>g(b[a],10))return 1;if(g(c[a],10)<g(b[a],10))return-1}}return 0},formatNum:function(b,c){var d=this,a,e;if(!d.isStrNum(b))return null;d.isNum(c)||(c=4),c--,e=b.replace(/\s/g,"").split(d.splitNumRegx).concat(["0","0","0","0"]);for(a=0;a<4;a++){/^(0+)(.+)$/.test(e[a])&&(e[a]=RegExp.$2);if(a>c||!/\d/.test(e[a]))e[a]="0"}return e.slice(0,4).join(",")},$$hasMimeType:function(a){return function(c){if(!a.isIE&&c){var f,e,b,d=a.isArray(c)?c:a.isString(c)?[c]:[];for(b=0;b<d.length;b++)if(a.isString(d[b])&&/[^\s]/.test(d[b])){f=navigator.mimeTypes[d[b]],e=f?f.enabledPlugin:0;if(e&&(e.name||e.description))return f}}return null}},findNavPlugin:function(l,e,c){var j=this,h=new RegExp(l,"i"),d=!j.isDefined(e)||e?/\d/:0,k=c?new RegExp(c,"i"):0,a=navigator.plugins,g="",f,b,m;for(f=0;f<a.length;f++){m=a[f].description||g,b=a[f].name||g;if(h.test(m)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext))||h.test(b)&&(!d||d.test(RegExp.leftContext+RegExp.rightContext)))if(!k||!k.test(m)&&!k.test(b))return a[f]}return null},getMimeEnabledPlugin:function(k,m,c){var e=this,f,b=new RegExp(m,"i"),h="",g=c?new RegExp(c,"i"):0,a,l,d,j=e.isString(k)?[k]:k;for(d=0;d<j.length;d++)if((f=e.hasMimeType(j[d]))&&(f=f.enabledPlugin)){l=f.description||h,a=f.name||h;if(b.test(l)||b.test(a))if(!g||!g.test(l)&&!g.test(a))return f}return 0},getPluginFileVersion:function(f,b){var h=this,e,d,g,a,c=-1;if(h.OS>2||!f||!f.version||!(e=h.getNum(f.version)))return b;if(!b)return e;e=h.formatNum(e),b=h.formatNum(b),d=b.split(h.splitNumRegx),g=e.split(h.splitNumRegx);for(a=0;a<d.length;a++){if(c>-1&&a>c&&d[a]!="0")return b;if(g[a]!=d[a]){c==-1&&(c=a);if(d[a]!="0")return b}}return e},AXO:window.ActiveXObject,getAXO:function(a){var f=null,d,b=this,c={};try{f=new b.AXO(a)}catch(d){}return f},convertFuncs:function(f){var a,g,d,b=/^[\$][\$]/,c=this;for(a in f)if(b.test(a))try{g=a.slice(2),g.length>0&&!f[g]&&(f[g]=f[a](f),delete f[a])}catch(d){}},initObj:function(e,b,d){var a,c;if(e){if(e[b[0]]==1||d)for(a=0;a<b.length;a+=2)e[b[a]]=b[a+1];for(a in e)c=e[a],c&&c[b[0]]==1&&this.initObj(c,b)}},initScript:function(){var d=this,a=navigator,h,i=document,l=a.userAgent||"",j=a.vendor||"",b=a.platform||"",k=a.product||"";d.initObj(d,["$",d]);for(h in d.Plugins)d.Plugins[h]&&d.initObj(d.Plugins[h],["$",d,"$$",d.Plugins[h]],1);d.convertFuncs(d),d.OS=100;if(b){var g=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(h=g.length-2;h>=0;h-=2)if(g[h]&&(new RegExp(g[h],"i")).test(b)){d.OS=g[h+1];break}}d.head=i.getElementsByTagName("head")[0]||i.getElementsByTagName("body")[0]||i.body||null,d.isIE=(new Function("return/*@cc_on!@*/!1"))(),d.verIE=d.isIE&&/MSIE\s*(\d+\.?\d*)/i.test(l)?parseFloat(RegExp.$1,10):null,d.verIEfull=null,d.docModeIE=null;if(d.isIE){var f,n,c=document.createElement("div");try{c.style.behavior="url(#default#clientcaps)",d.verIEfull=c.getComponentVersion("{89820200-ECBD-11CF-8B85-00AA005B4383}","componentid").replace(/,/g,".")}catch(f){}n=parseFloat(d.verIEfull||"0",10),d.docModeIE=i.documentMode||(/back/i.test(i.compatMode||"")?5:n)||d.verIE,d.verIE=n||d.docModeIE}d.ActiveXEnabled=!1;if(d.isIE){var h,m=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","Shell.UIHelper","Scripting.Dictionary","wmplayer.ocx"];for(h=0;h<m.length;h++)if(d.getAXO(m[h])){d.ActiveXEnabled=!0;break}}d.isGecko=/Gecko/i.test(k)&&/Gecko\s*\/\s*\d/i.test(l),d.verGecko=d.isGecko?d.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(l)?RegExp.$1:"0.9"):null,d.isChrome=/Chrome\s*\/\s*(\d[\d\.]*)/i.test(l),d.verChrome=d.isChrome?d.formatNum(RegExp.$1):null,d.isSafari=(/Apple/i.test(j)||!j&&!d.isChrome)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(l),d.verSafari=d.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(l)?d.formatNum(RegExp.$1):null,d.isOpera=/Opera\s*[\/]?\s*(\d+\.?\d*)/i.test(l),d.verOpera=d.isOpera&&(/Version\s*\/\s*(\d+\.?\d*)/i.test(l)||1)?parseFloat(RegExp.$1,10):null,d.addWinEvent("load",d.handler(d.runWLfuncs,d))},init:function(d){var c=this,b,d,a={status:-3,plugin:0};return c.isString(d)?d.length==1?(c.getVersionDelimiter=d,a):(d=d.toLowerCase().replace(/\s/g,""),b=c.Plugins[d],!b||!b.getVersion?a:(a.plugin=b,c.isDefined(b.installed)||(b.installed=null,b.version=null,b.version0=null,b.getVersionDone=null,b.pluginName=d),c.garbage=!1,c.isIE&&!c.ActiveXEnabled&&d!=="java"?(a.status=-2,a):(a.status=1,a))):a},fPush:function(b,a){var c=this;c.isArray(a)&&(c.isFunc(b)||c.isArray(b)&&b.length>0&&c.isFunc(b[0]))&&a.push(b)},callArray:function(b){var c=this,a;if(c.isArray(b))for(a=0;a<b.length;a++){if(b[a]===null)return;c.call(b[a]),b[a]=null}},call:function(c){var b=this,a=b.isArray(c)?c.length:-1;a>0&&b.isFunc(c[0])?c[0](b,a>1?c[1]:0,a>2?c[2]:0,a>3?c[3]:0):b.isFunc(c)&&c(b)},getVersionDelimiter:",",$$getVersion:function(a){return function(g,d,c){var e=a.init(g),f,b,h={};return e.status<0?null:(f=e.plugin,f.getVersionDone!=1&&(f.getVersion(null,d,c),f.getVersionDone===null&&(f.getVersionDone=1)),a.cleanup(),b=f.version||f.version0,b=b?b.replace(a.splitNumRegx,a.getVersionDelimiter):b,b)}},cleanup:function(){var a=this;a.garbage&&a.isDefined(window.CollectGarbage)&&window.CollectGarbage()},isActiveXObject:function(d,b){var f=this,a=!1,g,c='<object width="1" height="1" style="display:none" '+d.getCodeBaseVersion(b)+">"+d.HTML+f.openTag+"/object>";if(!f.head)return a;f.head.insertBefore(document.createElement("object"),f.head.firstChild),f.head.firstChild.outerHTML=c;try{f.head.firstChild.classid=d.classID}catch(g){}try{f.head.firstChild.object&&(a=!0)}catch(g){}try{a&&f.head.firstChild.readyState<4&&(f.garbage=!0)}catch(g){}return f.head.removeChild(f.head.firstChild),a},codebaseSearch:function(f,b){var c=this;if(!c.ActiveXEnabled||!f)return null;f.BIfuncs&&f.BIfuncs.length&&f.BIfuncs[f.BIfuncs.length-1]!==null&&c.callArray(f.BIfuncs);var d,o=f.SEARCH,k={};if(c.isStrNum(b))return o.match&&o.min&&c.compareNums(b,o.min)<=0?!0:o.match&&o.max&&c.compareNums(b,o.max)>=0?!1:(d=c.isActiveXObject(f,b),d&&(!o.min||c.compareNums(b,o.min)>0)&&(o.min=b),!d&&(!o.max||c.compareNums(b,o.max)<0)&&(o.max=b),d);var e=[0,0,0,0],l=[].concat(o.digits),a=o.min?1:0,j,i,h,g,m,n=function(p,r){var q=[].concat(e);return q[p]=r,c.isActiveXObject(f,q.join(","))};if(o.max){g=o.max.split(c.splitNumRegx);for(j=0;j<g.length;j++)g[j]=parseInt(g[j],10);g[0]<l[0]&&(l[0]=g[0])}if(o.min){m=o.min.split(c.splitNumRegx);for(j=0;j<m.length;j++)m[j]=parseInt(m[j],10);m[0]>e[0]&&(e[0]=m[0])}if(m&&g)for(j=1;j<m.length;j++){if(m[j-1]!=g[j-1])break;g[j]<l[j]&&(l[j]=g[j]),m[j]>e[j]&&(e[j]=m[j])}if(o.max)for(j=1;j<l.length;j++)if(g[j]>0&&l[j]==0&&l[j-1]<o.digits[j-1]){l[j-1]+=1;break}for(j=0;j<l.length;j++){h={};for(i=0;i<20;i++){if(l[j]-e[j]<1)break;d=round((l[j]+e[j])/2);if(h["a"+d])break;h["a"+d]=1,n(j,d)?(e[j]=d,a=1):l[j]=d}l[j]=e[j],!a&&n(j,e[j])&&(a=1);if(!a)break}return a?e.join(","):null},addWinEvent:function(d,c){var e=this,a=window,b;e.isFunc(c)&&(a.addEventListener?a.addEventListener(d,c,!1):a.attachEvent?a.attachEvent("on"+d,c):(b=a["on"+d],a["on"+d]=e.winHandler(c,b)))},winHandler:function(d,c){return function(){d(),typeof c=="function"&&c()}},WLfuncs0:[],WLfuncs:[],runWLfuncs:function(a){var b={};a.winLoaded=!0,a.callArray(a.WLfuncs0),a.callArray(a.WLfuncs),a.onDoneEmptyDiv&&a.onDoneEmptyDiv()},winLoaded:!1,$$onWindowLoaded:function(a){return function(b){a.winLoaded?a.call(b):a.fPush(b,a.WLfuncs)}},div:null,divID:"plugindetect",divWidth:50,pluginSize:1,emptyDiv:function(){var d=this,b,h,c,a,f,g;if(d.div&&d.div.childNodes)for(b=d.div.childNodes.length-1;b>=0;b--){c=d.div.childNodes[b];if(c&&c.childNodes)for(h=c.childNodes.length-1;h>=0;h--){g=c.childNodes[h];try{c.removeChild(g)}catch(f){}}if(c)try{d.div.removeChild(c)}catch(f){}}d.div||(a=document.getElementById(d.divID),a&&(d.div=a));if(d.div&&d.div.parentNode){try{d.div.parentNode.removeChild(d.div)}catch(f){}d.div=null}},DONEfuncs:[],onDoneEmptyDiv:function(){var c=this,a,b;if(!c.winLoaded)return;if(c.WLfuncs&&c.WLfuncs.length&&c.WLfuncs[c.WLfuncs.length-1]!==null)return;for(a in c){b=c[a];if(b&&b.funcs){if(b.OTF==3)return;if(b.funcs.length&&b.funcs[b.funcs.length-1]!==null)return}}for(a=0;a<c.DONEfuncs.length;a++)c.callArray(c.DONEfuncs);c.emptyDiv()},getWidth:function(c){if(c){var a=c.scrollWidth||c.offsetWidth,b=this;if(b.isNum(a))return a}return-1},getTagStatus:function(m,g,a,b){var c=this,f,k=m.span,l=c.getWidth(k),h=a.span,j=c.getWidth(h),d=g.span,i=c.getWidth(d);if(!k||!h||!d||!c.getDOMobj(m))return-2;if(j<i||l<0||j<0||i<0||i<=c.pluginSize||c.pluginSize<1)return 0;if(l>=i)return-1;try{if(l==c.pluginSize&&(!c.isIE||c.getDOMobj(m).readyState==4)){if(!m.winLoaded&&c.winLoaded)return 1;if(m.winLoaded&&c.isNum(b)){c.isNum(m.count)||(m.count=b);if(b-m.count>=10)return 1}}}catch(f){}return 0},getDOMobj:function(g,a){var f,d=this,c=g?g.span:0,b=c&&c.firstChild?1:0;try{b&&a&&d.div.focus()}catch(f){}return b?c.firstChild:null},setStyle:function(b,g){var f=b.style,a,d,c=this;if(f&&g)for(a=0;a<g.length;a+=2)try{f[g[a]]=g[a+1]}catch(d){}},insertDivInBody:function(i,g){var f,c=this,h="pd33993399",b=null,d=g?window.top.document:window.document,a=d.getElementsByTagName("body")[0]||d.body;if(!a)try{d.write('<div id="'+h+'">.'+c.openTag+"/div>"),b=d.getElementById(h)}catch(f){}a=d.getElementsByTagName("body")[0]||d.body,a&&(a.insertBefore(i,a.firstChild),b&&a.removeChild(b))},insertHTML:function(f,b,g,a,k){var l,m=document,j=this,p,o=m.createElement("span"),n,i,c=["outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"],h="outline-style:none;border-style:none;padding:0px;margin:0px;visibility:visible;";j.isDefined(a)||(a="");if(j.isString(f)&&/[^\s]/.test(f)){f=f.toLowerCase().replace(/\s/g,""),p=j.openTag+f+' width="'+j.pluginSize+'" height="'+j.pluginSize+'" ',p+='style="'+h+'display:inline;" ';for(n=0;n<b.length;n+=2)/[^\s]/.test(b[n+1])&&(p+=b[n]+'="'+b[n+1]+'" ');p+=">";for(n=0;n<g.length;n+=2)/[^\s]/.test(g[n+1])&&(p+=j.openTag+'param name="'+g[n]+'" value="'+g[n+1]+'" />');p+=a+j.openTag+"/"+f+">"}else p=a;j.div||(i=m.getElementById(j.divID),i?j.div=i:(j.div=m.createElement("div"),j.div.id=j.divID),j.setStyle(j.div,c.concat(["width",j.divWidth+"px","height",j.pluginSize+3+"px","fontSize",j.pluginSize+3+"px","lineHeight",j.pluginSize+3+"px","verticalAlign","baseline","display","block"])),i||(j.setStyle(j.div,["position","absolute","right","0px","top","0px"]),j.insertDivInBody(j.div)));if(j.div&&j.div.parentNode){j.setStyle(o,c.concat(["fontSize",j.pluginSize+3+"px","lineHeight",j.pluginSize+3+"px","verticalAlign","baseline","display","inline"]));try{o.innerHTML=p}catch(l){}try{j.div.appendChild(o)}catch(l){}return{span:o,winLoaded:j.winLoaded,tagName:f,outerHTML:p}}return{span:null,winLoaded:j.winLoaded,tagName:"",outerHTML:p}},Plugins:{quicktime:{mimeType:["video/quicktime","application/x-quicktimeplayer","image/x-macpaint","image/x-quicktime"],progID:"QuickTimeCheckObject.QuickTimeCheck.1",progID0:"QuickTime.QuickTime",classID:"clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B",minIEver:7,HTML:'<param name="src" value="" /><param name="controller" value="false" />',getCodeBaseVersion:function(a){return'codebase="#version='+a+'"'},SEARCH:{min:0,max:0,match:0,digits:[16,128,128,0]},getVersion:function(c){var f=this,d=f.$,a=null,e=null,b;if(!d.isIE)d.hasMimeType(f.mimeType)&&(e=d.OS!=3?d.findNavPlugin("QuickTime.*Plug-?in",0):null,e&&e.name&&(a=d.getNum(e.name)));else{d.isStrNum(c)&&(b=c.split(d.splitNumRegx),b.length>3&&parseInt(b[3],10)>0&&(b[3]="9999"),c=b.join(","));if(d.isStrNum(c)&&d.verIE>=f.minIEver&&f.canUseIsMin()>0){f.installed=f.isMin(c),f.getVersionDone=0;return}f.getVersionDone=1,!a&&d.verIE>=f.minIEver&&(a=f.CDBASE2VER(d.codebaseSearch(f))),a||(e=d.getAXO(f.progID),e&&e.QuickTimeVersion&&(a=e.QuickTimeVersion.toString(16),a=parseInt(a.charAt(0),16)+"."+parseInt(a.charAt(1),16)+"."+parseInt(a.charAt(2),16)))}f.installed=a?1:e?0:-1,f.version=d.formatNum(a,3)},cdbaseUpper:["7,60,0,0","0,0,0,0"],cdbaseLower:["7,50,0,0",null],cdbase2ver:[function(c,b){var a=b.split(c.$.splitNumRegx);return[a[0],a[1].charAt(0),a[1].charAt(1),a[2]].join(",")},null],CDBASE2VER:function(f){var e=this,c=e.$,b,a=e.cdbaseUpper,d=e.cdbaseLower;if(f){f=c.formatNum(f);for(b=0;b<a.length;b++)if(a[b]&&c.compareNums(f,a[b])<0&&d[b]&&c.compareNums(f,d[b])>=0&&e.cdbase2ver[b])return e.cdbase2ver[b](e,f)}return f},canUseIsMin:function(){var f=this,d=f.$,b,c=f.canUseIsMin,a=f.cdbaseUpper,e=f.cdbaseLower;if(!c.value){c.value=-1;for(b=0;b<a.length;b++){if(a[b]&&d.codebaseSearch(f,a[b])){c.value=1;break}if(e[b]&&d.codebaseSearch(f,e[b])){c.value=-1;break}}}return f.SEARCH.match=c.value==1?1:0,c.value},isMin:function(c){var b=this,a=b.$;return a.codebaseSearch(b,c)?.7:-1}},flash:{mimeType:"application/x-shockwave-flash",progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",getVersion:function(){var b=function(i){if(!i)return null;var e=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(i);return e?e[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null},j=this,g=j.$,k,h,l=null,c=null,a=null,f,m,d;if(!g.isIE){m=g.hasMimeType(j.mimeType);if(m){f=g.getDOMobj(g.insertHTML("object",["type",j.mimeType],[],"",j));try{l=g.getNum(f.GetVariable("$version"))}catch(k){}}l||(d=m?m.enabledPlugin:null,d&&d.description&&(l=b(d.description)),l&&(l=g.getPluginFileVersion(d,l)))}else{for(h=15;h>2;h--){c=g.getAXO(j.progID+"."+h);if(c){a=h.toString();break}}c||(c=g.getAXO(j.progID));if(a=="6")try{c.AllowScriptAccess="always"}catch(k){return"6,0,21,0"}try{l=b(c.GetVariable("$version"))}catch(k){}!l&&a&&(l=a)}return j.installed=l?1:-1,j.version=g.formatNum(l),!0}},shockwave:{mimeType:"application/x-director",progID:"SWCtl.SWCtl",classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",getVersion:function(){var a=null,b=null,g,f,d=this,c=d.$;if(!c.isIE)f=c.findNavPlugin("Shockwave\\s*for\\s*Director"),f&&f.description&&c.hasMimeType(d.mimeType)&&(a=c.getNum(f.description)),a&&(a=c.getPluginFileVersion(f,a));else{try{b=c.getAXO(d.progID).ShockwaveVersion("")}catch(g){}c.isString(b)&&b.length>0?a=c.getNum(b):c.getAXO(d.progID+".8")?a="8":c.getAXO(d.progID+".7")?a="7":c.getAXO(d.progID+".1")&&(a="6")}d.installed=a?1:-1,d.version=c.formatNum(a)}},zz:0}};PluginDetect.initScript();var gArgCountErr='The "%%" function requires an even number of arguments.\nArguments should be in the form "atttributeName", "attributeValue", ...',gTagAttrs=null,gQTGeneratorVersion=1;(function(){function e(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var k=document,b,f=$.event.special,p=k.documentMode,m="oniLightBoxHashChange"in window&&(void 0===p||7<p);$.fn.iLightBoxHashChange=function(a){return a?this.bind("iLightBoxHashChange",a):this.trigger("iLightBoxHashChange")},$.fn.iLightBoxHashChange.delay=50,f.iLightBoxHashChange=$.extend(f.iLightBoxHashChange,{setup:function(){if(m)return!1;$(b.start)},teardown:function(){if(m)return!1;$(b.stop)}}),b=function(){function a(){var c=e(),d=f(l);c!==l?(n(l=c,d),$(window).trigger("iLightBoxHashChange")):d!==l&&(location.href=location.href.replace(/#.*/,"")+d),g=setTimeout(a,$.fn.iLightBoxHashChange.delay)}var h={},g,l=e(),b=function(c){return c},n=b,f=b;return h.start=function(){g||a()},h.stop=function(){g&&clearTimeout(g),g=void 0},browser.msie&&!m&&function(){var c,d;h.start=function(){c||(d=(d=$.fn.iLightBoxHashChange.src)&&d+e(),c=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||n(e()),a()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,k.onpropertychange=function(){try{"title"===event.propertyName&&(c.document.title=k.title)}catch(a){}})},h.stop=b,f=function(){return e(c.location.href)},n=function(a,d){var b=c.document,e=$.fn.iLightBoxHashChange.domain;a!==d&&(b.title=k.title,b.open(),e&&b.write('<script>document.domain="'+e+'"</script>'),b.close(),c.location.hash=a)}}(),h}()})(),Array.prototype.filter||(Array.prototype.filter=function(fun){"use strict";if(this==null)throw new TypeError;var t=Object(this),len=t.length>>>0;if(typeof fun!="function")throw new TypeError;var res=[],thisp=arguments[1];for(var i=0;i<len;i++)if(i in t){var val=t[i];fun.call(thisp,val,i,t)&&res.push(val)}return res}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){var k;if(this==null)throw new TypeError('"this" is null or not defined');var O=Object(this),len=O.length>>>0;if(len===0)return-1;var n=+fromIndex||0;abs(n)===Infinity&&(n=0);if(n>=len)return-1;k=max(n>=0?n:len-abs(n),0);while(k<len){var kValue;if(k in O&&O[k]===searchElement)return k;k++}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(searchElement){"use strict";if(this==null)throw new TypeError;var t=Object(this),len=t.length>>>0;if(len===0)return-1;var n=len;arguments.length>1&&(n=Number(arguments[1]),n!=n?n=0:n!=0&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*floor(abs(n))));var k=n>=0?min(n,len-1):len-abs(n);for(;k>=0;k--)if(k in t&&t[k]===searchElement)return k;return-1})}(jQuery,this),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lightGallery=factory())}(this,function(){"use strict";function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function initLgPolyfills(){(function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:null};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}if(typeof window.CustomEvent=="function")return!1;window.CustomEvent=CustomEvent})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}function $LG(selector){return initLgPolyfills(),new lgQuery(selector)}function convertToData(attr){return attr==="href"?"src":(attr=attr.replace("data-",""),attr=attr.charAt(0).toLowerCase()+attr.slice(1),attr=attr.replace(/-([a-z])/g,function(g){return g[1].toUpperCase()}),attr)}function lightGallery(el,options){return new LightGallery(el,options)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},lightGalleryCoreSettings={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:undefined,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video"}},lgQuery=function(){function lgQuery(selector){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(selector),this.firstElement=this._getFirstEl(),this}return lgQuery.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)})},lgQuery.prototype._getSelector=function(selector,context){context===void 0&&(context=document);if(typeof selector=="object")return selector;if(typeof selector!="string")return selector;context=context||document;var fl=selector.substring(0,1);return fl==="#"?context.querySelector(selector):context.querySelectorAll(selector)},lgQuery.prototype._each=function(func){return this.selector?(this.selector.length!==undefined?[].forEach.call(this.selector,func):func(this.selector,0),this):this},lgQuery.prototype._setCssVendorPrefix=function(el,cssProperty,value){var property=cssProperty.replace(/-([a-z])/gi,function(s,group1){return group1.toUpperCase()});this.cssVenderPrefixes.indexOf(property)!==-1?(el.style[property.charAt(0).toLowerCase()+property.slice(1)]=value,el.style["webkit"+property]=value,el.style["moz"+property]=value,el.style["ms"+property]=value,el.style["o"+property]=value):el.style[property]=value},lgQuery.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==undefined?this.selector[0]:this.selector},lgQuery.prototype.isEventMatched=function(event,eventName){var eventNamespace=eventName.split(".");return event.split(".").filter(function(e){return e}).every(function(e){return eventNamespace.indexOf(e)!==-1})},lgQuery.prototype.attr=function(attr,value){return value===undefined?this.firstElement?this.firstElement.getAttribute(attr):"":(this._each(function(el){el.setAttribute(attr,value)}),this)},lgQuery.prototype.find=function(selector){return $LG(this._getSelector(selector,this.selector))},lgQuery.prototype.first=function(){return this.selector&&this.selector.length!==undefined?$LG(this.selector[0]):$LG(this.selector)},lgQuery.prototype.eq=function(index){return $LG(this.selector[index])},lgQuery.prototype.parent=function(){return $LG(this.selector.parentElement)},lgQuery.prototype.get=function(){return this._getFirstEl()},lgQuery.prototype.removeAttr=function(attributes){var attrs=attributes.split(" ");return this._each(function(el){attrs.forEach(function(attr){return el.removeAttribute(attr)})}),this},lgQuery.prototype.wrap=function(className){if(!this.firstElement)return this;var wrapper=document.createElement("div");return wrapper.className=className,this.firstElement.parentNode.insertBefore(wrapper,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),wrapper.appendChild(this.firstElement),this},lgQuery.prototype.addClass=function(classNames){return classNames===void 0&&(classNames=""),this._each(function(el){classNames.split(" ").forEach(function(className){className&&el.classList.add(className)})}),this},lgQuery.prototype.removeClass=function(classNames){return this._each(function(el){classNames.split(" ").forEach(function(className){className&&el.classList.remove(className)})}),this},lgQuery.prototype.hasClass=function(className){return this.firstElement?this.firstElement.classList.contains(className):!1},lgQuery.prototype.hasAttribute=function(attribute){return this.firstElement?this.firstElement.hasAttribute(attribute):!1},lgQuery.prototype.toggleClass=function(className){return this.firstElement?(this.hasClass(className)?this.removeClass(className):this.addClass(className),this):this},lgQuery.prototype.css=function(property,value){var _this=this;return this._each(function(el){_this._setCssVendorPrefix(el,property,value)}),this},lgQuery.prototype.on=function(events,listener){var _this=this;return this.selector?(events.split(" ").forEach(function(event){Array.isArray(lgQuery.eventListeners[event])||(lgQuery.eventListeners[event]=[]),lgQuery.eventListeners[event].push(listener),_this.selector.addEventListener(event.split(".")[0],listener)}),this):this},lgQuery.prototype.once=function(event,listener){var _this=this;return this.on(event,function(){_this.off(event),listener(event)}),this},lgQuery.prototype.off=function(event){var _this=this;return this.selector?(Object.keys(lgQuery.eventListeners).forEach(function(eventName){_this.isEventMatched(event,eventName)&&(lgQuery.eventListeners[eventName].forEach(function(listener){_this.selector.removeEventListener(eventName.split(".")[0],listener)}),lgQuery.eventListeners[eventName]=[])}),this):this},lgQuery.prototype.trigger=function(event,detail){if(!this.firstElement)return this;var customEvent=new CustomEvent(event.split(".")[0],{detail:detail||null});return this.firstElement.dispatchEvent(customEvent),this},lgQuery.prototype.load=function(url){var _this=this;return fetch(url).then(function(res){return res.text()}).then(function(html){_this.selector.innerHTML=html}),this},lgQuery.prototype.html=function(html){return html===undefined?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(el){el.innerHTML=html}),this)},lgQuery.prototype.append=function(html){return this._each(function(el){typeof html=="string"?el.insertAdjacentHTML("beforeend",html):el.appendChild(html)}),this},lgQuery.prototype.prepend=function(html){return this._each(function(el){el.insertAdjacentHTML("afterbegin",html)}),this},lgQuery.prototype.remove=function(){return this._each(function(el){el.parentNode.removeChild(el)}),this},lgQuery.prototype.empty=function(){return this._each(function(el){el.innerHTML=""}),this},lgQuery.prototype.scrollTop=function(scrollTop){return scrollTop!==undefined?(document.body.scrollTop=scrollTop,document.documentElement.scrollTop=scrollTop,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},lgQuery.prototype.scrollLeft=function(scrollLeft){return scrollLeft!==undefined?(document.body.scrollLeft=scrollLeft,document.documentElement.scrollLeft=scrollLeft,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},lgQuery.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var rect=this.firstElement.getBoundingClientRect(),bodyMarginLeft=$LG("body").style().marginLeft;return{left:rect.left-parseFloat(bodyMarginLeft)+this.scrollLeft(),top:rect.top+this.scrollTop()}},lgQuery.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},lgQuery.prototype.width=function(){var style=this.style();return this.firstElement.clientWidth-parseFloat(style.paddingLeft)-parseFloat(style.paddingRight)},lgQuery.prototype.height=function(){var style=this.style();return this.firstElement.clientHeight-parseFloat(style.paddingTop)-parseFloat(style.paddingBottom)},lgQuery.eventListeners={},lgQuery}(),defaultDynamicOptions=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"],utils={getSize:function(el,container,spacing,defaultLgSize,galleryItem){spacing===void 0&&(spacing=0);var LGel=$LG(el),lgSize=LGel.attr("data-lg-size")||defaultLgSize;typeof galleryItem.size&&galleryItem.size!=null&&(lgSize=galleryItem.size);if(!lgSize)return;var isResponsiveSizes=lgSize.split(",");if(isResponsiveSizes[1]){var wWidth=window.innerWidth;for(var i=0;i<isResponsiveSizes.length;i++){var size_1=isResponsiveSizes[i],responsiveWidth=parseInt(size_1.split("-")[2],10);if(responsiveWidth>wWidth){lgSize=size_1;break}i===isResponsiveSizes.length-1&&(lgSize=size_1)}}var size=lgSize.split("-"),width=parseInt(size[0],10),height=parseInt(size[1],10),cWidth=container.width(),cHeight=container.height()-spacing,maxWidth=Math.min(cWidth,width),maxHeight=Math.min(cHeight,height),ratio=Math.min(maxWidth/width,maxHeight/height);return{width:width*ratio,height:height*ratio}},getTransform:function(el,container,top,bottom,imageSize){if(!imageSize)return;var LGel=$LG(el).find("img").first();if(!LGel.get())return;var containerRect=container.get().getBoundingClientRect(),wWidth=containerRect.width,wHeight=container.height()-(top+bottom),elWidth=LGel.width(),elHeight=LGel.height(),elStyle=LGel.style(),x=(wWidth-elWidth)/2-LGel.offset().left+(parseFloat(elStyle.paddingLeft)||0)+(parseFloat(elStyle.borderLeft)||0)+$LG(window).scrollLeft()+containerRect.left,y=(wHeight-elHeight)/2-LGel.offset().top+(parseFloat(elStyle.paddingTop)||0)+(parseFloat(elStyle.borderTop)||0)+$LG(window).scrollTop()+top,scX=elWidth/imageSize.width,scY=elHeight/imageSize.height,transform="translate3d("+(x*=-1)+"px, "+(y*=-1)+"px, 0) scale3d("+scX+", "+scY+", 1)";return transform},getIframeMarkup:function(iframeWidth,iframeHeight,iframeMaxWidth,iframeMaxHeight,src,iframeTitle){var title=iframeTitle?'title="'+iframeTitle+'"':"";return'<div class="lg-video-cont lg-has-iframe" style="width:'+iframeWidth+"; max-width:"+iframeMaxWidth+"; height: "+iframeHeight+"; max-height:"+iframeMaxHeight+'">\n                    <iframe class="lg-object" frameborder="0" '+title+' src="'+src+'"  allowfullscreen="true"></iframe>\n                </div>'},getImgMarkup:function(index,src,altAttr,srcset,sizes,sources){var srcsetAttr=srcset?'srcset="'+srcset+'"':"",sizesAttr=sizes?'sizes="'+sizes+'"':"",imgMarkup="<img "+altAttr+" "+srcsetAttr+"  "+sizesAttr+' class="lg-object lg-image" data-index="'+index+'" src="'+src+'" />',sourceTag="";if(sources){var sourceObj=typeof sources=="string"?JSON.parse(sources):sources;sourceTag=sourceObj.map(function(source){var attrs="";return Object.keys(source).forEach(function(key){attrs+=" "+key+'="'+source[key]+'"'}),"<source "+attrs+"></source>"})}return""+sourceTag+imgMarkup},getResponsiveSrc:function(srcItms){var rsWidth=[],rsSrc=[],src="";for(var i=0;i<srcItms.length;i++){var _src=srcItms[i].split(" ");_src[0]===""&&_src.splice(0,1),rsSrc.push(_src[0]),rsWidth.push(_src[1])}var wWidth=window.innerWidth;for(var j=0;j<rsWidth.length;j++)if(parseInt(rsWidth[j],10)>wWidth){src=rsSrc[j];break}return src},isImageLoaded:function(img){return img?img.complete?img.naturalWidth===0?!1:!0:!1:!1},getVideoPosterMarkup:function(_poster,dummyImg,videoContStyle,playVideoString,_isVideo){var videoClass="";return _isVideo&&_isVideo.youtube?videoClass="lg-has-youtube":_isVideo&&_isVideo.vimeo?videoClass="lg-has-vimeo":videoClass="lg-has-html5",'<div class="lg-video-cont '+videoClass+'" style="'+videoContStyle+'">\n                <div class="lg-video-play-button">\n                <svg\n                    viewBox="0 0 20 20"\n                    preserveAspectRatio="xMidYMid"\n                    focusable="false"\n                    aria-labelledby="'+playVideoString+'"\n                    role="img"\n                    class="lg-video-play-icon"\n                >\n                    <title>'+playVideoString+'</title>\n                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>\n                </svg>\n                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle></svg>\n                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">\n                    <circle cx="50%" cy="50%" r="20"></circle>\n                </svg>\n            </div>\n            '+(dummyImg||"")+'\n            <img class="lg-object lg-video-poster" src="'+_poster+'" />\n        </div>'},getDynamicOptions:function(items,extraProps,getCaptionFromTitleOrAlt,exThumbImage){var dynamicElements=[],availableDynamicOptions=__spreadArrays(defaultDynamicOptions,extraProps);return[].forEach.call(items,function(item){var dynamicEl={};for(var i=0;i<item.attributes.length;i++){var attr=item.attributes[i];if(attr.specified){var dynamicAttr=convertToData(attr.name),label="";availableDynamicOptions.indexOf(dynamicAttr)>-1&&(label=dynamicAttr),label&&(dynamicEl[label]=attr.value)}}var currentItem=$LG(item),alt=currentItem.find("img").first().attr("alt"),title=currentItem.attr("title"),thumb=exThumbImage&&currentItem.attr(exThumbImage)?currentItem.attr(exThumbImage):currentItem.find("img").first().attr("src");dynamicEl.thumb=thumb,getCaptionFromTitleOrAlt&&!dynamicEl.subHtml&&(dynamicEl.subHtml=title||""),dynamicEl.alt=title||"";var inlineType=currentItem.attr("data-type");dynamicEl.type=inlineType,dynamicElements.push(dynamicEl)}),dynamicElements},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(src,isHTML5VIdeo,index){if(!src){if(isHTML5VIdeo)return{html5:!0};console.warn("lightGallery :- data-src is not provided on slide item "+(index+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var youtube=src.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),vimeo=src.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),wistia=src.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(youtube)return{youtube:youtube};if(vimeo)return{vimeo:vimeo};if(wistia)return{wistia:wistia}}},lgId=0,LightGallery=function(){function LightGallery(element,options){this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0};if(!element)return this;lgId++,this.lgId=lgId,this.el=element,this.LGel=$LG(element),this.generateSettings(options),this.buildModules();if(this.settings.dynamic&&this.settings.dynamicEl!==undefined&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this}return LightGallery.prototype.generateSettings=function(options){this.settings=__assign(__assign({},lightGalleryCoreSettings),options);if(this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():utils.isMobile()){var mobileSettings=__assign(__assign({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=__assign(__assign({},this.settings),mobileSettings)}},LightGallery.prototype.normalizeSettings=function(){this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container||(this.settings.container=document.body),this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},LightGallery.prototype.init=function(){var _this=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(lGEvents.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){_this.enableDrag(),_this.enableSwipe(),_this.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},LightGallery.prototype.openGalleryOnItemClick=function(){var _this=this,_loop_1=function(index){var element=this_1.items[index],$element=$LG(element),uuid=lgQuery.generateUUID();$element.attr("data-lg-id",uuid).on("click.lgcustom-item-"+uuid,function(e){e.preventDefault();var currentItemIndex=_this.settings.index||index;_this.openGallery(currentItemIndex,element)})},this_1=this;for(var index=0;index<this.items.length;index++)_loop_1(index)},LightGallery.prototype.buildModules=function(){var _this=this;this.settings.plugins.forEach(function(plugin){_this.plugins.push(new plugin(_this,$LG))})},LightGallery.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.warn("Please provide a valid license key")},LightGallery.prototype.getSlideItem=function(index){return $LG(this.getSlideItemId(index))},LightGallery.prototype.getSlideItemId=function(index){return"#lg-item-"+this.lgId+"-"+index},LightGallery.prototype.getIdName=function(id){return id+"-"+this.lgId},LightGallery.prototype.getElementById=function(id){return $LG("#"+this.getIdName(id))},LightGallery.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},LightGallery.prototype.buildStructure=function(){var _this=this,container=this.$container&&this.$container.get();if(container)return;var controls="",subHtmlCont="";this.settings.controls&&(controls='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+' </button>\n                <button type="button" id="'+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(subHtmlCont='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var addClasses="";this.settings.allowMediaOverlap&&(addClasses+="lg-media-overlap ");var ariaLabelledby=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",ariaDescribedby=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",containerClassName="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),closeIcon=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",maximizeIcon=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",template='\n        <div class="'+containerClassName+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+ariaLabelledby+" "+ariaDescribedby+' role="dialog"\n        >\n            <div id="'+this.getIdName("lg-backdrop")+'" class="lg-backdrop"></div>\n\n            <div id="'+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+addClasses+' ">\n\n              <div id="'+this.getIdName("lg-content")+'" class="lg-content">\n                <div id="'+this.getIdName("lg-inner")+'" class="lg-inner">\n                </div>\n                '+controls+'\n              </div>\n                <div id="'+this.getIdName("lg-toolbar")+'" class="lg-toolbar lg-group">\n                    '+maximizeIcon+"\n                    "+closeIcon+"\n                    </div>\n                    "+(this.settings.appendSubHtmlTo===".lg-outer"?subHtmlCont:"")+'\n                <div id="'+this.getIdName("lg-components")+'" class="lg-components">\n                    '+(this.settings.appendSubHtmlTo===".lg-sub-html"?subHtmlCont:"")+"\n                </div>\n            </div>\n        </div>\n        ";$LG(this.settings.container).append(template),document.body!==this.settings.container&&$LG(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var outerClassNames=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(outerClassNames+="lg-grab "),this.outer.addClass(outerClassNames),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),$LG(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){_this.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()},LightGallery.prototype.refreshOnResize=function(){if(this.lgOpened){var currentGalleryItem=this.galleryItems[this.index],__slideVideoInfo=currentGalleryItem.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var _a=this.mediaContainerPosition,top_1=_a.top,bottom=_a.bottom;this.currentImageSize=utils.getSize(this.items[this.index],this.outer,top_1+bottom,__slideVideoInfo&&this.settings.videoMaxSize,this.galleryItems[this.index]),__slideVideoInfo&&this.resizeVideoSlide(this.index,this.currentImageSize);if(this.zoomFromOrigin&&!this.isDummyImageRemoved){var imgStyle=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",imgStyle)}this.LGel.trigger(lGEvents.containerResize)}},LightGallery.prototype.resizeVideoSlide=function(index,imageSize){var lgVideoStyle=this.getVideoContStyle(imageSize),currentSlide=this.getSlideItem(index);currentSlide.find(".lg-video-cont").attr("style",lgVideoStyle)},LightGallery.prototype.updateSlides=function(items,index){this.index>items.length-1&&(this.index=items.length-1),items.length===1&&(this.index=0);if(!items.length){this.closeGallery();return}var currentSrc=this.galleryItems[index].src;this.galleryItems=items,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var _index=0;this.galleryItems.some(function(galleryItem,itemIndex){return galleryItem.src===currentSrc?(_index=itemIndex,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(_index,-1),this.loadContent(_index,!0),this.getSlideItem(_index).addClass("lg-current"),this.index=_index,this.updateCurrentCounter(_index),this.LGel.trigger(lGEvents.updateSlides)},LightGallery.prototype.getItems=function(){this.items=[];if(!this.settings.dynamic){if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var selectWithin=$LG(this.settings.selectWithin);this.items=selectWithin.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return utils.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)}return this.settings.dynamicEl||[]},LightGallery.prototype.openGallery=function(index,element){var _this=this;index===void 0&&(index=this.settings.index);if(this.lgOpened)return;this.lgOpened=!0,this.outer.get().focus(),this.outer.removeClass("lg-hide-items"),this.$container.addClass("lg-show");var itemsToBeInsertedToDom=this.getItemsToBeInsertedToDom(index,index);this.currentItemsInDom=itemsToBeInsertedToDom;var items="";itemsToBeInsertedToDom.forEach(function(item){items+='<div id="'+item+'" class="lg-item"></div>'}),this.$inner.append(items),this.addHtml(index);var transform="";this.mediaContainerPosition=this.getMediaContainerPosition();var _a=this.mediaContainerPosition,top=_a.top,bottom=_a.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(top,bottom);var __slideVideoInfo=this.galleryItems[index].__slideVideoInfo;this.zoomFromOrigin&&element&&(this.currentImageSize=utils.getSize(element,this.outer,top+bottom,__slideVideoInfo&&this.settings.videoMaxSize,this.galleryItems[this.index]),transform=utils.getTransform(element,this.outer,top,bottom,this.currentImageSize));if(!this.zoomFromOrigin||!transform)this.outer.addClass(this.settings.startClass),this.getSlideItem(index).removeClass("lg-complete");var timeout=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){_this.outer.addClass("lg-components-open")},timeout),this.index=index,this.LGel.trigger(lGEvents.beforeOpen,{galleryItems:this.galleryItems,items:this.items,outer:this.outer}),this.getSlideItem(index).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=$LG(window).scrollTop(),setTimeout(function(){if(_this.zoomFromOrigin&&transform){var currentSlide_1=_this.getSlideItem(index);currentSlide_1.css("transform",transform),setTimeout(function(){currentSlide_1.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",_this.settings.startAnimationDuration+"ms"),_this.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){currentSlide_1.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){_this.$backdrop.addClass("in"),_this.$container.addClass("lg-show-in")},10),(!_this.zoomFromOrigin||!transform)&&setTimeout(function(){_this.outer.addClass("lg-visible")},_this.settings.backdropDuration),_this.slide(index,!1,!1,!1),_this.LGel.trigger(lGEvents.afterOpen)}),document.body===this.settings.container&&$LG("html").addClass("lg-on")},LightGallery.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var top=this.$toolbar.get().clientHeight||0,subHtml=this.outer.find(".lg-components .lg-sub-html").get(),captionHeight=this.settings.defaultCaptionHeight||subHtml&&subHtml.clientHeight||0,thumbContainer=this.outer.find(".lg-thumb-outer").get(),thumbHeight=thumbContainer?thumbContainer.clientHeight:0,bottom=thumbHeight+captionHeight;return bottom=bottom<55?55:bottom,{top:top,bottom:bottom}},LightGallery.prototype.setMediaContainerPosition=function(top,bottom){top===void 0&&(top=0),bottom===void 0&&(bottom=0),this.$content.css("top",top+"px").css("bottom",bottom+"px")},LightGallery.prototype.hideBars=function(){var _this=this;setTimeout(function(){_this.outer.removeClass("lg-hide-items"),_this.settings.hideBarsDelay>0&&(_this.outer.on("mousemove.lg click.lg touchstart.lg",function(){_this.outer.removeClass("lg-hide-items"),clearTimeout(_this.hideBarTimeout),_this.hideBarTimeout=setTimeout(function(){_this.outer.addClass("lg-hide-items")},_this.settings.hideBarsDelay)}),_this.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},LightGallery.prototype.initPictureFill=function($img){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[$img.get()]})}catch(e){console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},LightGallery.prototype.counter=function(){if(this.settings.counter){var counterHtml='<div class="lg-counter" role="status" aria-live="polite">\n                <span id="'+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+' </span> /\n                <span id="'+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(counterHtml)}},LightGallery.prototype.addHtml=function(index){var subHtml,subHtmlUrl;this.galleryItems[index].subHtmlUrl?subHtmlUrl=this.galleryItems[index].subHtmlUrl:subHtml=this.galleryItems[index].subHtml;if(!subHtmlUrl)if(subHtml){var fL=subHtml.substring(0,1);if(fL==="."||fL==="#")this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?subHtml=$LG(this.items).eq(index).find(subHtml).first().html():subHtml=$LG(subHtml).first().html()}else subHtml="";if(this.settings.appendSubHtmlTo!==".lg-item")subHtmlUrl?this.outer.find(".lg-sub-html").load(subHtmlUrl):this.outer.find(".lg-sub-html").html(subHtml);else{var currentSlide=$LG(this.getSlideItemId(index));subHtmlUrl?currentSlide.load(subHtmlUrl):currentSlide.append('<div class="lg-sub-html">'+subHtml+"</div>")}typeof subHtml!="undefined"&&subHtml!==null&&(subHtml===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(lGEvents.afterAppendSubHtml,{index:index})},LightGallery.prototype.preload=function(index){for(var i=1;i<=this.settings.preload;i++){if(i>=this.galleryItems.length-index)break;this.loadContent(index+i,!1)}for(var j=1;j<=this.settings.preload;j++){if(index-j<0)break;this.loadContent(index-j,!1)}},LightGallery.prototype.getDummyImgStyles=function(imageSize){return imageSize?"width:"+imageSize.width+"px;\n                margin-left: -"+imageSize.width/2+"px;\n                margin-top: -"+imageSize.height/2+"px;\n                height:"+imageSize.height+"px":""},LightGallery.prototype.getVideoContStyle=function(imageSize){return imageSize?"width:"+imageSize.width+"px;\n                height:"+imageSize.height+"px":""},LightGallery.prototype.getDummyImageContent=function($currentSlide,index,alt){var $currentItem;this.settings.dynamic||($currentItem=$LG(this.items).eq(index));if($currentItem){var _dummyImgSrc=void 0;this.settings.exThumbImage?_dummyImgSrc=$currentItem.attr(this.settings.exThumbImage):_dummyImgSrc=$currentItem.find("img").first().attr("src");if(!_dummyImgSrc)return"";var imgStyle=this.getDummyImgStyles(this.currentImageSize),dummyImgContent="<img "+alt+' style="'+imgStyle+'" class="lg-dummy-img" src="'+_dummyImgSrc+'" />';return $currentSlide.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),dummyImgContent}return""},LightGallery.prototype.setImgMarkup=function(src,$currentSlide,index){var currentGalleryItem=this.galleryItems[index],alt=currentGalleryItem.alt,srcset=currentGalleryItem.srcset,sizes=currentGalleryItem.sizes,sources=currentGalleryItem.sources,imgContent="",altAttr=alt?'alt="'+alt+'"':"";this.isFirstSlideWithZoomAnimation()?imgContent=this.getDummyImageContent($currentSlide,index,altAttr):imgContent=utils.getImgMarkup(index,src,altAttr,srcset,sizes,sources);var imgMarkup='<picture class="lg-img-wrap"> '+imgContent+"</picture>";$currentSlide.prepend(imgMarkup)},LightGallery.prototype.onSlideObjectLoad=function($slide,isHTML5VideoWithoutPoster,onLoad,onError){var mediaObject=$slide.find(".lg-object").first();utils.isImageLoaded(mediaObject.get())||isHTML5VideoWithoutPoster?onLoad():(mediaObject.on("load.lg error.lg",function(){onLoad&&onLoad()}),mediaObject.on("error.lg",function(){onError&&onError()}))},LightGallery.prototype.onLgObjectLoad=function(currentSlide,index,delay,speed,isFirstSlide,isHTML5VideoWithoutPoster){var _this=this,$item=_this.galleryItems[index],type=$item.type;if(typeof $item.src!="undefined"){var inline_id=$item.src.replace("#",""),$inline=document.getElementById(inline_id),inline_html;type==="inline"&&inline_id!=null&&typeof $inline!="undefined"?inline_html=$inline.innerHTML:inline_html=""}this.onSlideObjectLoad(currentSlide,isHTML5VideoWithoutPoster,function(){_this.triggerSlideItemLoad(currentSlide,index,delay,speed,isFirstSlide)},function(){currentSlide.addClass("lg-complete lg-complete_"),inline_html!==""?currentSlide.html(inline_html):currentSlide.html('<span class="lg-error-msg">Oops... Failed to load content...</span>')})},LightGallery.prototype.triggerSlideItemLoad=function($currentSlide,index,delay,speed,isFirstSlide){var _this=this,currentGalleryItem=this.galleryItems[index],_speed=isFirstSlide&&this.getSlideType(currentGalleryItem)==="video"&&!currentGalleryItem.poster?speed:0;setTimeout(function(){$currentSlide.addClass("lg-complete lg-complete_"),_this.LGel.trigger(lGEvents.slideItemLoad,{index:index,delay:delay||0,isFirstSlide:isFirstSlide})},_speed)},LightGallery.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},LightGallery.prototype.addSlideVideoInfo=function(items){var _this=this;items.forEach(function(element,index){element.__slideVideoInfo=utils.isVideo(element.src,!!element.video,index),element.__slideVideoInfo&&_this.settings.loadYouTubePoster&&!element.poster&&element.__slideVideoInfo.youtube&&(element.poster="//img.youtube.com/vi/"+element.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},LightGallery.prototype.loadContent=function(index,rec){var _this=this,currentGalleryItem=this.galleryItems[index],$currentSlide=$LG(this.getSlideItemId(index)),poster=currentGalleryItem.poster,srcset=currentGalleryItem.srcset,sizes=currentGalleryItem.sizes,sources=currentGalleryItem.sources,src=currentGalleryItem.src,video=currentGalleryItem.video,_html5Video=video&&typeof video=="string"?JSON.parse(video):video;if(currentGalleryItem.responsive){var srcDyItms=currentGalleryItem.responsive.split(",");src=utils.getResponsiveSrc(srcDyItms)||src}var videoInfo=currentGalleryItem.__slideVideoInfo,lgVideoStyle="",iframe=!!currentGalleryItem.iframe,isFirstSlide=!this.lGalleryOn,delay=0;isFirstSlide&&(this.zoomFromOrigin&&this.currentImageSize?delay=this.settings.startAnimationDuration+10:delay=this.settings.backdropDuration+10);if(!$currentSlide.hasClass("lg-loaded")){if(videoInfo){var _a=this.mediaContainerPosition,top_2=_a.top,bottom=_a.bottom,videoSize=utils.getSize(this.items[index],this.outer,top_2+bottom,videoInfo&&this.settings.videoMaxSize,this.galleryItems[this.index]);lgVideoStyle=this.getVideoContStyle(videoSize)}if(iframe){var markup=utils.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,src,currentGalleryItem.iframeTitle);$currentSlide.prepend(markup)}else if(poster){var dummyImg="",hasStartAnimation=isFirstSlide&&this.zoomFromOrigin&&this.currentImageSize;hasStartAnimation&&(dummyImg=this.getDummyImageContent($currentSlide,index,""));var markup=utils.getVideoPosterMarkup(poster,dummyImg||"",lgVideoStyle,this.settings.strings.playVideo,videoInfo);$currentSlide.prepend(markup)}else if(videoInfo||this.getSlideType(currentGalleryItem)==="audio"){if(!_html5Video)var markup='<div class="lg-video-cont " style="'+lgVideoStyle+'"></div>';$currentSlide.prepend(markup)}else{this.setImgMarkup(src,$currentSlide,index);if(srcset||sources){var $img=$currentSlide.find(".lg-object");this.initPictureFill($img)}}(poster||videoInfo)&&this.LGel.trigger(lGEvents.hasVideo,{index:index,src:src,html5Video:_html5Video,hasPoster:!!poster}),this.LGel.trigger(lGEvents.afterAppendSlide,{index:index}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(index)}var _speed=0;delay&&!$LG(document.body).hasClass("lg-from-hash")&&(_speed=delay),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){$currentSlide.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),$currentSlide.hasClass("lg-loaded")||setTimeout(function(){if(_this.getSlideType(currentGalleryItem)==="image"){$currentSlide.find(".lg-img-wrap").append(utils.getImgMarkup(index,src,"",srcset,sizes,currentGalleryItem.sources));if(srcset||sources){var $img=$currentSlide.find(".lg-object");_this.initPictureFill($img)}}if(_this.getSlideType(currentGalleryItem)==="image"||_this.getSlideType(currentGalleryItem)==="video"&&poster)_this.onLgObjectLoad($currentSlide,index,delay,_speed,!0,!1),_this.onSlideObjectLoad($currentSlide,!!(videoInfo&&videoInfo.html5&&!poster),function(){_this.loadContentOnFirstSlideLoad(index,$currentSlide,_speed)},function(){_this.loadContentOnFirstSlideLoad(index,$currentSlide,_speed)})},this.settings.startAnimationDuration+100)),$currentSlide.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(currentGalleryItem)==="video"&&!poster)&&this.onLgObjectLoad($currentSlide,index,delay,_speed,isFirstSlide,!!(videoInfo&&videoInfo.html5&&!poster||this.getSlideType(currentGalleryItem)==="audio")),(!this.zoomFromOrigin||!this.currentImageSize)&&$currentSlide.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){$currentSlide.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,rec===!0&&($currentSlide.hasClass("lg-complete_")?this.preload(index):$currentSlide.find(".lg-object").first().on("load.lg error.lg",function(){_this.preload(index)}))},LightGallery.prototype.loadContentOnFirstSlideLoad=function(index,$currentSlide,speed){var _this=this;setTimeout(function(){$currentSlide.find(".lg-dummy-img").remove(),$currentSlide.removeClass("lg-first-slide"),_this.outer.removeClass("lg-first-slide-loading"),_this.isDummyImageRemoved=!0,_this.preload(index)},speed+300)},LightGallery.prototype.getItemsToBeInsertedToDom=function(index,prevIndex,numberOfItems){var _this=this;numberOfItems===void 0&&(numberOfItems=0);var itemsToBeInsertedToDom=[],possibleNumberOfItems=Math.max(numberOfItems,3);possibleNumberOfItems=Math.min(possibleNumberOfItems,this.galleryItems.length);var prevIndexItem="lg-item-"+this.lgId+"-"+prevIndex;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(_element,index){itemsToBeInsertedToDom.push("lg-item-"+_this.lgId+"-"+index)}),itemsToBeInsertedToDom;if(index<(this.galleryItems.length-1)/2){for(var idx=index;idx>index-possibleNumberOfItems/2&&idx>=0;idx--)itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+idx);var numberOfExistingItems=itemsToBeInsertedToDom.length;for(var idx=0;idx<possibleNumberOfItems-numberOfExistingItems;idx++)itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+(index+idx+1))}else{for(var idx=index;idx<=this.galleryItems.length-1&&idx<index+possibleNumberOfItems/2;idx++)itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+idx);var numberOfExistingItems=itemsToBeInsertedToDom.length;for(var idx=0;idx<possibleNumberOfItems-numberOfExistingItems;idx++)itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+(index-idx-1))}return this.settings.loop&&(index===this.galleryItems.length-1?itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+0):index===0&&itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),itemsToBeInsertedToDom.indexOf(prevIndexItem)===-1&&itemsToBeInsertedToDom.push("lg-item-"+this.lgId+"-"+prevIndex),itemsToBeInsertedToDom},LightGallery.prototype.organizeSlideItems=function(index,prevIndex){var _this=this,itemsToBeInsertedToDom=this.getItemsToBeInsertedToDom(index,prevIndex,this.settings.numberOfSlideItemsInDom);return itemsToBeInsertedToDom.forEach(function(item){_this.currentItemsInDom.indexOf(item)===-1&&_this.$inner.append('<div id="'+item+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(item){itemsToBeInsertedToDom.indexOf(item)===-1&&$LG("#"+item).remove()}),itemsToBeInsertedToDom},LightGallery.prototype.getPreviousSlideIndex=function(){var prevIndex=0;try{var currentItemId=this.outer.find(".lg-current").first().attr("id");prevIndex=parseInt(currentItemId.split("-")[3])||0}catch(error){prevIndex=0}return prevIndex},LightGallery.prototype.setDownloadValue=function(index){if(this.settings.download){var currentGalleryItem=this.galleryItems[index],hideDownloadBtn=currentGalleryItem.downloadUrl===!1||currentGalleryItem.downloadUrl==="false";if(hideDownloadBtn)this.outer.addClass("lg-hide-download");else{var $download=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),$download.attr("href",currentGalleryItem.downloadUrl||currentGalleryItem.src);if(currentGalleryItem.download){var download_url=currentGalleryItem.downloadUrl||currentGalleryItem.src,download_name=download_url.substring(download_url.lastIndexOf("/")+1);$download.attr("download",download_name)}}}},LightGallery.prototype.makeSlideAnimation=function(direction,currentSlideItem,previousSlideItem){var _this=this;this.lGalleryOn&&previousSlideItem.addClass("lg-slide-progress"),setTimeout(function(){_this.outer.addClass("lg-no-trans"),_this.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),direction==="prev"?(currentSlideItem.addClass("lg-prev-slide"),previousSlideItem.addClass("lg-next-slide")):(currentSlideItem.addClass("lg-next-slide"),previousSlideItem.addClass("lg-prev-slide")),setTimeout(function(){_this.outer.find(".lg-item").removeClass("lg-current"),currentSlideItem.addClass("lg-current"),_this.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},LightGallery.prototype.slide=function(index,fromTouch,fromThumb,direction){var _this=this,prevIndex=this.getPreviousSlideIndex();this.currentItemsInDom=this.organizeSlideItems(index,prevIndex);if(this.lGalleryOn&&prevIndex===index)return;var numberOfGalleryItems=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(index);var currentSlideItem=this.getSlideItem(index),previousSlideItem_1=this.getSlideItem(prevIndex),currentGalleryItem=this.galleryItems[index],videoInfo=currentGalleryItem.__slideVideoInfo;this.outer.attr("data-lg-slide-type",this.getSlideType(currentGalleryItem)),this.setDownloadValue(index);if(videoInfo){var _a=this.mediaContainerPosition,top_3=_a.top,bottom=_a.bottom,videoSize=utils.getSize(this.items[index],this.outer,top_3+bottom,videoInfo&&this.settings.videoMaxSize,this.galleryItems[this.index]);this.resizeVideoSlide(index,videoSize)}this.LGel.trigger(lGEvents.beforeSlide,{prevIndex:prevIndex,index:index,fromTouch:!!fromTouch,fromThumb:!!fromThumb,currentSlide:currentSlideItem,previousSlide:previousSlideItem_1,info:currentGalleryItem,item:this.items[index]}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(index),direction||(index<prevIndex?direction="prev":index>prevIndex&&(direction="next"));if(!fromTouch)this.makeSlideAnimation(direction,currentSlideItem,previousSlideItem_1);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var touchPrev=void 0,touchNext=void 0;numberOfGalleryItems>2?(touchPrev=index-1,touchNext=index+1,index===0&&prevIndex===numberOfGalleryItems-1?(touchNext=0,touchPrev=numberOfGalleryItems-1):index===numberOfGalleryItems-1&&prevIndex===0&&(touchNext=0,touchPrev=numberOfGalleryItems-1)):(touchPrev=0,touchNext=1),direction==="prev"?this.getSlideItem(touchNext).addClass("lg-next-slide"):this.getSlideItem(touchPrev).addClass("lg-prev-slide"),currentSlideItem.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){_this.loadContent(index,!0),_this.settings.appendSubHtmlTo!==".lg-item"&&_this.addHtml(index)},this.settings.speed+50+(fromTouch?0:this.settings.slideDelay)):this.loadContent(index,!0),setTimeout(function(){_this.lgBusy=!1,previousSlideItem_1.removeClass("lg-slide-progress"),_this.LGel.trigger(lGEvents.afterSlide,{prevIndex:prevIndex,index:index,fromTouch:fromTouch,fromThumb:fromThumb})},(this.lGalleryOn?this.settings.speed+100:100)+(fromTouch?0:this.settings.slideDelay))}this.index=index},LightGallery.prototype.updateCurrentCounter=function(index){this.getElementById("lg-counter-current").html(index+1+"")},LightGallery.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},LightGallery.prototype.getSlideType=function(item){return item.__slideVideoInfo?"video":item.iframe?"iframe":typeof item.src!=""&&item.src.search(/.mp3|.m4a/i)>-1?"audio":"image"},LightGallery.prototype.touchMove=function(startCoords,endCoords,e){var distanceX=endCoords.pageX-startCoords.pageX,distanceY=endCoords.pageY-startCoords.pageY,allowSwipe=!1;this.swipeDirection?allowSwipe=!0:Math.abs(distanceX)>15?(this.swipeDirection="horizontal",allowSwipe=!0):Math.abs(distanceY)>15&&(this.swipeDirection="vertical",allowSwipe=!0);if(!allowSwipe)return;var $currentSlide=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){e===null||e===void 0?void 0:e.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate($currentSlide,distanceX,0);var width=$currentSlide.get().offsetWidth,slideWidthAmount=width*15/100,gutter=slideWidthAmount-Math.abs(distanceX*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-width+distanceX-gutter,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),width+distanceX+gutter,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){e===null||e===void 0?void 0:e.preventDefault(),this.$container.addClass("lg-dragging-vertical");var opacity=1-Math.abs(distanceY)/window.innerHeight;this.$backdrop.css("opacity",opacity);var scale=1-Math.abs(distanceY)/(window.innerWidth*2);this.setTranslate($currentSlide,0,distanceY,scale,scale),Math.abs(distanceY)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}},LightGallery.prototype.touchEnd=function(endCoords,startCoords,event){var _this=this,distance;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){_this.$container.removeClass("lg-dragging-vertical"),_this.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var triggerClick=!0;if(_this.swipeDirection==="horizontal"){distance=endCoords.pageX-startCoords.pageX;var distanceAbs=Math.abs(endCoords.pageX-startCoords.pageX);distance<0&&distanceAbs>_this.settings.swipeThreshold?(_this.goToNextSlide(!0),triggerClick=!1):distance>0&&distanceAbs>_this.settings.swipeThreshold&&(_this.goToPrevSlide(!0),triggerClick=!1)}else if(_this.swipeDirection==="vertical"){distance=Math.abs(endCoords.pageY-startCoords.pageY);if(_this.settings.closable&&_this.settings.swipeToClose&&distance>100){_this.closeGallery();return}_this.$backdrop.css("opacity",1)}_this.outer.find(".lg-item").removeAttr("style");if(triggerClick&&Math.abs(endCoords.pageX-startCoords.pageX)<5){var target=$LG(event.target);_this.isPosterElement(target)&&_this.LGel.trigger(lGEvents.posterClick)}_this.swipeDirection=undefined}),setTimeout(function(){!_this.outer.hasClass("lg-dragging")&&_this.settings.mode!=="lg-slide"&&_this.outer.removeClass("lg-slide")},this.settings.speed+100)},LightGallery.prototype.enableSwipe=function(){var _this=this,startCoords={},endCoords={},isMoved=!1,isSwiping=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(e){_this.dragOrSwipeEnabled=!0;var $item=_this.getSlideItem(_this.index);($LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))&&!_this.outer.hasClass("lg-zoomed")&&!_this.lgBusy&&e.targetTouches.length===1&&(isSwiping=!0,_this.touchAction="swipe",_this.manageSwipeClass(),startCoords={pageX:e.targetTouches[0].pageX,pageY:e.targetTouches[0].pageY})}),this.$inner.on("touchmove.lg",function(e){isSwiping&&_this.touchAction==="swipe"&&e.targetTouches.length===1&&(endCoords={pageX:e.targetTouches[0].pageX,pageY:e.targetTouches[0].pageY},_this.touchMove(startCoords,endCoords,e),isMoved=!0)}),this.$inner.on("touchend.lg",function(event){if(_this.touchAction==="swipe"){if(isMoved)isMoved=!1,_this.touchEnd(endCoords,startCoords,event);else if(isSwiping){var target=$LG(event.target);_this.isPosterElement(target)&&_this.LGel.trigger(lGEvents.posterClick)}_this.touchAction=undefined,isSwiping=!1}}))},LightGallery.prototype.enableDrag=function(){var _this=this,startCoords={},endCoords={},isDraging=!1,isMoved=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(e){_this.dragOrSwipeEnabled=!0;var $item=_this.getSlideItem(_this.index);($LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))&&!_this.outer.hasClass("lg-zoomed")&&!_this.lgBusy&&(e.preventDefault(),_this.lgBusy||(_this.manageSwipeClass(),startCoords={pageX:e.pageX,pageY:e.pageY},isDraging=!0,_this.outer.get().scrollLeft+=1,_this.outer.get().scrollLeft-=1,_this.outer.removeClass("lg-grab").addClass("lg-grabbing"),_this.LGel.trigger(lGEvents.dragStart)))}),$LG(window).on("mousemove.lg.global"+this.lgId,function(e){isDraging&&_this.lgOpened&&(isMoved=!0,endCoords={pageX:e.pageX,pageY:e.pageY},_this.touchMove(startCoords,endCoords),_this.LGel.trigger(lGEvents.dragMove))}),$LG(window).on("mouseup.lg.global"+this.lgId,function(event){if(!_this.lgOpened)return;var target=$LG(event.target);isMoved?(isMoved=!1,_this.touchEnd(endCoords,startCoords,event),_this.LGel.trigger(lGEvents.dragEnd)):_this.isPosterElement(target)&&_this.LGel.trigger(lGEvents.posterClick),isDraging&&(isDraging=!1,_this.outer.removeClass("lg-grabbing").addClass("lg-grab"))}))},LightGallery.prototype.triggerPosterClick=function(){var _this=this;this.$inner.on("click.lg",function(event){!_this.dragOrSwipeEnabled&&_this.isPosterElement($LG(event.target))&&_this.LGel.trigger(lGEvents.posterClick)})},LightGallery.prototype.manageSwipeClass=function(){var _touchNext=this.index+1,_touchPrev=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?_touchPrev=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(_touchNext=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),_touchPrev>-1&&this.getSlideItem(_touchPrev).addClass("lg-prev-slide"),this.getSlideItem(_touchNext).addClass("lg-next-slide")},LightGallery.prototype.goToNextSlide=function(fromTouch){var _this=this,_loop=this.settings.loop;fromTouch&&this.galleryItems.length<3&&(_loop=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(lGEvents.beforeNextSlide,{index:this.index}),this.slide(this.index,!!fromTouch,!1,"next")):_loop?(this.index=0,this.LGel.trigger(lGEvents.beforeNextSlide,{index:this.index}),this.slide(this.index,!!fromTouch,!1,"next")):this.settings.slideEndAnimation&&!fromTouch&&(this.outer.addClass("lg-right-end"),setTimeout(function(){_this.outer.removeClass("lg-right-end")},400)))},LightGallery.prototype.goToPrevSlide=function(fromTouch){var _this=this,_loop=this.settings.loop;fromTouch&&this.galleryItems.length<3&&(_loop=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(lGEvents.beforePrevSlide,{index:this.index,fromTouch:fromTouch}),this.slide(this.index,!!fromTouch,!1,"prev")):_loop?(this.index=this.galleryItems.length-1,this.LGel.trigger(lGEvents.beforePrevSlide,{index:this.index,fromTouch:fromTouch}),this.slide(this.index,!!fromTouch,!1,"prev")):this.settings.slideEndAnimation&&!fromTouch&&(this.outer.addClass("lg-left-end"),setTimeout(function(){_this.outer.removeClass("lg-left-end")},400)))},LightGallery.prototype.keyPress=function(){var _this=this;$LG(window).on("keydown.lg.global"+this.lgId,function(e){_this.lgOpened&&_this.settings.escKey===!0&&e.keyCode===27&&(e.preventDefault(),_this.settings.allowMediaOverlap&&_this.outer.hasClass("lg-can-toggle")&&_this.outer.hasClass("lg-components-open")?_this.outer.removeClass("lg-components-open"):_this.closeGallery()),_this.lgOpened&&_this.galleryItems.length>1&&(e.keyCode===37&&(e.preventDefault(),_this.goToPrevSlide()),e.keyCode===39&&(e.preventDefault(),_this.goToNextSlide()))})},LightGallery.prototype.arrow=function(){var _this=this;this.getElementById("lg-prev").on("click.lg",function(){_this.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){_this.goToNextSlide()})},LightGallery.prototype.arrowDisable=function(index){if(!this.settings.loop&&this.settings.hideControlOnEnd){var $prev=this.getElementById("lg-prev"),$next=this.getElementById("lg-next");index+1===this.galleryItems.length?$next.attr("disabled","disabled").addClass("disabled"):$next.removeAttr("disabled").removeClass("disabled"),index===0?$prev.attr("disabled","disabled").addClass("disabled"):$prev.removeAttr("disabled").removeClass("disabled")}},LightGallery.prototype.setTranslate=function($el,xValue,yValue,scaleX,scaleY){scaleX===void 0&&(scaleX=1),scaleY===void 0&&(scaleY=1),$el.css("transform","translate3d("+xValue+"px, "+yValue+"px, 0px) scale3d("+scaleX+", "+scaleY+", 1)")},LightGallery.prototype.mousewheel=function(){var _this=this,lastCall=0;this.outer.on("wheel.lg",function(e){if(!e.deltaY||_this.galleryItems.length<2)return;e.preventDefault();var now=(new Date).getTime();if(now-lastCall<1e3)return;lastCall=now,e.deltaY>0?_this.goToNextSlide():e.deltaY<0&&_this.goToPrevSlide()})},LightGallery.prototype.isSlideElement=function(target){return target.hasClass("lg-outer")||target.hasClass("lg-item")||target.hasClass("lg-img-wrap")},LightGallery.prototype.isPosterElement=function(target){var playButton=this.getSlideItem(this.index).find(".lg-video-play-button").get();return target.hasClass("lg-video-poster")||target.hasClass("lg-video-play-button")||playButton&&playButton.contains(target.get())},LightGallery.prototype.toggleMaximize=function(){var _this=this;this.getElementById("lg-maximize").on("click.lg",function(){_this.$container.toggleClass("lg-inline"),_this.refreshOnResize()})},LightGallery.prototype.invalidateItems=function(){for(var index=0;index<this.items.length;index++){var element=this.items[index],$element=$LG(element);$element.off("click.lgcustom-item-"+$element.attr("data-lg-id"))}},LightGallery.prototype.manageCloseGallery=function(){var _this=this;if(!this.settings.closable)return;var mousedown=!1;this.getElementById("lg-close").on("click.lg",function(){_this.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(e){var target=$LG(e.target);_this.isSlideElement(target)?mousedown=!0:mousedown=!1}),this.outer.on("mousemove.lg",function(){mousedown=!1}),this.outer.on("mouseup.lg",function(e){var target=$LG(e.target);_this.isSlideElement(target)&&mousedown&&(_this.outer.hasClass("lg-dragging")||_this.closeGallery())}))},LightGallery.prototype.closeGallery=function(force){var _this=this;if(!this.lgOpened||!this.settings.closable&&!force)return 0;this.LGel.trigger(lGEvents.beforeClose),$LG(window).scrollTop(this.prevScrollTop);var currentItem=this.items[this.index],transform;if(this.zoomFromOrigin&&currentItem){var _a=this.mediaContainerPosition,top_4=_a.top,bottom=_a.bottom,_b=this.galleryItems[this.index],__slideVideoInfo=_b.__slideVideoInfo,poster=_b.poster,imageSize=utils.getSize(currentItem,this.outer,top_4+bottom,__slideVideoInfo&&poster&&this.settings.videoMaxSize,this.galleryItems[this.index]);transform=utils.getTransform(currentItem,this.outer,top_4,bottom,imageSize)}this.zoomFromOrigin&&transform?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",transform)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,$LG("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var removeTimeout=this.zoomFromOrigin&&transform?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){_this.zoomFromOrigin&&transform&&_this.outer.removeClass("lg-zoom-from-image"),_this.$container.removeClass("lg-show"),_this.$backdrop.removeAttr("style").css("transition-duration",_this.settings.backdropDuration+"ms"),_this.outer.removeClass("lg-closing "+_this.settings.startClass),_this.getSlideItem(_this.index).removeClass("lg-start-end-progress"),_this.$inner.empty(),_this.lgOpened&&_this.LGel.trigger(lGEvents.afterClose,{instance:_this}),_this.outer.get()&&_this.outer.get().blur(),_this.lgOpened=!1},removeTimeout+100),removeTimeout+100},LightGallery.prototype.initModules=function(){this.plugins.forEach(function(module){try{module.init()}catch(err){console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},LightGallery.prototype.destroyModules=function(destroy){this.plugins.forEach(function(module){try{destroy?module.destroy():module.closeGallery&&module.closeGallery()}catch(err){console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},LightGallery.prototype.refresh=function(galleryItems){this.settings.dynamic||this.invalidateItems(),galleryItems?this.galleryItems=galleryItems:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(lGEvents.updateSlides)},LightGallery.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},LightGallery.prototype.destroy=function(){var _this=this,closeTimeout=this.closeGallery(!0);return setTimeout(function(){_this.destroyModules(!0),_this.settings.dynamic||_this.invalidateItems(),$LG(window).off(".lg.global"+_this.lgId),_this.LGel.off(".lg"),_this.$container.remove()},closeTimeout),closeTimeout},LightGallery}();return lightGallery}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgZoom=factory())}(this,function(){"use strict";var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},zoomSettings={scale:1,zoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Zoom=function(){function Zoom(instance,$LG){return this.core=instance,this.$LG=$LG,this.settings=__assign(__assign({},zoomSettings),this.core.settings),this}return Zoom.prototype.buildTemplates=function(){var zoomIcons=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(zoomIcons+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(zoomIcons)},Zoom.prototype.enableZoom=function(event){var _this=this,_speed=this.settings.enableZoomAfter+event.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&event.detail.delay?_speed=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){if(!_this.isImageSlide())return;_this.core.getSlideItem(event.detail.index).addClass("lg-zoomable"),event.detail.index===_this.core.index&&_this.setZoomEssentials()},_speed+30)},Zoom.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(lGEvents.slideItemLoad+".zoom",this.enableZoom.bind(this))},Zoom.prototype.getModifier=function(rotateValue,axis,el){var originalRotate=rotateValue;rotateValue=Math.abs(rotateValue);var transformValues=this.getCurrentTransform(el);if(!transformValues)return 1;var modifier=1;if(axis==="X"){var flipHorizontalValue=Math.sign(parseFloat(transformValues[0]));rotateValue===0||rotateValue===180?modifier=1:rotateValue===90&&(originalRotate===-90&&flipHorizontalValue===1||originalRotate===90&&flipHorizontalValue===-1?modifier=-1:modifier=1),modifier*=flipHorizontalValue}else{var flipVerticalValue=Math.sign(parseFloat(transformValues[3]));if(rotateValue===0||rotateValue===180)modifier=1;else if(rotateValue===90){var sinX=parseFloat(transformValues[1]),sinMinusX=parseFloat(transformValues[2]);modifier=Math.sign(sinX*sinMinusX*originalRotate*flipVerticalValue)}modifier*=flipVerticalValue}return modifier},Zoom.prototype.getImageSize=function($image,rotateValue,axis){var imageSizes={y:"offsetHeight",x:"offsetWidth"};return Math.abs(rotateValue)===90&&(axis==="x"?axis="y":axis="x"),$image[imageSizes[axis]]},Zoom.prototype.getDragCords=function(e,rotateValue){return rotateValue===90?{x:e.pageY,y:e.pageX}:{x:e.pageX,y:e.pageY}},Zoom.prototype.getSwipeCords=function(e,rotateValue){var x=e.targetTouches[0].pageX,y=e.targetTouches[0].pageY;return rotateValue===90?{x:y,y:x}:{x:x,y:y}},Zoom.prototype.getDragAllowedAxises=function(rotateValue,scale){scale=scale||this.scale||1;var allowY=this.imageYSize*scale>this.containerRect.height,allowX=this.imageXSize*scale>this.containerRect.width;return rotateValue===90?{allowX:allowY,allowY:allowX}:{allowX:allowX,allowY:allowY}},Zoom.prototype.getCurrentTransform=function(el){if(!el)return;var st=window.getComputedStyle(el,null),tm=st.getPropertyValue("-webkit-transform")||st.getPropertyValue("-moz-transform")||st.getPropertyValue("-ms-transform")||st.getPropertyValue("-o-transform")||st.getPropertyValue("transform")||"none";if(tm!=="none")return tm.split("(")[1].split(")")[0].split(",");return},Zoom.prototype.getCurrentRotation=function(el){if(!el)return 0;var values=this.getCurrentTransform(el);return values?Math.round(Math.atan2(parseFloat(values[1]),parseFloat(values[0]))*(180/Math.PI)):0},Zoom.prototype.setZoomEssentials=function(){var $image=this.core.getSlideItem(this.core.index).find(".lg-image").first(),rotateEl=this.core.getSlideItem(this.core.index).find(".lg-img-rotate").first().get();this.rotateValue=this.getCurrentRotation(rotateEl),this.imageYSize=this.getImageSize($image.get(),this.rotateValue,"y"),this.imageXSize=this.getImageSize($image.get(),this.rotateValue,"x"),this.containerRect=this.core.outer.get().getBoundingClientRect(),this.modifierX=this.getModifier(this.rotateValue,"X",rotateEl),this.modifierY=this.getModifier(this.rotateValue,"Y",rotateEl)},Zoom.prototype.zoomImage=function(scale){var offsetX=(this.containerRect.width-this.imageXSize)/2+this.containerRect.left,_a=this.core.mediaContainerPosition,top=_a.top,bottom=_a.bottom,topBottomSpacing=Math.abs(top-bottom)/2,offsetY=(this.containerRect.height-this.imageYSize-topBottomSpacing*this.modifierX)/2+this.scrollTop+this.containerRect.top,originalX,originalY;scale===1&&(this.positionChanged=!1);var dragAllowedAxises=this.getDragAllowedAxises(Math.abs(this.rotateValue),scale),allowY=dragAllowedAxises.allowY,allowX=dragAllowedAxises.allowX;this.positionChanged&&(originalX=this.left/(this.scale-1),originalY=this.top/(this.scale-1),this.pageX=Math.abs(originalX)+offsetX,this.pageY=Math.abs(originalY)+offsetY,this.positionChanged=!1);var possibleSwipeCords=this.getPossibleSwipeDragCords(this.rotateValue,scale),_x=offsetX-this.pageX,_y=offsetY-this.pageY,x=(scale-1)*_x,y=(scale-1)*_y;allowX?this.isBeyondPossibleLeft(x,possibleSwipeCords.minX)?x=possibleSwipeCords.minX:this.isBeyondPossibleRight(x,possibleSwipeCords.maxX)&&(x=possibleSwipeCords.maxX):scale>1&&(x<possibleSwipeCords.minX?x=possibleSwipeCords.minX:x>possibleSwipeCords.maxX&&(x=possibleSwipeCords.maxX)),allowY?this.isBeyondPossibleTop(y,possibleSwipeCords.minY)?y=possibleSwipeCords.minY:this.isBeyondPossibleBottom(y,possibleSwipeCords.maxY)&&(y=possibleSwipeCords.maxY):scale>1&&(y<possibleSwipeCords.minY?y=possibleSwipeCords.minY:y>possibleSwipeCords.maxY&&(y=possibleSwipeCords.maxY)),this.setZoomStyles({x:x,y:y,scale:scale})},Zoom.prototype.setZoomStyles=function(style){var $image=this.core.getSlideItem(this.core.index).find(".lg-image").first(),$dummyImage=this.core.outer.find(".lg-current .lg-dummy-img").first(),$imageWrap=$image.parent();this.scale=style.scale,$image.css("transform","scale3d("+style.scale+", "+style.scale+", 1)"),$dummyImage.css("transform","scale3d("+style.scale+", "+style.scale+", 1)");var transform="translate3d("+style.x+"px, "+style.y+"px, 0)";$imageWrap.css("transform",transform),this.left=style.x,this.top=style.y},Zoom.prototype.setActualSize=function(index,event){var _this=this;if(!this.isImageSlide()||this.core.outer.hasClass("lg-first-slide-loading"))return;var scale=this.getCurrentImageActualSizeScale();this.core.outer.hasClass("lg-zoomed")?this.scale=1:this.scale=this.getScale(scale),this.setPageCords(event),this.beginZoom(this.scale),this.zoomImage(this.scale),setTimeout(function(){_this.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},10)},Zoom.prototype.getNaturalWidth=function(index){var $image=this.core.getSlideItem(index).find(".lg-image").first(),naturalWidth=this.core.galleryItems[index].width;return naturalWidth?parseFloat(naturalWidth):$image.get().naturalWidth},Zoom.prototype.getActualSizeScale=function(naturalWidth,width){var _scale,scale;return naturalWidth>width?(_scale=naturalWidth/width,scale=_scale||2):scale=1,scale},Zoom.prototype.getCurrentImageActualSizeScale=function(){var $image=this.core.getSlideItem(this.core.index).find(".lg-image").first(),width=$image.get().offsetWidth,naturalWidth=this.getNaturalWidth(this.core.index)||width;return this.getActualSizeScale(naturalWidth,width)},Zoom.prototype.getPageCords=function(event){var cords={};if(event)cords.x=event.pageX||event.targetTouches[0].pageX,cords.y=event.pageY||event.targetTouches[0].pageY;else{var containerRect=this.core.outer.get().getBoundingClientRect();cords.x=containerRect.width/2+containerRect.left,cords.y=containerRect.height/2+this.scrollTop+containerRect.top}return cords},Zoom.prototype.setPageCords=function(event){var pageCords=this.getPageCords(event);this.pageX=pageCords.x,this.pageY=pageCords.y},Zoom.prototype.beginZoom=function(scale){this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging");if(scale>1){this.core.outer.addClass("lg-zoomed");var $actualSize=this.core.getElementById("lg-actual-size");$actualSize.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)}else this.resetZoom();return scale>1},Zoom.prototype.getScale=function(scale){var actualSizeScale=this.getCurrentImageActualSizeScale();return scale<1?scale=1:scale>actualSizeScale&&(scale=actualSizeScale),scale},Zoom.prototype.init=function(){var _this=this;if(!this.settings.zoom)return;this.buildTemplates(),this.enableZoomOnSlideItemLoad();var tapped=null;this.core.outer.on("dblclick.lg",function(event){if(!_this.$LG(event.target).hasClass("lg-image"))return;_this.setActualSize(_this.core.index,event)}),this.core.outer.on("touchstart.lg",function(event){var $target=_this.$LG(event.target);event.targetTouches.length===1&&$target.hasClass("lg-image")&&(tapped?(clearTimeout(tapped),tapped=null,event.preventDefault(),_this.setActualSize(_this.core.index,event)):tapped=setTimeout(function(){tapped=null},300))}),this.core.LGel.on(lGEvents.containerResize+".zoom "+lGEvents.rotateRight+".zoom "+lGEvents.rotateLeft+".zoom "+lGEvents.flipHorizontal+".zoom "+lGEvents.flipVertical+".zoom",function(){if(!_this.core.lgOpened||!_this.isImageSlide())return;_this.setPageCords(),_this.setZoomEssentials(),_this.zoomImage(_this.scale)}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){if(!_this.core.lgOpened)return;_this.scrollTop=_this.$LG(window).scrollTop()}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){_this.core.outer.find(".lg-current .lg-image").get()&&(_this.scale-=_this.settings.scale,_this.scale=_this.getScale(_this.scale),_this.beginZoom(_this.scale),_this.zoomImage(_this.scale))}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){_this.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){_this.setActualSize(_this.core.index)}),this.core.LGel.on(lGEvents.beforeOpen+".zoom",function(){_this.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(lGEvents.afterOpen+".zoom",function(){_this.scrollTop=_this.$LG(window).scrollTop(),_this.pageX=_this.core.outer.width()/2,_this.pageY=_this.core.outer.height()/2+_this.scrollTop,_this.scale=1}),this.core.LGel.on(lGEvents.afterSlide+".zoom",function(event){var prevIndex=event.detail.prevIndex;_this.scale=1,_this.positionChanged=!1,_this.resetZoom(prevIndex),_this.isImageSlide()&&_this.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1},Zoom.prototype.zoomIn=function(scale){if(!this.isImageSlide())return;scale?this.scale=scale:this.scale+=this.settings.scale,this.scale=this.getScale(this.scale),this.beginZoom(this.scale),this.zoomImage(this.scale)},Zoom.prototype.resetZoom=function(index){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var $actualSize=this.core.getElementById("lg-actual-size"),$item=this.core.getSlideItem(index!==undefined?index:this.core.index);$actualSize.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),$item.find(".lg-img-wrap").first().removeAttr("style"),$item.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},Zoom.prototype.getTouchDistance=function(e){return Math.sqrt((e.targetTouches[0].pageX-e.targetTouches[1].pageX)*(e.targetTouches[0].pageX-e.targetTouches[1].pageX)+(e.targetTouches[0].pageY-e.targetTouches[1].pageY)*(e.targetTouches[0].pageY-e.targetTouches[1].pageY))},Zoom.prototype.pinchZoom=function(){var _this=this,startDist=0,pinchStarted=!1,initScale=1,$item=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(e){$item=_this.core.getSlideItem(_this.core.index);if(!_this.isImageSlide())return;e.targetTouches.length===2&&!_this.core.outer.hasClass("lg-first-slide-loading")&&(_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))&&(initScale=_this.scale||1,_this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),_this.core.touchAction="pinch",startDist=_this.getTouchDistance(e))}),this.core.$inner.on("touchmove.lg",function(e){if(e.targetTouches.length===2&&_this.core.touchAction==="pinch"&&(_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))){e.preventDefault();var endDist=_this.getTouchDistance(e),distance=startDist-endDist;!pinchStarted&&Math.abs(distance)>5&&(pinchStarted=!0),pinchStarted&&(_this.scale=Math.max(1,initScale+ -distance*.008),_this.zoomImage(_this.scale))}}),this.core.$inner.on("touchend.lg",function(e){_this.core.touchAction==="pinch"&&(_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))&&(pinchStarted=!1,startDist=0,_this.scale<=1?_this.resetZoom():(_this.scale=_this.getScale(_this.scale),_this.zoomImage(_this.scale),_this.core.outer.addClass("lg-zoomed")),_this.core.touchAction=undefined)})},Zoom.prototype.touchendZoom=function(startCoords,endCoords,allowX,allowY,touchDuration,rotateValue){var distanceXnew=endCoords.x-startCoords.x,distanceYnew=endCoords.y-startCoords.y,speedX=Math.abs(distanceXnew)/touchDuration+1,speedY=Math.abs(distanceYnew)/touchDuration+1;speedX>2&&(speedX+=1),speedY>2&&(speedY+=1),distanceXnew*=speedX,distanceYnew*=speedY;var _LGel=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),distance={};distance.x=this.left+distanceXnew*this.modifierX,distance.y=this.top+distanceYnew*this.modifierY;var possibleSwipeCords=this.getPossibleSwipeDragCords(rotateValue);if(Math.abs(distanceXnew)>15||Math.abs(distanceYnew)>15)allowY&&(this.isBeyondPossibleTop(distance.y,possibleSwipeCords.minY)?distance.y=possibleSwipeCords.minY:this.isBeyondPossibleBottom(distance.y,possibleSwipeCords.maxY)&&(distance.y=possibleSwipeCords.maxY)),allowX&&(this.isBeyondPossibleLeft(distance.x,possibleSwipeCords.minX)?distance.x=possibleSwipeCords.minX:this.isBeyondPossibleRight(distance.x,possibleSwipeCords.maxX)&&(distance.x=possibleSwipeCords.maxX)),allowY?this.top=distance.y:distance.y=this.top,allowX?this.left=distance.x:distance.x=this.left,this.setZoomSwipeStyles(_LGel,distance),this.positionChanged=!0},Zoom.prototype.getZoomSwipeCords=function(startCoords,endCoords,allowX,allowY,possibleSwipeCords){var distance={};if(allowY){distance.y=this.top+(endCoords.y-startCoords.y)*this.modifierY;if(this.isBeyondPossibleTop(distance.y,possibleSwipeCords.minY)){var diffMinY=possibleSwipeCords.minY-distance.y;distance.y=possibleSwipeCords.minY-diffMinY/6}else if(this.isBeyondPossibleBottom(distance.y,possibleSwipeCords.maxY)){var diffMaxY=distance.y-possibleSwipeCords.maxY;distance.y=possibleSwipeCords.maxY+diffMaxY/6}}else distance.y=this.top;if(allowX){distance.x=this.left+(endCoords.x-startCoords.x)*this.modifierX;if(this.isBeyondPossibleLeft(distance.x,possibleSwipeCords.minX)){var diffMinX=possibleSwipeCords.minX-distance.x;distance.x=possibleSwipeCords.minX-diffMinX/6}else if(this.isBeyondPossibleRight(distance.x,possibleSwipeCords.maxX)){var difMaxX=distance.x-possibleSwipeCords.maxX;distance.x=possibleSwipeCords.maxX+difMaxX/6}}else distance.x=this.left;return distance},Zoom.prototype.isBeyondPossibleLeft=function(x,minX){return x>=minX},Zoom.prototype.isBeyondPossibleRight=function(x,maxX){return x<=maxX},Zoom.prototype.isBeyondPossibleTop=function(y,minY){return y>=minY},Zoom.prototype.isBeyondPossibleBottom=function(y,maxY){return y<=maxY},Zoom.prototype.isImageSlide=function(){var currentItem=this.core.galleryItems[this.core.index];return this.core.getSlideType(currentItem)==="image"},Zoom.prototype.getPossibleSwipeDragCords=function(rotateValue,scale){var dataScale=scale||this.scale||1,elDataScale=Math.abs(dataScale),_a=this.core.mediaContainerPosition,top=_a.top,bottom=_a.bottom,topBottomSpacing=Math.abs(top-bottom)/2,minY=(this.imageYSize-this.containerRect.height)/2+topBottomSpacing*this.modifierX,maxY=this.containerRect.height-this.imageYSize*elDataScale+minY,minX=(this.imageXSize-this.containerRect.width)/2,maxX=this.containerRect.width-this.imageXSize*elDataScale+minX,possibleSwipeCords={minY:minY,maxY:maxY,minX:minX,maxX:maxX};return Math.abs(rotateValue)===90&&(possibleSwipeCords={minY:minX,maxY:maxX,minX:minY,maxX:maxY}),possibleSwipeCords},Zoom.prototype.setZoomSwipeStyles=function(LGel,distance){LGel.css("transform","translate3d("+distance.x+"px, "+distance.y+"px, 0)")},Zoom.prototype.zoomSwipe=function(){var _this=this,startCoords={},endCoords={},isMoved=!1,allowX=!1,allowY=!1,startTime=new Date,endTime=new Date,possibleSwipeCords,_LGel,$item=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(e){if(!_this.isImageSlide())return;$item=_this.core.getSlideItem(_this.core.index);if((_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))&&e.targetTouches.length===1&&_this.core.outer.hasClass("lg-zoomed")){e.preventDefault(),startTime=new Date,_this.core.touchAction="zoomSwipe",_LGel=_this.core.getSlideItem(_this.core.index).find(".lg-img-wrap").first();var dragAllowedAxises=_this.getDragAllowedAxises(Math.abs(_this.rotateValue));allowY=dragAllowedAxises.allowY,allowX=dragAllowedAxises.allowX;if(allowX||allowY)startCoords=_this.getSwipeCords(e,Math.abs(_this.rotateValue));possibleSwipeCords=_this.getPossibleSwipeDragCords(_this.rotateValue),_this.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(e){if(e.targetTouches.length===1&&_this.core.touchAction==="zoomSwipe"&&(_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))){e.preventDefault(),_this.core.touchAction="zoomSwipe",endCoords=_this.getSwipeCords(e,Math.abs(_this.rotateValue));var distance=_this.getZoomSwipeCords(startCoords,endCoords,allowX,allowY,possibleSwipeCords);if(Math.abs(endCoords.x-startCoords.x)>15||Math.abs(endCoords.y-startCoords.y)>15)isMoved=!0,_this.setZoomSwipeStyles(_LGel,distance)}}),this.core.$inner.on("touchend.lg",function(e){if(_this.core.touchAction==="zoomSwipe"&&(_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target))){_this.core.touchAction=undefined,_this.core.outer.removeClass("lg-zoom-dragging");if(!isMoved)return;isMoved=!1,endTime=new Date;var touchDuration=endTime.valueOf()-startTime.valueOf();_this.touchendZoom(startCoords,endCoords,allowX,allowY,touchDuration,_this.rotateValue)}})},Zoom.prototype.zoomDrag=function(){var _this=this,startCoords={},endCoords={},isDragging=!1,isMoved=!1,allowX=!1,allowY=!1,startTime,endTime,possibleSwipeCords,_LGel;this.core.outer.on("mousedown.lg.zoom",function(e){if(!_this.isImageSlide())return;var $item=_this.core.getSlideItem(_this.core.index);if(_this.$LG(e.target).hasClass("lg-item")||$item.get().contains(e.target)){startTime=new Date,_LGel=_this.core.getSlideItem(_this.core.index).find(".lg-img-wrap").first();var dragAllowedAxises=_this.getDragAllowedAxises(Math.abs(_this.rotateValue));allowY=dragAllowedAxises.allowY,allowX=dragAllowedAxises.allowX,_this.core.outer.hasClass("lg-zoomed")&&_this.$LG(e.target).hasClass("lg-object")&&(allowX||allowY)&&(e.preventDefault(),startCoords=_this.getDragCords(e,Math.abs(_this.rotateValue)),possibleSwipeCords=_this.getPossibleSwipeDragCords(_this.rotateValue),isDragging=!0,_this.core.outer.get().scrollLeft+=1,_this.core.outer.get().scrollLeft-=1,_this.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(e){if(isDragging){isMoved=!0,endCoords=_this.getDragCords(e,Math.abs(_this.rotateValue));var distance=_this.getZoomSwipeCords(startCoords,endCoords,allowX,allowY,possibleSwipeCords);_this.setZoomSwipeStyles(_LGel,distance)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(e){if(isDragging){endTime=new Date,isDragging=!1,_this.core.outer.removeClass("lg-zoom-dragging");if(isMoved&&(startCoords.x!==endCoords.x||startCoords.y!==endCoords.y)){endCoords=_this.getDragCords(e,Math.abs(_this.rotateValue));var touchDuration=endTime.valueOf()-startTime.valueOf();_this.touchendZoom(startCoords,endCoords,allowX,allowY,touchDuration,_this.rotateValue)}isMoved=!1}_this.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},Zoom.prototype.closeGallery=function(){this.resetZoom()},Zoom.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},Zoom}();return Zoom}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgFullscreen=factory())}(this,function(){"use strict";var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},fullscreenSettings={fullScreen:!0,fullscreenPluginStrings:{toggleFullscreen:"Toggle Fullscreen"}},FullScreen=function(){function FullScreen(instance,$LG){return this.core=instance,this.$LG=$LG,this.settings=__assign(__assign({},fullscreenSettings),this.core.settings),this}return FullScreen.prototype.init=function(){var fullScreen="";if(this.settings.fullScreen){if(!document.fullscreenEnabled&&!document.webkitFullscreenEnabled&&!document.mozFullScreenEnabled&&!document.msFullscreenEnabled)return;fullScreen='<button type="button" aria-label="'+this.settings.fullscreenPluginStrings.toggleFullscreen+'" class="lg-fullscreen lg-icon"></button>',this.core.$toolbar.append(fullScreen),this.fullScreen()}},FullScreen.prototype.isFullScreen=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},FullScreen.prototype.requestFullscreen=function(){var el=document.documentElement;el.requestFullscreen?el.requestFullscreen():el.msRequestFullscreen?el.msRequestFullscreen():el.mozRequestFullScreen?el.mozRequestFullScreen():el.webkitRequestFullscreen&&el.webkitRequestFullscreen()},FullScreen.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},FullScreen.prototype.fullScreen=function(){var _this=this;this.$LG(document).on("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId,function(){if(!_this.core.lgOpened)return;_this.core.outer.toggleClass("lg-fullscreen-on")}),this.core.outer.find(".lg-fullscreen").first().on("click.lg",function(){_this.isFullScreen()?_this.exitFullscreen():_this.requestFullscreen()})},FullScreen.prototype.closeGallery=function(){this.isFullScreen()&&this.exitFullscreen()},FullScreen.prototype.destroy=function(){this.$LG(document).off("fullscreenchange.lg.global"+this.core.lgId+" \n            webkitfullscreenchange.lg.global"+this.core.lgId+" \n            mozfullscreenchange.lg.global"+this.core.lgId+" \n            MSFullscreenChange.lg.global"+this.core.lgId)},FullScreen}();return FullScreen}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgHash=factory())}(this,function(){"use strict";var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},hashSettings={hash:!0,galleryId:"1",customSlideName:!1},Hash=function(){function Hash(instance,$LG){return this.core=instance,this.$LG=$LG,this.settings=__assign(__assign({},hashSettings),this.core.settings),this}return Hash.prototype.init=function(){var _this=this;if(!this.settings.hash)return;this.oldHash=window.location.hash,setTimeout(function(){_this.buildFromHash()},100),this.core.LGel.on(lGEvents.afterSlide+".hash",this.onAfterSlide.bind(this)),this.core.LGel.on(lGEvents.afterClose+".hash",this.onCloseAfter.bind(this)),this.$LG(window).on("hashchange.lg.hash.global"+this.core.lgId,this.onHashchange.bind(this))},Hash.prototype.onAfterSlide=function(event){var slideName=this.core.galleryItems[event.detail.index].slideName;slideName=this.settings.customSlideName?slideName||event.detail.index:event.detail.index,history.replaceState?history.replaceState(null,"",window.location.pathname+window.location.search+"#lg="+this.settings.galleryId+"&slide="+slideName):window.location.hash="lg="+this.settings.galleryId+"&slide="+slideName},Hash.prototype.getIndexFromUrl=function(hash){hash===void 0&&(hash=window.location.hash);var slideName=hash.split("&slide=")[1],_idx=0;if(this.settings.customSlideName)for(var index=0;index<this.core.galleryItems.length;index++){var dynamicEl=this.core.galleryItems[index];if(dynamicEl.slideName===slideName){_idx=index;break}}else _idx=parseInt(slideName,10);return isNaN(_idx)?0:_idx},Hash.prototype.buildFromHash=function(){var _hash=window.location.hash;if(_hash.indexOf("lg="+this.settings.galleryId+"&")>0){this.$LG(document.body).addClass("lg-from-hash");var index=this.getIndexFromUrl(_hash);return this.core.openGallery(index),!0}},Hash.prototype.onCloseAfter=function(){this.oldHash&&this.oldHash.indexOf("lg="+this.settings.galleryId)<0?history.replaceState?history.replaceState(null,"",this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash=""},Hash.prototype.onHashchange=function(){if(!this.core.lgOpened)return;var _hash=window.location.hash,index=this.getIndexFromUrl(_hash);_hash.indexOf("lg="+this.settings.galleryId)>-1?this.core.slide(index,!1,!1):this.core.lGalleryOn&&this.core.closeGallery()},Hash.prototype.closeGallery=function(){this.settings.hash&&this.$LG(document.body).removeClass("lg-from-hash")},Hash.prototype.destroy=function(){this.core.LGel.off(".lg.hash"),this.core.LGel.off(".hash"),this.$LG(window).off("hashchange.lg.hash.global"+this.core.lgId)},Hash}();return Hash}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgShare=factory())}(this,function(){"use strict";function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function getFacebookShareLink(galleryItem){var facebookBaseUrl="//www.facebook.com/sharer/sharer.php?u=";return facebookBaseUrl+encodeURIComponent(galleryItem.facebookShareUrl||window.location.href)}function getTwitterShareLink(galleryItem){var twitterBaseUrl="//twitter.com/intent/tweet?text=",url=encodeURIComponent(galleryItem.twitterShareUrl||window.location.href),text=galleryItem.tweetText;return twitterBaseUrl+text+"&url="+url}function getPinterestShareLink(galleryItem){var pinterestBaseUrl="http://www.pinterest.com/pin/create/button/?url=",description=galleryItem.pinterestText,media=encodeURIComponent(galleryItem.src),url=encodeURIComponent(galleryItem.pinterestShareUrl||window.location.href);return pinterestBaseUrl+url+"&media="+media+"&description="+description}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},shareSettings={share:!0,facebook:!0,facebookDropdownText:"Facebook",twitter:!0,twitterDropdownText:"Twitter",pinterest:!0,pinterestDropdownText:"Pinterest",additionalShareOptions:[],sharePluginStrings:{share:"Share"}},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Share=function(){function Share(instance){return this.shareOptions=[],this.core=instance,this.settings=__assign(__assign({},shareSettings),this.core.settings),this}return Share.prototype.init=function(){if(!this.settings.share)return;this.shareOptions=__spreadArrays(this.getDefaultShareOptions(),this.settings.additionalShareOptions),this.setLgShareMarkup(),this.core.outer.find(".lg-share .lg-dropdown").append(this.getShareListHtml()),this.core.LGel.on(lGEvents.afterSlide+".share",this.onAfterSlide.bind(this))},Share.prototype.getShareListHtml=function(){var shareHtml="";return this.shareOptions.forEach(function(shareOption){shareHtml+=shareOption.dropdownHTML}),shareHtml},Share.prototype.setLgShareMarkup=function(){var _this=this;this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.sharePluginStrings.share+'" aria-haspopup="true" aria-expanded="false" class="lg-share lg-icon">\n                <ul class="lg-dropdown" style="position: absolute;"></ul></button>'),this.core.outer.append('<div class="lg-dropdown-overlay"></div>');var $shareButton=this.core.outer.find(".lg-share");$shareButton.first().on("click.lg",function(){_this.core.outer.toggleClass("lg-dropdown-active"),_this.core.outer.hasClass("lg-dropdown-active")?_this.core.outer.attr("aria-expanded",!0):_this.core.outer.attr("aria-expanded",!1)}),this.core.outer.find(".lg-dropdown-overlay").first().on("click.lg",function(){_this.core.outer.removeClass("lg-dropdown-active"),_this.core.outer.attr("aria-expanded",!1)})},Share.prototype.onAfterSlide=function(event){var _this=this,index=event.detail.index,currentItem=this.core.galleryItems[index];setTimeout(function(){_this.shareOptions.forEach(function(shareOption){var selector=shareOption.selector;_this.core.outer.find(selector).attr("href",shareOption.generateLink(currentItem))})},100)},Share.prototype.getShareListItemHTML=function(type,text){return'<li><a class="lg-share-'+type+'" rel="noopener" target="_blank"><span class="lg-icon"></span><span class="lg-dropdown-text">'+text+"</span></a></li>"},Share.prototype.getDefaultShareOptions=function(){return __spreadArrays(this.settings.facebook?[{type:"facebook",generateLink:getFacebookShareLink,dropdownHTML:this.getShareListItemHTML("facebook",this.settings.facebookDropdownText),selector:".lg-share-facebook"}]:[],this.settings.twitter?[{type:"twitter",generateLink:getTwitterShareLink,dropdownHTML:this.getShareListItemHTML("twitter",this.settings.twitterDropdownText),selector:".lg-share-twitter"}]:[],this.settings.pinterest?[{type:"pinterest",generateLink:getPinterestShareLink,dropdownHTML:this.getShareListItemHTML("pinterest",this.settings.pinterestDropdownText),selector:".lg-share-pinterest"}]:[])},Share.prototype.destroy=function(){this.core.outer.find(".lg-dropdown-overlay").remove(),this.core.outer.find(".lg-share").remove(),this.core.LGel.off(".lg.share"),this.core.LGel.off(".share")},Share}();return Share}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgThumbnail=factory())}(this,function(){"use strict";var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},thumbnailsSettings={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",alignThumbnails:"middle",thumbWidth:100,thumbHeight:"80px",thumbMargin:5,appendThumbnailsTo:".lg-components",toggleThumb:!1,enableThumbDrag:!0,enableThumbSwipe:!0,thumbnailSwipeThreshold:10,loadYouTubeThumbnail:!0,youTubeThumbSize:1,thumbnailPluginStrings:{toggleThumbnails:"Toggle thumbnails"}},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},Thumbnail=function(){function Thumbnail(instance,$LG){return this.thumbOuterWidth=0,this.thumbTotalWidth=0,this.translateX=0,this.thumbClickable=!1,this.core=instance,this.$LG=$LG,this}return Thumbnail.prototype.init=function(){this.settings=__assign(__assign({},thumbnailsSettings),this.core.settings),this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.galleryItems.length*(this.settings.thumbWidth+this.settings.thumbMargin),this.translateX=0,this.setAnimateThumbStyles(),this.core.settings.allowMediaOverlap||(this.settings.toggleThumb=!1),this.settings.thumbnail&&(this.build(),this.settings.animateThumb?(this.settings.enableThumbDrag&&this.enableThumbDrag(),this.settings.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggleThumbBar(),this.thumbKeyPress())},Thumbnail.prototype.build=function(){var _this=this;this.setThumbMarkup(),this.manageActiveClassOnSlideChange(),this.$lgThumb.first().on("click.lg touchend.lg",function(e){var $target=_this.$LG(e.target);if(!$target.hasAttribute("data-lg-item-id"))return;setTimeout(function(){if(_this.thumbClickable&&!_this.core.lgBusy){var index=parseInt($target.attr("data-lg-item-id"));_this.core.slide(index,!1,!0,!1)}},50)}),this.core.LGel.on(lGEvents.beforeSlide,function(event){var index=event.detail.index;_this.animateThumb(index)}),this.core.LGel.on(lGEvents.beforeOpen,function(){_this.thumbOuterWidth=_this.core.outer.get().offsetWidth}),this.core.LGel.on(lGEvents.updateSlides,function(){_this.rebuildThumbnails()}),this.core.LGel.on(lGEvents.containerResize,function(){if(!_this.core.lgOpened)return;setTimeout(function(){_this.thumbOuterWidth=_this.core.outer.get().offsetWidth,_this.animateThumb(_this.core.index),_this.thumbOuterWidth=_this.core.outer.get().offsetWidth},50)})},Thumbnail.prototype.setThumbMarkup=function(){var thumbOuterClassNames="lg-thumb-outer ";this.settings.alignThumbnails&&(thumbOuterClassNames+="lg-thumb-align-"+this.settings.alignThumbnails);var html='<div class="'+thumbOuterClassNames+'">\n        <div class="lg-thumb lg-group">\n        </div>\n        </div>';this.core.outer.addClass("lg-has-thumb"),this.settings.appendThumbnailsTo===".lg-components"?this.core.$lgComponents.append(html):this.core.outer.append(html),this.$thumbOuter=this.core.outer.find(".lg-thumb-outer").first(),this.$lgThumb=this.core.outer.find(".lg-thumb").first(),this.settings.animateThumb&&this.core.outer.find(".lg-thumb").css("transition-duration",this.core.settings.speed+"ms").css("width",this.thumbTotalWidth+"px").css("position","relative"),this.setThumbItemHtml(this.core.galleryItems)},Thumbnail.prototype.enableThumbDrag=function(){var _this=this,thumbDragUtils={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0},isDragging=!1;this.$thumbOuter.addClass("lg-grab"),this.core.outer.find(".lg-thumb").first().on("mousedown.lg.thumb",function(e){_this.thumbTotalWidth>_this.thumbOuterWidth&&(e.preventDefault(),thumbDragUtils.cords.startX=e.pageX,thumbDragUtils.startTime=new Date,_this.thumbClickable=!1,isDragging=!0,_this.core.outer.get().scrollLeft+=1,_this.core.outer.get().scrollLeft-=1,_this.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))}),this.$LG(window).on("mousemove.lg.thumb.global"+this.core.lgId,function(e){if(!_this.core.lgOpened)return;isDragging&&(thumbDragUtils.cords.endX=e.pageX,thumbDragUtils=_this.onThumbTouchMove(thumbDragUtils))}),this.$LG(window).on("mouseup.lg.thumb.global"+this.core.lgId,function(){if(!_this.core.lgOpened)return;thumbDragUtils.isMoved?thumbDragUtils=_this.onThumbTouchEnd(thumbDragUtils):_this.thumbClickable=!0,isDragging&&(isDragging=!1,_this.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))})},Thumbnail.prototype.enableThumbSwipe=function(){var _this=this,thumbDragUtils={cords:{startX:0,endX:0},isMoved:!1,newTranslateX:0,startTime:new Date,endTime:new Date,touchMoveTime:0};this.$lgThumb.on("touchstart.lg",function(e){_this.thumbTotalWidth>_this.thumbOuterWidth&&(e.preventDefault(),thumbDragUtils.cords.startX=e.targetTouches[0].pageX,_this.thumbClickable=!1,thumbDragUtils.startTime=new Date)}),this.$lgThumb.on("touchmove.lg",function(e){_this.thumbTotalWidth>_this.thumbOuterWidth&&(e.preventDefault(),thumbDragUtils.cords.endX=e.targetTouches[0].pageX,thumbDragUtils=_this.onThumbTouchMove(thumbDragUtils))}),this.$lgThumb.on("touchend.lg",function(){thumbDragUtils.isMoved?thumbDragUtils=_this.onThumbTouchEnd(thumbDragUtils):_this.thumbClickable=!0})},Thumbnail.prototype.rebuildThumbnails=function(){var _this=this;this.$thumbOuter.addClass("lg-rebuilding-thumbnails"),setTimeout(function(){_this.thumbTotalWidth=_this.core.galleryItems.length*(_this.settings.thumbWidth+_this.settings.thumbMargin),_this.$lgThumb.css("width",_this.thumbTotalWidth+"px"),_this.$lgThumb.empty(),_this.setThumbItemHtml(_this.core.galleryItems),_this.animateThumb(_this.core.index)},50),setTimeout(function(){_this.$thumbOuter.removeClass("lg-rebuilding-thumbnails")},200)},Thumbnail.prototype.setTranslate=function(value){this.$lgThumb.css("transform","translate3d(-"+value+"px, 0px, 0px)")},Thumbnail.prototype.getPossibleTransformX=function(left){return left>this.thumbTotalWidth-this.thumbOuterWidth&&(left=this.thumbTotalWidth-this.thumbOuterWidth),left<0&&(left=0),left},Thumbnail.prototype.animateThumb=function(index){this.$lgThumb.css("transition-duration",this.core.settings.speed+"ms");if(this.settings.animateThumb){var position=0;switch(this.settings.currentPagerPosition){case"left":position=0;break;case"middle":position=this.thumbOuterWidth/2-this.settings.thumbWidth/2;break;case"right":position=this.thumbOuterWidth-this.settings.thumbWidth}this.translateX=(this.settings.thumbWidth+this.settings.thumbMargin)*index-1-position,this.translateX>this.thumbTotalWidth-this.thumbOuterWidth&&(this.translateX=this.thumbTotalWidth-this.thumbOuterWidth),this.translateX<0&&(this.translateX=0),this.setTranslate(this.translateX)}},Thumbnail.prototype.onThumbTouchMove=function(thumbDragUtils){return thumbDragUtils.newTranslateX=this.translateX,thumbDragUtils.isMoved=!0,thumbDragUtils.touchMoveTime=(new Date).valueOf(),thumbDragUtils.newTranslateX-=thumbDragUtils.cords.endX-thumbDragUtils.cords.startX,thumbDragUtils.newTranslateX=this.getPossibleTransformX(thumbDragUtils.newTranslateX),this.setTranslate(thumbDragUtils.newTranslateX),this.$thumbOuter.addClass("lg-dragging"),thumbDragUtils},Thumbnail.prototype.onThumbTouchEnd=function(thumbDragUtils){thumbDragUtils.isMoved=!1,thumbDragUtils.endTime=new Date,this.$thumbOuter.removeClass("lg-dragging");var touchDuration=thumbDragUtils.endTime.valueOf()-thumbDragUtils.startTime.valueOf(),distanceXnew=thumbDragUtils.cords.endX-thumbDragUtils.cords.startX,speedX=Math.abs(distanceXnew)/touchDuration;return speedX>.15&&thumbDragUtils.endTime.valueOf()-thumbDragUtils.touchMoveTime<30?(speedX+=1,speedX>2&&(speedX+=1),speedX+=speedX*(Math.abs(distanceXnew)/this.thumbOuterWidth),this.$lgThumb.css("transition-duration",Math.min(speedX-1,2)+"settings"),distanceXnew*=speedX,this.translateX=this.getPossibleTransformX(this.translateX-distanceXnew),this.setTranslate(this.translateX)):this.translateX=thumbDragUtils.newTranslateX,Math.abs(thumbDragUtils.cords.endX-thumbDragUtils.cords.startX)<this.settings.thumbnailSwipeThreshold&&(this.thumbClickable=!0),thumbDragUtils},Thumbnail.prototype.getThumbHtml=function(thumb,index){var slideVideoInfo=this.core.galleryItems[index].__slideVideoInfo||{},thumbImg;return slideVideoInfo.youtube?this.settings.loadYouTubeThumbnail?thumbImg="//img.youtube.com/vi/"+slideVideoInfo.youtube[1]+"/"+this.settings.youTubeThumbSize+".jpg":thumbImg=thumb:thumbImg=thumb,'<div data-lg-item-id="'+index+'" class="lg-thumb-item '+(index===this.core.index?" active":"")+'" \n        style="width:'+this.settings.thumbWidth+"px; height: "+this.settings.thumbHeight+";\n            margin-right: "+this.settings.thumbMargin+'px;">\n            <img data-lg-item-id="'+index+'" src="'+thumbImg+'" />\n        </div>'},Thumbnail.prototype.getThumbItemHtml=function(items){var thumbList="";for(var i=0;i<items.length;i++)thumbList+=this.getThumbHtml(items[i].thumb,i);return thumbList},Thumbnail.prototype.setThumbItemHtml=function(items){var thumbList=this.getThumbItemHtml(items);this.$lgThumb.html(thumbList)},Thumbnail.prototype.setAnimateThumbStyles=function(){this.settings.animateThumb&&this.core.outer.addClass("lg-animate-thumb")},Thumbnail.prototype.manageActiveClassOnSlideChange=function(){var _this=this;this.core.LGel.on(lGEvents.beforeSlide,function(event){var $thumb=_this.core.outer.find(".lg-thumb-item"),index=event.detail.index;$thumb.removeClass("active"),$thumb.eq(index).addClass("active")})},Thumbnail.prototype.toggleThumbBar=function(){var _this=this;this.settings.toggleThumb&&(this.core.outer.addClass("lg-can-toggle"),this.core.$toolbar.append('<button type="button" aria-label="'+this.settings.thumbnailPluginStrings.toggleThumbnails+'" class="lg-toggle-thumb lg-icon"></button>'),this.core.outer.find(".lg-toggle-thumb").first().on("click.lg",function(){_this.core.outer.toggleClass("lg-components-open")}))},Thumbnail.prototype.thumbKeyPress=function(){var _this=this;this.$LG(window).on("keydown.lg.thumb.global"+this.core.lgId,function(e){if(!_this.core.lgOpened||!_this.settings.toggleThumb)return;e.keyCode===38?(e.preventDefault(),_this.core.outer.addClass("lg-components-open")):e.keyCode===40&&(e.preventDefault(),_this.core.outer.removeClass("lg-components-open"))})},Thumbnail.prototype.destroy=function(){this.settings.thumbnail&&(this.$LG(window).off(".lg.thumb.global"+this.core.lgId),this.core.LGel.off(".lg.thumb"),this.core.LGel.off(".thumb"),this.$thumbOuter.remove(),this.core.outer.removeClass("lg-has-thumb"))},Thumbnail}();return Thumbnail}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?module.exports=factory():typeof define=="function"&&define.amd?define(factory):(global=typeof globalThis!="undefined"?globalThis:global||self,global.lgVideo=factory())}(this,function(){"use strict";var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p])}return t},__assign.apply(this,arguments)},videoSettings={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsOptions:{}},lGEvents={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical",autoplay:"lgAutoplay",autoplayStart:"lgAutoplayStart",autoplayStop:"lgAutoplayStop"},param=function(obj){return Object.keys(obj).map(function(k){return encodeURIComponent(k)+"="+encodeURIComponent(obj[k])}).join("&")},getVimeoURLParams=function(defaultParams,videoInfo){if(!videoInfo||!videoInfo.vimeo)return"";var urlParams=videoInfo.vimeo[2]||"";urlParams=urlParams[0]=="?"?"&"+urlParams.slice(1):urlParams||"";var defaultPlayerParams=defaultParams?"&"+param(defaultParams):"",vimeoPlayerParams="?autoplay=0&muted=1"+defaultPlayerParams+urlParams;return vimeoPlayerParams},Video=function(){function Video(instance){return this.core=instance,this.settings=__assign(__assign({},videoSettings),this.core.settings),this}return Video.prototype.init=function(){var _this=this;this.core.LGel.on(lGEvents.hasVideo+".video",this.onHasVideo.bind(this)),this.core.LGel.on(lGEvents.posterClick+".video",function(){var $el=_this.core.getSlideItem(_this.core.index);_this.loadVideoOnPosterClick($el)}),this.core.LGel.on(lGEvents.slideItemLoad+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(lGEvents.beforeSlide+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(lGEvents.afterSlide+".video",this.onAfterSlide.bind(this))},Video.prototype.onSlideItemLoad=function(event){var _this=this,_a=event.detail,isFirstSlide=_a.isFirstSlide,index=_a.index;this.settings.autoplayFirstVideo&&isFirstSlide&&index===this.core.index&&setTimeout(function(){_this.loadAndPlayVideo(index)},200),!isFirstSlide&&this.settings.autoplayVideoOnSlide&&index===this.core.index&&this.loadAndPlayVideo(index)},Video.prototype.onHasVideo=function(event){var _a=event.detail,index=_a.index,src=_a.src,html5Video=_a.html5Video,hasPoster=_a.hasPoster;hasPoster||(this.appendVideos(this.core.getSlideItem(index),{src:src,addClass:"lg-object",index:index,html5Video:html5Video}),this.gotoNextSlideOnVideoEnd(src,index))},Video.prototype.onBeforeSlide=function(event){if(this.core.lGalleryOn){var prevIndex=event.detail.prevIndex;this.pauseVideo(prevIndex)}var _a=event.detail,index=_a.index,src=_a.info.src;if(typeof src!="undefined"&&src.indexOf("autoplay")>-1){this.loadAndPlayVideo(index);var videoInfo=this.core.galleryItems[index].__slideVideoInfo||{},$videoElement=this.core.getSlideItem(index).find(".lg-video-object").first();if(videoInfo.vimeo){var vimeoPlayer=new Vimeo.Player($videoElement.get());vimeoPlayer.on("play",function(){vimeoPlayer.setCurrentTime(0)})}else if(videoInfo.youtube)try{$videoElement.get().contentWindow.postMessage('{"event":"command","func":"seekTo","args":[0, true]}',"*")}catch(e){console.warn(e)}}},Video.prototype.onAfterSlide=function(event){var _this=this,_a=event.detail,index=_a.index,prevIndex=_a.prevIndex,$slide=this.core.getSlideItem(index);this.settings.autoplayVideoOnSlide&&index!==prevIndex&&$slide.hasClass("lg-complete")&&setTimeout(function(){_this.loadAndPlayVideo(index)},100)},Video.prototype.loadAndPlayVideo=function(index){var $slide=this.core.getSlideItem(index),currentGalleryItem=this.core.galleryItems[index];if(currentGalleryItem.poster)this.loadVideoOnPosterClick($slide,!0);else{var src=currentGalleryItem.src;typeof src!="undefined"&&src.indexOf("autoplay")>-1&&(this.core.index==index?this.playVideo(index):this.pauseVideo(index))}},Video.prototype.playVideo=function(index){this.controlVideo(index,"play")},Video.prototype.pauseVideo=function(index){this.controlVideo(index,"pause")},Video.prototype.getVideoHtml=function(src,addClass,index,html5Video){var video="",videoInfo=this.core.galleryItems[index].__slideVideoInfo||{},currentGalleryItem=this.core.galleryItems[index],videoTitle=currentGalleryItem.title||currentGalleryItem.alt;videoTitle=videoTitle?'title="'+videoTitle+'"':"";var commonIframeProps='allowtransparency="true"\n            frameborder="0"\n            scrolling="no"\n            allowfullscreen\n            mozallowfullscreen\n            webkitallowfullscreen\n            oallowfullscreen\n            msallowfullscreen';if(videoInfo.youtube){var videoId="lg-youtube"+index,slideUrlParams=videoInfo.youtube[2]?videoInfo.youtube[2]+"&":"",youTubePlayerParams="?"+slideUrlParams+"wmode=opaque&autoplay=0&mute=1&enablejsapi=1",playerParams=youTubePlayerParams+(this.settings.youTubePlayerParams?"&"+param(this.settings.youTubePlayerParams):"");video='<iframe allow="autoplay" id='+videoId+' class="lg-video-object lg-youtube '+addClass+'" '+videoTitle+' src="//www.youtube.com/embed/'+(videoInfo.youtube[1]+playerParams)+'" '+commonIframeProps+"></iframe>"}else if(videoInfo.vimeo){var videoId="lg-vimeo"+index,playerParams=getVimeoURLParams(this.settings.vimeoPlayerParams,videoInfo);video='<iframe allow="autoplay" id='+videoId+' class="lg-video-object lg-vimeo '+addClass+'" '+videoTitle+' src="//player.vimeo.com/video/'+(videoInfo.vimeo[1]+playerParams)+'" '+commonIframeProps+"></iframe>"}else if(videoInfo.wistia){var wistiaId="lg-wistia"+index,playerParams=param(this.settings.wistiaPlayerParams);playerParams=playerParams?"?"+playerParams:"",video='<iframe allow="autoplay" id="'+wistiaId+'" src="//fast.wistia.net/embed/iframe/'+(videoInfo.wistia[4]+playerParams)+'" '+videoTitle+' class="wistia_embed lg-video-object lg-wistia '+addClass+'" name="wistia_embed" '+commonIframeProps+"></iframe>"}else if(videoInfo.html5){var html5VideoMarkup="";for(var i=0;i<html5Video.source.length;i++)html5VideoMarkup+='<source src="'+html5Video.source[i].src+'" type="'+html5Video.source[i].type+'">';if(html5Video.tracks){var _loop_1=function(i){var trackAttributes="",track=html5Video.tracks[i];Object.keys(track||{}).forEach(function(key){trackAttributes+=key+'="'+track[key]+'" '}),html5VideoMarkup+="<track "+trackAttributes+">"};for(var i=0;i<html5Video.tracks.length;i++)_loop_1(i)}var html5VideoAttrs_1="",videoAttributes_1=html5Video.attributes||{};Object.keys(videoAttributes_1||{}).forEach(function(key){html5VideoAttrs_1+=key+'="'+videoAttributes_1[key]+'" '}),video='<video class="lg-video-object lg-html5 '+(this.settings.videojs?"video-js":"")+'" '+html5VideoAttrs_1+">\n                "+html5VideoMarkup+"\n                Your browser does not support HTML5 video.\n            </video>"}return video},Video.prototype.appendVideos=function(el,videoParams){var _a,videoHtml=this.getVideoHtml(videoParams.src,videoParams.addClass,videoParams.index,videoParams.html5Video);el.find(".lg-video-cont").append(videoHtml);var $videoElement=el.find(".lg-video-object").first();videoParams.html5Video&&$videoElement.on("mousedown.lg.video",function(e){e.stopPropagation()});if(this.settings.videojs&&((_a=this.core.galleryItems[videoParams.index].__slideVideoInfo)===null||_a===void 0?void 0:_a.html5))try{return videojs($videoElement.get(),this.settings.videojsOptions)}catch(e){console.warn("lightGallery:- Make sure you have included videojs")}},Video.prototype.gotoNextSlideOnVideoEnd=function(src,index){var _this=this,$videoElement=this.core.getSlideItem(index).find(".lg-video-object").first(),videoInfo=this.core.galleryItems[index].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd)if(videoInfo.html5)$videoElement.on("ended",function(){_this.core.goToNextSlide()});else if(videoInfo.vimeo)try{(new Vimeo.Player($videoElement.get())).on("ended",function(){_this.core.goToNextSlide()})}catch(e){console.warn("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(videoInfo.wistia)try{window._wq=window._wq||[],window._wq.push({id:$videoElement.attr("id"),onReady:function(video){video.bind("end",function(){_this.core.goToNextSlide()})}})}catch(e){console.warn("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},Video.prototype.controlVideo=function(index,action){var $videoElement=this.core.getSlideItem(index).find(".lg-video-object").first(),videoInfo=this.core.galleryItems[index].__slideVideoInfo||{};if(!$videoElement.get())return;if(videoInfo.youtube)try{$videoElement.get().contentWindow.postMessage('{"event":"command","func":"'+action+'Video","args":""}',"*")}catch(e){console.warn("lightGallery:- "+e)}else if(videoInfo.vimeo)try{(new Vimeo.Player($videoElement.get()))[action]()}catch(e){console.warn("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(videoInfo.html5)if(this.settings.videojs)try{videojs($videoElement.get())[action]()}catch(e){console.warn("lightGallery:- Make sure you have included videojs")}else $videoElement.get()[action]();else if(videoInfo.wistia)try{window._wq=window._wq||[],window._wq.push({id:$videoElement.attr("id"),onReady:function(video){video[action]()}})}catch(e){console.warn("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}},Video.prototype.loadVideoOnPosterClick=function($el,forcePlay){var _this=this;if(!$el.hasClass("lg-video-loaded"))if(!$el.hasClass("lg-has-video")){$el.addClass("lg-has-video");var _html=void 0,_src=this.core.galleryItems[this.core.index].src,video=this.core.galleryItems[this.core.index].video;video&&(_html=typeof video=="string"?JSON.parse(video):video);var videoJsPlayer_1=this.appendVideos($el,{src:_src,addClass:"",index:this.core.index,html5Video:_html});this.gotoNextSlideOnVideoEnd(_src,this.core.index);var $tempImg=$el.find(".lg-object").first().get();$el.find(".lg-video-cont").first().append($tempImg),$el.addClass("lg-video-loading"),videoJsPlayer_1&&videoJsPlayer_1.ready(function(){videoJsPlayer_1.on("loadedmetadata",function(){_this.onVideoLoadAfterPosterClick($el,_this.core.index)})}),$el.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){_this.onVideoLoadAfterPosterClick($el,_this.core.index)},50)})}else this.playVideo(this.core.index);else forcePlay&&this.playVideo(this.core.index)},Video.prototype.onVideoLoadAfterPosterClick=function($el,index){$el.addClass("lg-video-loaded"),this.playVideo(index)},Video.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},Video}();return Video}),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):((e="undefined"!=typeof globalThis?globalThis:e||self).Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function l(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function u(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.id,e=t.url,t=n||e;if(!t)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(e=t,!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e)return"https://vimeo.com/".concat(t);if(l(t))return t.replace("http:","https:");throw n?new TypeError("".concat(n," is not a valid video id.")):new TypeError("".concat(t," is not a vimeo.com url."))}function c(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(o(this,"_id","_WeakMap_"+f()+"."+f()),0<arguments.length)throw new TypeError("WeakMap iterable is not supported")}function s(e,t){if(!d(e)||!n.call(e,"_id"))throw new TypeError(t+" method called on incompatible receiver "+typeof e)}function f(){return Math.random().toString().substring(2)}function d(e){return Object(e)===e}function p(e,t,n){var r=v.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),v.set(e.element,r)}function y(e,t){return(v.get(e.element)||{})[t]||[]}function g(e,t,n){var r=v.get(e.element)||{};return r[t]?n?(n=r[t].indexOf(n),-1!==n&&r[t].splice(n,1),v.set(e.element,r),r[t]&&0===r[t].length):(r[t]=[],v.set(e.element,r),!0):!0}function b(r,e){return w.reduce(function(e,t){var n=r.getAttribute("data-vimeo-".concat(t));return!n&&""!==n||(e[t]=""===n?1:n),e},1<arguments.length&&void 0!==e?e:{})}function k(e,t){var n=e.html;if(!t)throw new TypeError("An element must be provided");return null!==t.getAttribute("data-vimeo-initialized")?t.querySelector("iframe"):(e=document.createElement("div"),e.innerHTML=n,t.appendChild(e.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe"))}function E(i,e,t){var a=1<arguments.length&&void 0!==e?e:{},u=2<arguments.length?t:void 0;return new Promise(function(t,n){if(!l(i))throw new TypeError("".concat(i," is not a vimeo.com url."));var e,r="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(i));for(e in a)a.hasOwnProperty(e)&&(r+="&".concat(e,"=").concat(encodeURIComponent(a[e])));var o=new("XDomainRequest"in window?XDomainRequest:XMLHttpRequest);o.open("GET",r,!0),o.onload=function(){if(404!==o.status)if(403!==o.status)try{var e=JSON.parse(o.responseText);if(403===e.domain_status_code)return k(e,u),void n(new Error("".concat(i," is not embeddable.")));t(e)}catch(e){n(e)}else n(new Error("".concat(i," is not embeddable.")));else n(new Error("".concat(i," was not found.")))},o.onerror=function(){var e=o.status?" (".concat(o.status,")"):"";n(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},o.send()})}function T(e){function n(e){"console"in window&&console.warn&&console.warn("There was an error creating an embed: ".concat(e))}e=0<arguments.length&&void 0!==e?e:document,e=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),e.forEach(function(t){try{if(null!==t.getAttribute("data-vimeo-defer"))return;var e=b(t);E(u(e),e,t).then(function(e){return k(e,t)}).catch(n)}catch(e){n(e)}})}function P(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function _(e,t,n){e.element.contentWindow&&e.element.contentWindow.postMessage&&(t={method:t},void 0!==n&&(t.value=n),8<=(n=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1")))&&n<10&&(t=JSON.stringify(t)),e.element.contentWindow.postMessage(t,e.origin))}function M(n,r){var t,e,o,i,a=[];(r=P(r)).event?("error"===r.event&&y(n,r.data.method).forEach(function(e){var t=new Error(r.data.message);t.name=r.data.name,e.reject(t),g(n,r.data.method,e)}),a=y(n,"event:".concat(r.event)),t=r.data):r.method&&(e=n,o=r.method,(i=!((i=y(e,o)).length<1)&&(i=i.shift(),g(e,o,i),i))&&(a.push(i),t=r.value)),a.forEach(function(e){try{if("function"==typeof e)return void e.call(n,t);e.resolve(t)}catch(e){}})}var e="undefined"!=typeof global&&"[object global]"==={}.toString.call(global),t=void 0!==Array.prototype.indexOf,Player="undefined"!=typeof window&&void 0!==window.postMessage;if(!(e||t&&Player))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var n,o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};(Player="undefined"!=typeof self?self:"undefined"!=typeof window?window:a).WeakMap||(n=Object.prototype.hasOwnProperty,Player.WeakMap=((o=function(e,t,n){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n}):e[t]=n})(c.prototype,"delete",function(e){if(s(this,"delete"),!d(e))return!1;var t=e[this._id];return!!t&&t[0]===e&&(delete e[this._id],!0)}),o(c.prototype,"get",function(e){if(s(this,"get"),d(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}}),o(c.prototype,"has",function(e){if(s(this,"has"),!d(e))return!1;var t=e[this._id];return!!t&&t[0]===e}),o(c.prototype,"set",function(e,t){if(s(this,"set"),!d(e))throw new TypeError("Invalid value used as weak map key");var n=e[this._id];return n&&n[0]===e?n[1]=t:o(e,this._id,[e,t]),this}),o(c,"_polyfill",!0),c));var h,m=(function(e){var t,n,r;r=function(){function u(e,t){this.fn=e,this.self=t,this.next=void 0}function l(e,t){y.add(e,t),n=n||a(y.drain)}function c(e){var t,n=typeof e;return"function"==typeof (t=null!=e&&("object"==n||"function"==n)?e.then:t)&&t}function s(){for(var e=0;e<this.chain.length;e++)!function(e,t,n){var r,o;try{!1===t?n.reject(e.msg):(r=!0===t?e.msg:t.call(void 0,e.msg))===n.promise?n.reject(TypeError("Promise-chain cycle")):(o=c(r))?o.call(r,n.resolve,n.reject):n.resolve(r)}catch(e){n.reject(e)}}(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function f(e){var n,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(n=c(e))?l(function(){var t=new m(r);try{n.call(e,function(){f.apply(t,arguments)},function(){d.apply(t,arguments)})}catch(e){d.call(t,e)}}):(r.msg=e,r.state=1,0<r.chain.length&&l(s,r))}catch(e){d.call(new m(r),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,(t=t.def?t.def:t).msg=e,t.state=2,0<t.chain.length&&l(s,t))}function h(e,n,r,o){for(var t=0;t<n.length;t++)!function(t){e.resolve(n[t]).then(function(e){r(t,e)},o)}(t)}function m(e){this.def=e,this.triggered=!1}function v(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function p(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new v(this);this.then=function(e,t){var n={success:"function"!=typeof e||e,failure:"function"==typeof t&&t};return n.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t}),r.chain.push(n),0!==r.state&&l(s,r),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){f.call(r,e)},function(e){d.call(r,e)})}catch(e){d.call(r,e)}}var t,n,r,o,i,e=Object.prototype.toString,a="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},"x",{}),t=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){t=function(e,t,n){return e[t]=n,e}}var y={add:function(e,t){i=new u(e,t),o?o.next=i:r=i,o=i,i=void 0},drain:function(){var e=r;for(r=o=n=void 0;e;)e.fn.call(e.self),e=e.next}},g=t({},"constructor",p,!1);return t(p.prototype=g,"__NPO__",0,!1),t(p,"resolve",function(n){return n&&"object"==typeof n&&1===n.__NPO__?n:new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");e(n)})}),t(p,"reject",function(n){return new this(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");t(n)})}),t(p,"all",function(t){var a=this;return"[object Array]"!=e.call(t)?a.reject(TypeError("Not an array")):0===t.length?a.resolve([]):new a(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");var r=t.length,o=Array(r),i=0;h(a,t,function(e,t){o[e]=t,++i===r&&n(o)},e)})}),t(p,"race",function(t){var r=this;return"[object Array]"!=e.call(t)?r.reject(TypeError("Not an array")):new r(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");h(r,t,function(e,t){n(t)},e)})}),p},(n=a)[t="Promise"]=n[t]||r(),e.exports&&(e.exports=n[t])}(h={exports:{}}),h.exports),v=new WeakMap,w=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactiveparams","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"],N,F,x,C=new WeakMap,j=new WeakMap,A={},Player=function(){function Player(i){var e,a=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Player),window.jQuery&&i instanceof jQuery&&(1<i.length&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),i=i[0]),"undefined"!=typeof document&&"string"==typeof i&&(i=document.getElementById(i)),e=i,!Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"===i.nodeName||(r=i.querySelector("iframe"))&&(i=r),"IFRAME"===i.nodeName&&!l(i.getAttribute("src")||""))throw new Error("The player element passed isnt a Vimeo embed.");if(C.has(i))return C.get(i);this._window=i.ownerDocument.defaultView,this.element=i,this.origin="*";var n,r=new m(function(r,o){var e;a._onMessage=function(e){if(l(e.origin)&&a.element.contentWindow===e.source){"*"===a.origin&&(a.origin=e.origin);var t=P(e.data);if(t&&"error"===t.event&&t.data&&"ready"===t.data.method){var n=new Error(t.data.message);return n.name=t.data.name,void o(n)}e=t&&"ready"===t.event,n=t&&"ping"===t.method;if(e||n)return a.element.setAttribute("data-ready","true"),void r();M(a,t)}},a._window.addEventListener("message",a._onMessage),"IFRAME"!==a.element.nodeName&&E(u(e=b(i,t)),e,i).then(function(e){var t,n,r=k(e,i);return a.element=r,a._originalElement=i,t=i,n=r,r=v.get(t),v.set(n,r),v.delete(t),C.set(a.element,a),e}).catch(o)});return j.set(this,r),C.set(this.element,this),"IFRAME"===this.element.nodeName&&_(this,"ping"),A.isEnabled&&(n=function(){return A.exit()},this.fullscreenchangeHandler=function(){(A.isFullscreen?p:g)(a,"event:exitFullscreen",n),a.ready().then(function(){_(a,"fullscreenchange",A.isFullscreen)})},A.on("fullscreenchange",this.fullscreenchangeHandler)),this}var e,t,n;return e=Player,(t=[{key:"callMethod",value:function(n){var r=this,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return new m(function(e,t){return r.ready().then(function(){p(r,n,{resolve:e,reject:t}),_(r,n,o)}).catch(t)})}},{key:"get",value:function(n){var r=this;return new m(function(e,t){return n=i(n,"get"),r.ready().then(function(){p(r,n,{resolve:e,reject:t}),_(r,n)}).catch(t)})}},{key:"set",value:function(n,r){var o=this;return new m(function(e,t){if(n=i(n,"set"),null==r)throw new TypeError("There must be a value to set.");return o.ready().then(function(){p(o,n,{resolve:e,reject:t}),_(o,n,r)}).catch(t)})}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===y(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch(function(){}),p(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");g(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch(function(e){})}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=j.get(this)||new m(function(e,t){t(new Error("Unknown player. Probably unloaded."))});return m.resolve(e)}},{key:"addCuePoint",value:function(e){return this.callMethod("addCuePoint",{time:e,data:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return A.isEnabled?A.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return A.isEnabled?A.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return A.isEnabled?m.resolve(A.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var n=this;return new m(function(e){var t;j.delete(n),C.delete(n.element),n._originalElement&&(C.delete(n._originalElement),n._originalElement.removeAttribute("data-vimeo-initialized")),n.element&&"IFRAME"===n.element.nodeName&&n.element.parentNode&&(n.element.parentNode.parentNode&&n._originalElement&&n._originalElement!==n.element.parentNode?n.element.parentNode.parentNode.removeChild(n.element.parentNode):n.element.parentNode.removeChild(n.element)),n.element&&"DIV"===n.element.nodeName&&n.element.parentNode&&(n.element.removeAttribute("data-vimeo-initialized"),(t=n.element.querySelector("iframe"))&&t.parentNode&&(t.parentNode.parentNode&&n._originalElement&&n._originalElement!==t.parentNode?t.parentNode.parentNode.removeChild(t.parentNode):t.parentNode.removeChild(t))),n._window.removeEventListener("message",n._onMessage),A.isEnabled&&A.off("fullscreenchange",n.fullscreenchangeHandler),e()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&r(e.prototype,t),n&&r(e,n),Player}();return e||(N=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=t.length,o={};n<r;n++)if((e=t[n])&&e[1]in document){for(n=0;n<e.length;n++)o[t[0][n]]=e[n];return o}return!1}(),F={fullscreenchange:N.fullscreenchange,fullscreenerror:N.fullscreenerror},x={request:function(o){return new Promise(function(e,t){function n(){x.off("fullscreenchange",n),e()}x.on("fullscreenchange",n);var r=(o=o||document.documentElement)[N.requestFullscreen]();r instanceof Promise&&r.then(n).catch(t)})},exit:function(){return new Promise(function(t,e){var n,r;x.isFullscreen?(n=function e(){x.off("fullscreenchange",e),t()},x.on("fullscreenchange",n),(r=document[N.exitFullscreen]())instanceof Promise&&r.then(n).catch(e)):t()})},on:function(e,t){e=F[e],e&&document.addEventListener(e,t)},off:function(e,t){e=F[e],e&&document.removeEventListener(e,t)}},Object.defineProperties(x,{isFullscreen:{get:function(){return Boolean(document[N.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[N.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[N.fullscreenEnabled])}}}),A=x,T(),function(e){var r=0<arguments.length&&void 0!==e?e:document;window.VimeoPlayerResizeEmbeds_||(window.VimeoPlayerResizeEmbeds_=!0,window.addEventListener("message",function(e){if(l(e.origin)&&e.data&&"spacechange"===e.data.event)for(var t=r.querySelectorAll("iframe"),n=0;n<t.length;n++)if(t[n].contentWindow===e.source){t[n].parentElement.style.paddingBottom="".concat(e.data.data[0].bottom,"px");break}}))}()),Player}),function($,window,document,undefined){function Owl(element,options){this.settings=null,this.options=$.extend({},Owl.Defaults,options),this.$element=$(element),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},$.each(["onResize","onThrottledResize"],$.proxy(function(i,handler){this._handlers[handler]=$.proxy(this[handler],this)},this)),$.each(Owl.Plugins,$.proxy(function(key,plugin){this._plugins[key.charAt(0).toLowerCase()+key.slice(1)]=new plugin(this)},this)),$.each(Owl.Workers,$.proxy(function(priority,worker){this._pipe.push({filter:worker.filter,run:$.proxy(worker.run,this)})},this)),this.setup(),this.initialize()}Owl.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:window,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},Owl.Width={Default:"default",Inner:"inner",Outer:"outer"},Owl.Type={Event:"event",State:"state"},Owl.Plugins={},Owl.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.closest(".px-gutter").length?12*Math.ceil(this.$element.width()/12):this.$element.width()}},{filter:["width","items","settings"],run:function(cache){cache.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(cache){var margin=this.settings.margin||"",grid=!this.settings.autoWidth,rtl=this.settings.rtl,css={width:"auto","margin-left":rtl?margin:"","margin-right":rtl?"":margin};!grid&&this.$stage.children().css(css),cache.css=css}},{filter:["width","items","settings"],run:function(cache){var width=Math.round((this.width()/this.settings.items).toFixed(3)-this.settings.margin),merge=null,iterator=this._items.length,grid=!this.settings.autoWidth,widths=[];cache.items={merge:!1,width:width};while(iterator--)merge=this._mergers[iterator],merge=this.settings.mergeFit&&Math.min(merge,this.settings.items)||merge,cache.items.merge=merge>1||cache.items.merge,widths[iterator]=grid?width*merge:this._items[iterator].width();this._widths=widths}},{filter:["items","settings"],run:function(){var clones=[],items=this._items,settings=this.settings,view=Math.max(settings.items*2,4),size=Math.ceil(items.length/2)*2,repeat=settings.loop&&items.length?settings.rewind?view:Math.max(view,size):0,append="",prepend="";repeat/=2;while(repeat--)clones.push(this.normalize(clones.length/2,!0)),append+=items[clones[clones.length-1]][0].outerHTML,clones.push(this.normalize(items.length-1-(clones.length-1)/2,!0)),prepend=items[clones[clones.length-1]][0].outerHTML+prepend;this._clones=clones,$(append).addClass("cloned").appendTo(this.$stage),$(prepend).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){var rtl=this.settings.rtl?1:-1,size=this._clones.length+this._items.length,iterator=-1,previous=0,current=0,coordinates=[];while(++iterator<size)previous=coordinates[iterator-1]||0,current=this._widths[this.relative(iterator)]+this.settings.margin,coordinates.push(previous+current*rtl);this._coordinates=coordinates}},{filter:["width","items","settings"],run:function(){var stagePadding=this._width<480&&this.settings.stagePadding>0?41:this._width*this.settings.stagePadding/200,padding=stagePadding,coordinates=this._coordinates,css={width:Math.ceil(Math.abs(coordinates[coordinates.length-1]))+padding*2,"padding-left":padding||"","padding-right":padding||""};this.$stage.css(css)}},{filter:["width","items","settings"],run:function(cache){var iterator=this._coordinates.length,grid=!this.settings.autoWidth,items=this.$stage.children();if(grid&&cache.items.merge)while(iterator--)cache.css.width=this._widths[this.relative(iterator)],items.eq(iterator).css(cache.css);else grid&&(cache.css.width=cache.items.width,items.css(cache.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(cache){cache.current=cache.current?this.$stage.children().index(cache.current):0,cache.current=Math.max(this.minimum(),Math.min(this.maximum(),cache.current)),this.reset(cache.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var stagePadding=this._width<480&&this.settings.stagePadding>0?41:this._width*this.settings.stagePadding/200,rtl=this.settings.rtl?1:-1,padding=this.settings.stagePadding*2,begin=this.coordinates(this.current())+padding,end=begin+this.width()*rtl,inner,outer,matches=[],i,n;for(i=0,n=this._coordinates.length;i<n;i++)inner=this._coordinates[i-1]||0,outer=Math.abs(this._coordinates[i])+padding*rtl,(this.op(inner,"<=",begin)&&this.op(inner,">",end)||this.op(outer,"<",begin)&&this.op(outer,">",end))&&matches.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+matches.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],Owl.prototype.initialize=function(){this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl);if(this.settings.autoWidth&&!this.is("pre-loading")){var imgs,nestedSelector,width;imgs=this.$element.find("img"),nestedSelector=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:undefined,width=this.$element.children(nestedSelector).width(),imgs.length&&width<=0&&this.preloadAutoWidthImages(imgs)}this.$element.addClass(this.options.loadingClass),this.$stage=$("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},Owl.prototype.setup=function(){var viewport=this.viewport(),overwrites=this.options.responsive,match=-1,settings=null;overwrites?($.each(overwrites,function(breakpoint){breakpoint<=viewport&&breakpoint>match&&(match=Number(breakpoint))}),settings=$.extend({},this.options,overwrites[match]),delete settings.responsive,settings.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+match))):settings=$.extend({},this.options);if(this.settings===null||this._breakpoint!==match)this.trigger("change",{property:{name:"settings",value:settings}}),this._breakpoint=match,this.settings=settings,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},Owl.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},Owl.prototype.prepare=function(item,index){var event=this.trigger("prepare",{content:item});return event.data||(event.data=$("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).attr("data-index",index+1).append(item)),this.trigger("prepared",{content:event.data}),event.data},Owl.prototype.update=function(){var i=0,n=this._pipe.length,filter=$.proxy(function(p){return this[p]},this._invalidated),cache={};while(i<n)(this._invalidated.all||$.grep(this._pipe[i].filter,filter).length>0)&&this._pipe[i].run(cache),i++;this._invalidated={},!this.is("valid")&&this.enter("valid")},Owl.prototype.width=function(dimension){dimension=dimension||Owl.Width.Default;var stagePadding=this._width<480&&this.settings.stagePadding>0?41:this._width*this.settings.stagePadding/200;switch(dimension){case Owl.Width.Inner:case Owl.Width.Outer:return this._width;default:return this._width-stagePadding*2+this.settings.margin}},Owl.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},Owl.prototype.onThrottledResize=function(){window.clearTimeout(this.resizeTimer),this.resizeTimer=window.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},Owl.prototype.onResize=function(){if(!this._items.length)return!1;if(this._width===this.$element.width())return!1;if(!this.$element.is(":visible"))return!1;this.enter("resizing");if(this.trigger("resize").isDefaultPrevented())return this.leave("resizing"),!1;this.invalidate("width"),this.refresh(),this.leave("resizing"),this.trigger("resized")},Owl.prototype.registerEventHandlers=function(){$.support.transition&&this.$stage.on($.support.transition.end+".owl.core",$.proxy(this.onTransitionEnd,this)),this.settings.responsive!==!1&&this.on(window,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",$.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",$.proxy(this.onDragEnd,this)))},Owl.prototype.onDragStart=function(event){var stage=null;if(event.which===3)return;$.support.transform?(stage=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),stage={x:stage[stage.length===16?12:4],y:stage[stage.length===16?13:5]}):(stage=this.$stage.position(),stage={x:this.settings.rtl?stage.left+this.$stage.width()-this.width()+this.settings.margin:stage.left,y:stage.top}),this.is("animating")&&($.support.transform?this.animate(stage.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,event.type==="mousedown"),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=$(event.target),this._drag.stage.start=stage,this._drag.stage.current=stage,this._drag.pointer=this.pointer(event),$(document).on("mouseup.owl.core touchend.owl.core",$.proxy(this.onDragEnd,this)),$(document).one("mousemove.owl.core touchmove.owl.core",$.proxy(function(event){var delta=this.difference(this._drag.pointer,this.pointer(event));$(document).on("mousemove.owl.core touchmove.owl.core",$.proxy(this.onDragMove,this));if(Math.abs(delta.x)<Math.abs(delta.y)&&this.is("valid"))return;event.preventDefault(),this.enter("dragging"),this.trigger("drag")},this))},Owl.prototype.onDragMove=function(event){var minimum=null,maximum=null,pull=null,delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this.difference(this._drag.stage.start,delta);if(!this.is("dragging"))return;event.preventDefault(),this.settings.loop?(minimum=this.coordinates(this.minimum()),maximum=this.coordinates(this.maximum()+1)-minimum,stage.x=((stage.x-minimum)%maximum+maximum)%maximum+minimum):(minimum=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),maximum=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),pull=this.settings.pullDrag?-1*delta.x/5:0,stage.x=Math.max(Math.min(stage.x,minimum+pull),maximum+pull)),this._drag.stage.current=stage,this.animate(stage.x)},Owl.prototype.onDragEnd=function(event){var delta=this.difference(this._drag.pointer,this.pointer(event)),stage=this._drag.stage.current,direction=delta.x>0^this.settings.rtl?"left":"right";$(document).off(".owl.core"),this.$element.removeClass(this.options.grabClass);if(delta.x!==0&&this.is("dragging")||!this.is("valid"))this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(stage.x,delta.x!==0?direction:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=direction,(Math.abs(delta.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1});if(!this.is("dragging"))return;this.leave("dragging"),this.trigger("dragged")},Owl.prototype.closest=function(coordinate,direction){var position=-1,pull=30,width=this.width(),coordinates=this.coordinates();return this.settings.freeDrag||$.each(coordinates,$.proxy(function(index,value){return coordinate>value-pull&&coordinate<value+pull?position=index:this.op(coordinate,"<",value)&&this.op(coordinate,">",coordinates[index+1]||value-width)&&(position=direction==="left"?index+1:index),position===-1},this)),this.settings.loop||(this.op(coordinate,">",coordinates[this.minimum()])?position=coordinate=this.minimum():this.op(coordinate,"<",coordinates[this.maximum()])&&(position=coordinate=this.maximum())),position},Owl.prototype.animate=function(coordinate){var animate=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),animate&&(this.enter("animating"),this.trigger("translate")),$.support.transform3d&&$.support.transition?this.$stage.css({transform:"translate3d("+coordinate+"px,0px,0px)",transition:this.speed()/1e3+"s"}):animate?this.$stage.animate({left:coordinate+"px"},this.speed(),this.settings.fallbackEasing,$.proxy(this.onTransitionEnd,this)):this.$stage.css({left:coordinate+"px"})},Owl.prototype.is=function(state){return this._states.current[state]&&this._states.current[state]>0},Owl.prototype.current=function(position){if(position===undefined)return this._current;if(this._items.length===0)return undefined;position=this.normalize(position);if(this._current!==position){var event=this.trigger("change",{property:{name:"position",value:position}});event.data!==undefined&&(position=this.normalize(event.data)),this._current=position,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current},Owl.prototype.invalidate=function(part){return $.type(part)==="string"&&(this._invalidated[part]=!0,this.is("valid")&&this.leave("valid")),$.map(this._invalidated,function(v,i){return i})},Owl.prototype.reset=function(position){position=this.normalize(position);if(position===undefined)return;this._speed=0,this._current=position,this.suppress(["translate","translated"]),this.animate(this.coordinates(position)),this.release(["translate","translated"])},Owl.prototype.normalize=function(position,relative){var n=this._items.length,m=relative?0:this._clones.length;if(!$.isNumeric(position)||n<1)position=undefined;else if(position<0||position>=n+m)position=((position-m/2)%n+n)%n+m/2;return position},Owl.prototype.relative=function(position){return position-=this._clones.length/2,this.normalize(position,!0)},Owl.prototype.maximum=function(relative){var settings=this.settings,maximum=this._coordinates.length,boundary=Math.abs(this._coordinates[maximum-1])-this._width,i=-1,j;if(settings.loop)maximum=this._clones.length/2+this._items.length-1;else if(settings.autoWidth||settings.merge)while(maximum-i>1)Math.abs(this._coordinates[j=maximum+i>>1])<boundary?i=j:maximum=j;else settings.center?maximum=this._items.length-1:maximum=this._items.length-settings.items;return relative&&(maximum-=this._clones.length/2),Math.max(maximum,0)},Owl.prototype.minimum=function(relative){return relative?0:this._clones.length/2},Owl.prototype.items=function(position){return position===undefined?this._items.slice():(position=this.normalize(position,!0),this._items[position])},Owl.prototype.mergers=function(position){return position===undefined?this._mergers.slice():(position=this.normalize(position,!0),this._mergers[position])},Owl.prototype.clones=function(position){var odd=this._clones.length/2,even=odd+this._items.length,map=function(index){return index%2===0?even+index/2:odd-(index+1)/2};return position===undefined?$.map(this._clones,function(v,i){return map(i)}):$.map(this._clones,function(v,i){return v===position?map(i):null})},Owl.prototype.speed=function(speed){return speed!==undefined&&(this._speed=speed),this._speed},Owl.prototype.coordinates=function(position){var coordinate=null;return position===undefined?$.map(this._coordinates,$.proxy(function(coordinate,index){return this.coordinates(index)},this)):(this.settings.center?(coordinate=this._coordinates[position],coordinate+=(this.width()-coordinate+(this._coordinates[position-1]||0))/2*(this.settings.rtl?-1:1)):coordinate=this._coordinates[position-1]||0,coordinate)},Owl.prototype.duration=function(from,to,factor){return Math.min(Math.max(Math.abs(to-from),1),6)*Math.abs(factor||this.settings.smartSpeed)},Owl.prototype.to=function(position,speed){var current=this.current(),revert=null,distance=position-this.relative(current),direction=(distance>0)-(distance<0),items=this._items.length,minimum=this.minimum(),maximum=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(distance)>items/2&&(distance+=direction*-1*items),position=current+distance,revert=((position-minimum)%items+items)%items+minimum,revert!==position&&revert-distance<=maximum&&revert-distance>0&&(current=revert-distance,position=revert,this.reset(current))):this.settings.rewind?(maximum+=1,position=(position%maximum+maximum)%maximum):position=Math.max(minimum,Math.min(maximum,position)),this.speed(this.duration(current,position,speed)),this.current(position),this.$element.is(":visible")&&this.update()},Owl.prototype.next=function(speed){speed=speed||!1,this.to(this.relative(this.current())+1,speed)},Owl.prototype.prev=function(speed){speed=speed||!1,this.to(this.relative(this.current())-1,speed)},Owl.prototype.onTransitionEnd=function(event){if(event!==undefined){event.stopPropagation();if((event.target||event.srcElement||event.originalTarget)!==this.$stage.get(0))return!1}this.leave("animating"),this.trigger("translated")},Owl.prototype.viewport=function(){var width;if(this.options.responsiveBaseElement!==window)width=$(this.options.responsiveBaseElement).width();else if(window.innerWidth)width=window.innerWidth;else{if(!document.documentElement||!document.documentElement.clientWidth)throw"Can not detect viewport width.";width=document.documentElement.clientWidth}return width},Owl.prototype.replace=function(content){this.$stage.empty(),this._items=[],content&&(content=content instanceof jQuery?content:$(content)),this.settings.nestedItemSelector&&(content=content.find("."+this.settings.nestedItemSelector)),content.filter(function(){return this.nodeType===1}).each($.proxy(function(index,item){item=this.prepare(item,index),this.$stage.append(item),this._items.push(item),this._mergers.push(item.find("[data-merge]").addBack("[data-merge]").attr("data-merge")*1||1)},this)),this.reset($.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},Owl.prototype.add=function(content,position){var current=this.relative(this._current);position=position===undefined?this._items.length:this.normalize(position,!0),content=content instanceof jQuery?content:$(content),this.trigger("add",{content:content,position:position}),content=this.prepare(content,this._items[current].index()),this._items.length===0||position===this._items.length?(this._items.length===0&&this.$stage.append(content),this._items.length!==0&&this._items[position-1].after(content),this._items.push(content),this._mergers.push(content.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)):(this._items[position].before(content),this._items.splice(position,0,content),this._mergers.splice(position,0,content.find("[data-merge]").andSelf("[data-merge]").attr("data-merge")*1||1)),this._items[current]&&this.reset(this._items[current].index()),this.invalidate("items"),this.trigger("added",{content:content,position:position})},Owl.prototype.remove=function(position){position=this.normalize(position,!0);if(position===undefined)return;this.trigger("remove",{content:this._items[position],position:position}),this._items[position].remove(),this._items.splice(position,1),this._mergers.splice(position,1),this.invalidate("items"),this.trigger("removed",{content:null,position:position})},Owl.prototype.preloadAutoWidthImages=function(images){images.each($.proxy(function(i,element){this.enter("pre-loading"),element=$(element),$(new Image).one("load",$.proxy(function(e){element.attr("src",e.target.src),element.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",element.attr("src")||element.attr("data-src")||element.attr("data-src-retina"))},this))},Owl.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),$(document).off(".owl.core"),this.settings.responsive!==!1&&(window.clearTimeout(this.resizeTimer),this.off(window,"resize",this._handlers.onThrottledResize));for(var i in this._plugins)this._plugins[i].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},Owl.prototype.op=function(a,o,b){var rtl=this.settings.rtl;switch(o){case"<":return rtl?a>b:a<b;case">":return rtl?a<b:a>b;case">=":return rtl?a<=b:a>=b;case"<=":return rtl?a>=b:a<=b;default:}},Owl.prototype.on=function(element,event,listener,capture){element.addEventListener?element.addEventListener(event,listener,capture):element.attachEvent&&element.attachEvent("on"+event,listener)},Owl.prototype.off=function(element,event,listener,capture){element.removeEventListener?element.removeEventListener(event,listener,capture):element.detachEvent&&element.detachEvent("on"+event,listener)},Owl.prototype.trigger=function(name,data,namespace,state,enter){var status={item:{count:this._items.length,index:this.current()}},handler=$.camelCase($.grep(["on",name,namespace],function(v){return v}).join("-").toLowerCase()),event=$.Event([name,"owl",namespace||"carousel"].join(".").toLowerCase(),$.extend({relatedTarget:this},status,data));return this._supress[name]||($.each(this._plugins,function(name,plugin){plugin.onTrigger&&plugin.onTrigger(event)}),this.register({type:Owl.Type.Event,name:name}),this.$element.trigger(event),this.settings&&typeof this.settings[handler]=="function"&&this.settings[handler].call(this,event)),event},Owl.prototype.enter=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]===undefined&&(this._states.current[name]=0),this._states.current[name]++},this))},Owl.prototype.leave=function(name){$.each([name].concat(this._states.tags[name]||[]),$.proxy(function(i,name){this._states.current[name]--},this))},Owl.prototype.register=function(object){if(object.type===Owl.Type.Event){$.event.special[object.name]||($.event.special[object.name]={});if(!$.event.special[object.name].owl){var _default=$.event.special[object.name]._default;$.event.special[object.name]._default=function(e){return _default&&_default.apply&&(!e.namespace||e.namespace.indexOf("owl")===-1)?_default.apply(this,arguments):e.namespace&&e.namespace.indexOf("owl")>-1},$.event.special[object.name].owl=!0}}else object.type===Owl.Type.State&&(this._states.tags[object.name]?this._states.tags[object.name]=this._states.tags[object.name].concat(object.tags):this._states.tags[object.name]=object.tags,this._states.tags[object.name]=$.grep(this._states.tags[object.name],$.proxy(function(tag,i){return $.inArray(tag,this._states.tags[object.name])===i},this)))},Owl.prototype.suppress=function(events){$.each(events,$.proxy(function(index,event){this._supress[event]=!0},this))},Owl.prototype.release=function(events){$.each(events,$.proxy(function(index,event){delete this._supress[event]},this))},Owl.prototype.pointer=function(event){var result={x:null,y:null};return event=event.originalEvent||event||window.event,event=event.touches&&event.touches.length?event.touches[0]:event.changedTouches&&event.changedTouches.length?event.changedTouches[0]:event,event.pageX?(result.x=event.pageX,result.y=event.pageY):(result.x=event.clientX,result.y=event.clientY),result},Owl.prototype.difference=function(first,second){return{x:first.x-second.x,y:first.y-second.y}},$.fn.owlCarousel=function(option){var args=Array.prototype.slice.call(arguments,1);return this.each(function(){var $this=$(this),data=$this.data("owl.carousel");data||(data=new Owl(this,typeof option=="object"&&option),$this.data("owl.carousel",data),$.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(i,event){data.register({type:Owl.Type.Event,name:event}),data.$element.on(event+".owl.carousel.core",$.proxy(function(e){e.namespace&&e.relatedTarget!==this&&(this.suppress([event]),data[event].apply(this,[].slice.call(arguments,1)),this.release([event]))},data))})),typeof option=="string"&&option.charAt(0)!=="_"&&data[option].apply(data,args)})},$.fn.owlCarousel.Constructor=Owl}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoRefresh=function(carousel){this._core=carousel,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=$.extend({},AutoRefresh.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoRefresh.Defaults={autoRefresh:!0,autoRefreshInterval:500},AutoRefresh.prototype.watch=function(){if(this._interval)return;this._visible=this._core.$element.is(":visible"),this._interval=window.setInterval($.proxy(this.refresh,this),this._core.settings.autoRefreshInterval)},AutoRefresh.prototype.refresh=function(){if(this._core.$element.is(":visible")===this._visible)return;this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh()},AutoRefresh.prototype.destroy=function(){var handler,property;window.clearInterval(this._interval);for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoRefresh=AutoRefresh}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Lazy=function(carousel){this._core=carousel,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel":$.proxy(function(e){if(!e.namespace)return;if(!this._core.settings||!this._core.settings.lazyLoad)return;if(e.property&&e.property.name=="position"||e.type=="initialized"){var settings=this._core.settings,n=settings.center&&Math.ceil(settings.items/2)||settings.items,i=settings.center&&n*-1||0,position=(e.property&&e.property.value||this._core.current())+i,clones=this._core.clones().length,load=$.proxy(function(i,v){this.load(v)},this);while(i++<n)this.load(clones/2+this._core.relative(position)),clones&&$.each(this._core.clones(this._core.relative(position)),load),position++}},this)},this._core.options=$.extend({},Lazy.Defaults,this._core.options),this._core.$element.on(this._handlers)};Lazy.Defaults={lazyLoad:!1},Lazy.prototype.load=function(position){var $item=this._core.$stage.children().eq(position),$elements=$item&&$item.find(".owl-lazy");if(!$elements||$.inArray($item.get(0),this._loaded)>-1)return;$elements.each($.proxy(function(index,element){var $element=$(element),image,url=window.devicePixelRatio>1&&$element.attr("data-src-retina")||$element.attr("data-src");this._core.trigger("load",{element:$element,url:url},"lazy"),$element.is("img")?$element.one("load.owl.lazy",$.proxy(function(){$element.css("opacity",1),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this)).attr("src",url):(image=new Image,image.onload=$.proxy(function(){$element.css({"background-image":"url("+url+")",opacity:"1"}),this._core.trigger("loaded",{element:$element,url:url},"lazy")},this),image.src=url)},this)),this._loaded.push($item.get(0))},Lazy.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this._core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Lazy=Lazy}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var AutoHeight=function(carousel){this._core=carousel,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.property.name=="position"&&this.update()},this),"loaded.owl.lazy":$.proxy(function(e){e.namespace&&this._core.settings.autoHeight&&e.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=$.extend({},AutoHeight.Defaults,this._core.options),this._core.$element.on(this._handlers)};AutoHeight.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},AutoHeight.prototype.update=function(){var start=this._core._current,end=start+this._core.settings.items,visible=this._core.$stage.children().toArray().slice(start,end);heights=[],maxheight=0,$.each(visible,function(index,item){heights.push($(item).height())}),maxheight=Math.max.apply(null,heights),this._core.$stage.parent().height(maxheight).addClass(this._core.settings.autoHeightClass)},AutoHeight.prototype.destroy=function(){var handler,property;for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.AutoHeight=AutoHeight}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Video=function(carousel){this._core=carousel,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.video&&this.isInFullScreen()&&e.preventDefault()},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name==="position"&&this._playing&&this.stop()},this),"prepared.owl.carousel":$.proxy(function(e){if(!e.namespace)return;var $element=$(e.content).find(".owl-video");$element.length&&($element.css("display","none"),this.fetch($element,$(e.content)))},this)},this._core.options=$.extend({},Video.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",$.proxy(function(e){this.play(e)},this))};Video.Defaults={video:!1,videoHeight:!1,videoWidth:!1},Video.prototype.fetch=function(target,item){var type=target.attr("data-vimeo-id")?"vimeo":"youtube",id=target.attr("data-vimeo-id")||target.attr("data-youtube-id"),width=target.attr("data-width")||this._core.settings.videoWidth,height=target.attr("data-height")||this._core.settings.videoHeight,url=target.attr("href");if(!url)throw new Error("Missing video URL.");id=url.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/);if(id[3].indexOf("youtu")>-1)type="youtube";else{if(!(id[3].indexOf("vimeo")>-1))throw new Error("Video URL not supported.");type="vimeo"}id=id[6],this._videos[url]={type:type,id:id,width:width,height:height},item.attr("data-video",url),this.thumbnail(target,this._videos[url])},Video.prototype.thumbnail=function(target,video){var tnLink,icon,path,dimensions=video.width&&video.height?'style="width:'+video.width+"px;height:"+video.height+'px;"':"",customTn=target.find("img"),srcType="src",lazyClass="",settings=this._core.settings,create=function(path){icon='<div class="owl-video-play-icon"></div>',settings.lazyLoad?tnLink='<div class="owl-video-tn '+lazyClass+'" '+srcType+'="'+path+'"></div>':tnLink='<div class="owl-video-tn" style="opacity:1;background-image:url('+path+')"></div>',target.after(tnLink),target.after(icon)};target.wrap('<div class="owl-video-wrapper"'+dimensions+"></div>"),this._core.settings.lazyLoad&&(srcType="data-src",lazyClass="owl-lazy");if(customTn.length)return create(customTn.attr(srcType)),customTn.remove(),!1;video.type==="youtube"?(path="//img.youtube.com/vi/"+video.id+"/hqdefault.jpg",create(path)):video.type==="vimeo"&&$.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+video.id+".json",jsonp:"callback",dataType:"jsonp",success:function(data){path=data[0].thumbnail_large,create(path)}})},Video.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},Video.prototype.play=function(event){var target=$(event.target),item=target.closest("."+this._core.settings.itemClass),video=this._videos[item.attr("data-video")],width=video.width||"100%",height=video.height||this._core.$stage.height(),html;if(this._playing)return;this._core.enter("playing"),this._core.trigger("play",null,"video"),item=this._core.items(this._core.relative(item.index())),this._core.reset(item.index()),video.type==="youtube"?html='<iframe width="'+width+'" height="'+height+'" src="//www.youtube.com/embed/'+video.id+"?autoplay=1&v="+video.id+'" frameborder="0" allowfullscreen></iframe>':video.type==="vimeo"&&(html='<iframe src="//player.vimeo.com/video/'+video.id+'?autoplay=1" width="'+width+'" height="'+height+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),$('<div class="owl-video-frame">'+html+"</div>").insertAfter(item.find(".owl-video")),this._playing=item.addClass("owl-video-playing")},Video.prototype.isInFullScreen=function(){var element=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;return element&&$(element).parent().hasClass("owl-video-frame")},Video.prototype.destroy=function(){var handler,property;this._core.$element.off("click.owl.video");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Video=Video}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Animate=function(scope){this.core=scope,this.core.options=$.extend({},Animate.Defaults,this.core.options),this.swapping=!0,this.previous=undefined,this.next=undefined,this.handlers={"change.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name=="position"&&(this.previous=this.core.current(),this.next=e.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":$.proxy(function(e){e.namespace&&(this.swapping=e.type=="translated")},this),"translate.owl.carousel":$.proxy(function(e){e.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};Animate.Defaults={animateOut:!1,animateIn:!1},Animate.prototype.swap=function(){if(this.core.settings.items!==1)return;if(!$.support.animation||!$.support.transition)return;this.core.speed(0);var left,clear=$.proxy(this.clear,this),previous=this.core.$stage.children().eq(this.previous),next=this.core.$stage.children().eq(this.next),incoming=this.core.settings.animateIn,outgoing=this.core.settings.animateOut;if(this.core.current()===this.previous)return;outgoing&&(left=this.core.coordinates(this.previous)-this.core.coordinates(this.next),previous.css({left:left+"px"}).addClass("animated owl-animated-out").addClass(outgoing).on($.support.animation.end,clear)),incoming&&next.addClass("animated owl-animated-in").addClass(incoming).on($.support.animation.end,clear)},Animate.prototype.clear=function(e){$(e.target).hasClass("animated")&&($(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd())},Animate.prototype.destroy=function(){var handler,property;for(handler in this.handlers)this.core.$element.off(handler,this.handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Animate=Animate}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){var Autoplay=function(carousel){this._core=carousel,this._interval=null,this._paused=!1,this._handlers={"changed.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name==="settings"&&(this._core.settings.autoplay?this.play():this.stop())},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":$.proxy(function(e,t,s){e.namespace&&this.play(t,s)},this),"stop.owl.autoplay":$.proxy(function(e){e.namespace&&this.stop()},this),"mouseover.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":$.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=$.extend({},Autoplay.Defaults,this._core.options)};Autoplay.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},Autoplay.prototype.play=function(timeout,speed){this._paused=!1;if(this._core.is("rotating"))return;this._core.enter("rotating"),this._interval=window.setInterval($.proxy(function(){if(this._paused||this._core.is("busy")||this._core.is("interacting")||document.hidden)return;this._core.next(speed||this._core.settings.autoplaySpeed)},this),timeout||this._core.settings.autoplayTimeout)},Autoplay.prototype.stop=function(){if(!this._core.is("rotating"))return;window.clearInterval(this._interval),this._core.leave("rotating")},Autoplay.prototype.pause=function(){if(!this._core.is("rotating"))return;this._paused=!0},Autoplay.prototype.destroy=function(){var handler,property;this.stop();for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.autoplay=Autoplay}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Navigation=function(carousel){this._core=carousel,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+$(e.content).find("[data-dot]").andSelf("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,0,this._templates.pop())},this),"remove.owl.carousel":$.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.splice(e.position,1)},this),"changed.owl.carousel":$.proxy(function(e){e.namespace&&e.property.name=="position"&&this.draw()},this),"initialized.owl.carousel":$.proxy(function(e){e.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":$.proxy(function(e){e.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=$.extend({},Navigation.Defaults,this._core.options),this.$element.on(this._handlers)};Navigation.Defaults={nav:!1,navText:["prev","next"],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},Navigation.prototype.initialize=function(){var override,settings=this._core.settings;this._controls.$relative=(settings.navContainer?$(settings.navContainer):$("<div>").addClass(settings.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=$("<"+settings.navElement+">").addClass(settings.navClass[0]).html(settings.navText[0]).prependTo(this._controls.$relative).on("click",$.proxy(function(e){this.prev(settings.navSpeed)},this)),this._controls.$next=$("<"+settings.navElement+">").addClass(settings.navClass[1]).html(settings.navText[1]).appendTo(this._controls.$relative).on("click",$.proxy(function(e){this.next(settings.navSpeed)},this)),settings.dotsData||(this._templates=[$("<div>").addClass(settings.dotClass).append($("<span>")).prop("outerHTML")]),this._controls.$absolute=(settings.dotsContainer?$(settings.dotsContainer):$("<div>").addClass(settings.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",$.proxy(function(e){var index=$(e.target).parent().is(this._controls.$absolute)?$(e.target).index():$(e.target).parent().index();e.preventDefault(),this.to(index,settings.dotsSpeed)},this));for(override in this._overrides)this._core[override]=$.proxy(this[override],this)},Navigation.prototype.destroy=function(){var handler,control,property,override;for(handler in this._handlers)this.$element.off(handler,this._handlers[handler]);for(control in this._controls)this._controls[control].remove();for(override in this.overides)this._core[override]=this._overrides[override];for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},Navigation.prototype.update=function(){var i,j,k,lower=this._core.clones().length/2,upper=lower+this._core.items().length,maximum=this._core.maximum(!0),settings=this._core.settings,size=settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items;settings.slideBy!=="page"&&(settings.slideBy=Math.min(settings.slideBy,settings.items));if(settings.dots||settings.slideBy=="page"){this._pages=[];for(i=lower,j=0,k=0;i<upper;i++){if(j>=size||j===0){this._pages.push({start:Math.min(maximum,i-lower),end:i-lower+size-1});if(Math.min(maximum,i-lower)===maximum)break;j=0,++k}j+=this._core.mergers(this._core.relative(i))}}},Navigation.prototype.draw=function(){var difference,settings=this._core.settings,disabled=this._core.items().length<=settings.items,index=this._core.relative(this._core.current()),loop=settings.loop||settings.rewind;this._controls.$relative.toggleClass("disabled",!settings.nav||disabled),settings.nav&&(this._controls.$previous.toggleClass("disabled",!loop&&index<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!loop&&index>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!settings.dots||disabled),settings.dots&&(difference=this._pages.length-this._controls.$absolute.children().length,settings.dotsData&&difference!==0?this._controls.$absolute.html(this._templates.join("")):difference>0?this._controls.$absolute.append((new Array(difference+1)).join(this._templates[0])):difference<0&&this._controls.$absolute.children().slice(difference).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq($.inArray(this.current(),this._pages)).addClass("active"))},Navigation.prototype.onTrigger=function(event){var settings=this._core.settings;event.page={index:$.inArray(this.current(),this._pages),count:this._pages.length,size:settings&&(settings.center||settings.autoWidth||settings.dotsData?1:settings.dotsEach||settings.items)}},Navigation.prototype.current=function(){var current=this._core.relative(this._core.current());return $.grep(this._pages,$.proxy(function(page,index){return page.start<=current&&page.end>=current},this)).pop()},Navigation.prototype.getPosition=function(successor){var position,length,settings=this._core.settings;return settings.slideBy=="page"?(position=$.inArray(this.current(),this._pages),length=this._pages.length,successor?++position:--position,position=this._pages[(position%length+length)%length].start):(position=this._core.relative(this._core.current()),length=this._core.items().length,successor?position+=settings.slideBy:position-=settings.slideBy),position},Navigation.prototype.next=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!0),speed)},Navigation.prototype.prev=function(speed){$.proxy(this._overrides.to,this._core)(this.getPosition(!1),speed)},Navigation.prototype.to=function(position,speed,standard){var length;standard?$.proxy(this._overrides.to,this._core)(position,speed):(length=this._pages.length,$.proxy(this._overrides.to,this._core)(this._pages[(position%length+length)%length].start,speed))},$.fn.owlCarousel.Constructor.Plugins.Navigation=Navigation}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){"use strict";var Hash=function(carousel){this._core=carousel,this._hashes={},this.$element=this._core.$element,this._handlers={"prepared.owl.carousel":$.proxy(function(e){if(e.namespace){var hash=$(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!hash)return;this._hashes[hash]=e.content}},this),"changed.owl.carousel":$.proxy(function(e){if(e.namespace&&e.property.name==="position"){var current=this._core.items(this._core.relative(this._core.current())),hash=$.map(this._hashes,function(item,hash){return item===current?hash:null}).join();if(!hash||window.location.hash.slice(1)===hash)return;window.location.hash=hash}},this)},this._core.options=$.extend({},Hash.Defaults,this._core.options),this.$element.on(this._handlers)};Hash.Defaults={URLhashListener:!1},Hash.prototype.destroy=function(){var handler,property;$(window).off("hashchange.owl.navigation");for(handler in this._handlers)this._core.$element.off(handler,this._handlers[handler]);for(property in Object.getOwnPropertyNames(this))typeof this[property]!="function"&&(this[property]=null)},$.fn.owlCarousel.Constructor.Plugins.Hash=Hash}(window.Zepto||window.jQuery,window,document),function($,window,document,undefined){function test(property,prefixed){var result=!1,upper=property.charAt(0).toUpperCase()+property.slice(1);return $.each((property+" "+prefixes.join(upper+" ")+upper).split(" "),function(i,property){if(style[property]!==undefined)return result=prefixed?property:!0,!1}),result}function prefixed(property){return test(property,!0)}var style=$("<support>").get(0).style,prefixes="Webkit Moz O ms".split(" "),events={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},tests={csstransforms:function(){return!!test("transform")},csstransforms3d:function(){return!!test("perspective")},csstransitions:function(){return!!test("transition")},cssanimations:function(){return!!test("animation")}};tests.csstransitions()&&($.support.transition=new String(prefixed("transition")),$.support.transition.end=events.transition.end[$.support.transition]),tests.cssanimations()&&($.support.animation=new String(prefixed("animation")),$.support.animation.end=events.animation.end[$.support.animation]),tests.csstransforms()&&($.support.transform=new String(prefixed("transform")),$.support.transform3d=tests.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(window,document,undefined){var absPos=function(element){var offsetLeft,offsetTop;offsetLeft=offsetTop=0;if(element.offsetParent)do offsetLeft+=element.offsetLeft,offsetTop+=element.offsetTop;while(element=element.offsetParent);return[offsetLeft,offsetTop]},ProgressCircle=function(params){this.canvas=params.canvas,this.minRadius=params.minRadius||15,this.arcWidth=params.arcWidth||5,this.gapWidth=params.gapWidth||3,this.centerX=params.centerX||this.canvas.width/2,this.centerY=params.centerY||this.canvas.height/2,this.infoLineLength=params.infoLineLength||60,this.horizLineLength=params.horizLineLength||10,this.infoLineAngleInterval=params.infoLineAngleInterval||Math.PI/8,this.infoLineBaseAngle=params.infoLineBaseAngle||Math.PI/6,this.context=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.circles=[],this.runningCount=0};ProgressCircle.prototype={constructor:ProgressCircle,addEntry:function(params){return this.circles.push(new Circle({canvas:this.canvas,context:this.context,centerX:this.centerX,centerY:this.centerY,innerRadius:this.minRadius+this.circles.length*(this.gapWidth+this.arcWidth),arcWidth:this.arcWidth,infoLineLength:this.infoLineLength,horizLineLength:this.horizLineLength,id:this.circles.length,fillColor:params.fillColor,outlineColor:params.outlineColor,progressListener:params.progressListener,infoListener:params.infoListener,infoLineAngle:this.infoLineBaseAngle+this.circles.length*this.infoLineAngleInterval})),this},start:function(interval){var self=this;return this.timer=setInterval(function(){self._update()},interval||33),this},stop:function(){clearTimeout(this.timer)},_update:function(){return this._clear(),this.circles.forEach(function(circle,idx,array){circle.update()}),this},_clear:function(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this}};var Circle=function(params){this.id=params.id,this.canvas=params.canvas,this.context=params.context,this.centerX=params.centerX,this.centerY=params.centerY,this.arcWidth=params.arcWidth,this.innerRadius=params.innerRadius||0,this.fillColor=params.fillColor||"#fff",this.outlineColor=params.outlineColor||this.fillColor,this.progressListener=params.progressListener,this.infoLineLength=params.infoLineLength||250,this.horizLineLength=params.horizLineLength||50,this.infoListener=params.infoListener,this.infoLineAngle=params.infoLineAngle,this.outerRadius=this.innerRadius+this.arcWidth;if(!this.infoListener)return;var angle=this.infoLineAngle,arcDistance=(this.innerRadius+this.outerRadius)/2,sinA=Math.sin(angle),cosA=Math.cos(angle);this.infoLineStartX=this.centerX+sinA*arcDistance,this.infoLineStartY=this.centerY-cosA*arcDistance,this.infoLineMidX=this.centerX+sinA*this.infoLineLength,this.infoLineMidY=this.centerY-cosA*this.infoLineLength,this.infoLineEndX=this.infoLineMidX+(sinA<0?-this.horizLineLength:this.horizLineLength),this.infoLineEndY=this.infoLineMidY;var infoText=document.createElement("div"),style=infoText.style;style.color=this.fillColor,style.position="absolute",style.left=this.infoLineEndX+absPos(this.canvas)[0]+"px",infoText.className="ProgressCircleInfo",infoText.id="progress_circle_info_"+this.id,document.body.appendChild(infoText),this.infoText=infoText};Circle.prototype={constructor:Circle,update:function(){this.progress=this.progressListener(),this._draw(),this.infoListener&&(this.info=this.infoListener(),this._drawInfo())},_draw:function(){var ctx=this.context,ANGLE_OFFSET=-Math.PI/2,startAngle=0+ANGLE_OFFSET,endAngle=startAngle+this.progress*Math.PI*2,x=this.centerX,y=this.centerY,innerRadius=this.innerRadius-this.arcWidth-1,outerRadius=this.outerRadius-this.arcWidth-1;if(innerRadius<0)return;return ctx.fillStyle=this.fillColor,ctx.strokeStyle=this.outlineColor,ctx.beginPath(),ctx.arc(x,y,innerRadius,startAngle,endAngle,!1),ctx.arc(x,y,outerRadius,endAngle,startAngle,!0),ctx.closePath(),ctx.stroke(),ctx.fill(),this},_drawInfo:function(){var pointList,lineHeight;return pointList=[[this.infoLineStartX,this.infoLineStartY],[this.infoLineMidX,this.infoLineMidY],[this.infoLineEndX,this.infoLineEndY]],this._drawSegments(pointList,!1),this.infoText.innerHTML=this.info,lineHeight=this.infoText.offsetHeight,this.infoText.style.top=this.infoLineEndY+absPos(this.canvas)[1]-lineHeight/2+"px",this},_drawSegments:function(pointList,close){var ctx=this.context;ctx.beginPath(),ctx.moveTo(pointList[0][0],pointList[0][1]);for(var i=1;i<pointList.length;++i)ctx.lineTo(pointList[i][0],pointList[i][1]);close&&ctx.closePath(),ctx.stroke()}},window.ProgressCircle=ProgressCircle}(window,document),function($){var VcChart=function(element,options){this.el=element,this.$el=$(this.el);var $this=this;$this.options=$.extend({color:"wpb_button",units:"",width:"",label_selector:".vc_pie_chart_value",back_selector:".vc_pie_chart_back",responsive:!0},options),$this.init()};VcChart.prototype={constructor:VcChart,_progress_v:0,animated:!1,colors:{wpb_button:"rgba(247, 247, 247, 1)","btn-primary":"rgba(0, 136, 204, 1)","btn-info":"rgba(88, 185, 218, 1)","btn-success":"rgba(106, 177, 101, 1)","btn-warning":"rgba(255, 153, 0, 1)","btn-danger":"rgba(255, 103, 91, 1)","btn-inverse":"rgba(85, 85, 85, 1)"},init:function(){this.setupColor(),this.value=this.$el.data("pie-value")/100,this.label_value=this.$el.data("pie-label-value")||this.$el.data("pie-value"),this.$wrapper=$(".vc_pie_wrapper",this.$el),this.$label=$(this.options.label_selector,this.$el),this.$back=$(this.options.back_selector,this.$el),this.$canvas=this.$el.find("canvas"),this.arcWidth=this.$el.data("pie-width")*2,this.draw(),this.setWayPoint(),this.options.responsive===!0&&this.setResponsive(),UNCODE.isMobile&&(this._progress_v=this.value)},setupColor:function(){typeof this.options.color!="undefined"?this.color=this.options.color:this.color="rgba(247, 247, 247, 0.2)"},setResponsive:function(){var that=this;UNCODE.isMobile||$(window).resize(function(){that.animated===!0&&that.circle.stop(),that.draw(!0)})},draw:function(redraw){var w=this.$el.addClass("vc_ready").width()*2,border_w=this.arcWidth,radius;w||(w=this.$el.parents(":visible").first().width()-2),radius=w/2,this.$wrapper.css({width:w/2+"px"}),this.$label.css({width:w/2,height:w/2,"line-height":w/2+"px"}),this.$back.css({width:w/2,height:w/2}),this.$canvas.attr({width:w+"px",height:w+"px"}),this.$el.addClass("vc_ready"),this.circle=new ProgressCircle({canvas:this.$canvas.get(0),minRadius:radius,arcWidth:border_w}),redraw===!0&&this.animated===!0&&(this._progress_v=this.value,this.circle.addEntry({fillColor:this.color,progressListener:$.proxy(this.setProgress,this)}).start())},setProgress:function(){if(this._progress_v>=this.value)return this.circle.stop(),this.animated=!0,this.$label.html(this.label_value+this.options.units),this._progress_v;this._progress_v+=.01;if(!isNaN(this.label_value)){var label_value=this._progress_v/this.value*this.label_value,val=Math.round(label_value)+this.options.units;this.$label.html(val)}else this.$label.html(this.label_value+this.options.units);return this._progress_v},animate:function(){this.animated!==!0&&this.circle.addEntry({fillColor:this.color,progressListener:$.proxy(this.setProgress,this)}).start(10)},setWayPoint:function(){typeof $.fn.waypoint!="undefined"&&!UNCODE.isMobile?this.$el.waypoint($.proxy(this.animate,this),{offset:"85%"}):this.animate()}},$.fn.vcChat=function(option,value){return this.each(function(){var $this=$(this),data=$this.data("vc_chart"),options=typeof option=="object"?option:{color:$this.data("pie-color"),units:$this.data("pie-units")};typeof option=="undefined"&&$this.data("vc_chart",data=new VcChart(this,options)),typeof option=="string"&&data[option](value)})},typeof window["vc_pieChart"]!="function"&&(window.vc_pieChart=function(){$(".vc_pie_chart:visible:not(.vc_ready)").vcChat()}),$(document).ready(function(){!window.vc_iframe&&vc_pieChart(),$(".nav-tabs a").on("shown.bs.tab",function(e){var $cont=$(e.target).closest(".tab-container"),$active=$(".tab-pane.active",$cont);$(".vc_pie_chart:not(.vc_ready)",$active).vcChat()}),$(".panel-collapse").on("shown.bs.collapse",function(e){$(".vc_pie_chart:not(.vc_ready)",e.target).vcChat()})})}(window.jQuery),uncode_progress_bar(),function($){"use strict";$.fn.counterUp=function(options){var settings=$.extend({time:400,delay:10},options);return this.each(function(){var $this=$(this),$settings=settings,counterUpper=function(){var nums=[],divisions=$settings.time/$settings.delay,numReal=$this.attr("data-val"),num=numReal,isComma=/[0-9]+,[0-9]+/.test(num);num=num.replace(/,/g,"");var isInt=/^[0-9]+$/.test(num),isFloat=/^[0-9]+\.[0-9]+$/.test(num),decimalPlaces=isFloat?(num.split(".")[1]||[]).length:0;for(var i=divisions;i>=1;i--){var newNum=parseInt(num/divisions*i);isFloat&&(newNum=parseFloat(num/divisions*i).toFixed(decimalPlaces));if(isComma)while(/(\d+)(\d{3})/.test(newNum.toString()))newNum=newNum.toString().replace(/(\d+)(\d{3})/,"$1,$2");nums.unshift(newNum)}nums.push(numReal),$this.data("counterup-nums",nums),$this.text("0");var f=function(){$this.data("counterup-nums")!=null&&($this.text($this.data("counterup-nums").shift()),$this.data("counterup-nums").length?setTimeout($this.data("counterup-func"),$settings.delay):(delete $this.data("counterup-nums"),$this.data("counterup-nums",null),$this.data("counterup-func",null)))};$this.data("counterup-func",f),setTimeout($this.data("counterup-func"),$settings.delay)};new Waypoint({context:UNCODE.isUnmodalOpen?document.getElementById("unmodal-content"):window,element:this,handler:function(){counterUpper(),UNCODE.isUnmodalOpen||this.destroy()},offset:"100%"})})}}(jQuery),function(factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],factory):factory(jQuery)}(function($){"use strict";function parseDateString(dateString){if(dateString instanceof Date)return dateString;if(String(dateString).match(matchers))return String(dateString).match(/^[0-9]*$/)&&(dateString=Number(dateString)),String(dateString).match(/\-/)&&(dateString=String(dateString).replace(/\-/g,"/")),new Date(dateString);throw new Error("Couldn't cast `"+dateString+"` to a date object.")}function escapedRegExp(str){var sanitize=str.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(sanitize)}function strftime(offsetObject){return function(format){var directives=format.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(directives)for(var i=0,len=directives.length;i<len;++i){var directive=directives[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),regexp=escapedRegExp(directive[0]),modifier=directive[1]||"",plural=directive[3]||"",value=null;directive=directive[2],DIRECTIVE_KEY_MAP.hasOwnProperty(directive)&&(value=DIRECTIVE_KEY_MAP[directive],value=Number(offsetObject[value])),value!==null&&(modifier==="!"&&(value=pluralize(plural,value)),modifier===""&&value<10&&(value="0"+value.toString()),format=format.replace(regexp,value.toString()))}return format=format.replace(/%%/,"%"),format}}function pluralize(format,count){var plural="s",singular="";return format&&(format=format.replace(/(:|;|\s)/gi,"").split(/\,/),format.length===1?plural=format[0]:(singular=format[0],plural=format[1])),Math.abs(count)>1?plural:singular}var instances=[],matchers=[],defaultOptions={precision:100,elapse:!1,defer:!1};matchers.push(/^[0-9]*$/.source),matchers.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),matchers.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),matchers=new RegExp(matchers.join("|"));var DIRECTIVE_KEY_MAP={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},Countdown=function(el,finalDate,options){this.el=el,this.$el=$(el),this.interval=null,this.offset={},this.options=$.extend({},defaultOptions),this.instanceNumber=instances.length,instances.push(this),this.$el.data("countdown-instance",this.instanceNumber),options&&(typeof options=="function"?(this.$el.on("update.countdown",options),this.$el.on("stoped.countdown",options),this.$el.on("finish.countdown",options)):this.options=$.extend({},defaultOptions,options)),this.setFinalDate(finalDate),this.options.defer===!1&&this.start()};$.extend(Countdown.prototype,{start:function(){this.interval!==null&&clearInterval(this.interval);var self=this;this.update(),this.interval=setInterval(function(){self.update.call(self)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),instances[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(value){this.finalDate=parseDateString(value)},update:function(){if(this.$el.closest("html").length===0){this.remove();return}var hasEventsAttached=$._data(this.el,"events")!==undefined,now=new Date,newTotalSecsLeft;newTotalSecsLeft=this.finalDate.getTime()-now.getTime(),newTotalSecsLeft=Math.ceil(newTotalSecsLeft/1e3),newTotalSecsLeft=!this.options.elapse&&newTotalSecsLeft<0?0:Math.abs(newTotalSecsLeft);if(this.totalSecsLeft===newTotalSecsLeft||!hasEventsAttached)return;this.totalSecsLeft=newTotalSecsLeft,this.elapsed=now>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-now.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},!this.options.elapse&&this.totalSecsLeft===0?(this.stop(),this.dispatchEvent("finish")):this.dispatchEvent("update")},dispatchEvent:function(eventName){var event=$.Event(eventName+".countdown");event.finalDate=this.finalDate,event.elapsed=this.elapsed,event.offset=$.extend({},this.offset),event.strftime=strftime(this.offset),this.$el.trigger(event)}}),$.fn.countdown=function(){var argumentsArray=Array.prototype.slice.call(arguments,0);return this.each(function(){var instanceNumber=$(this).data("countdown-instance");if(instanceNumber!==undefined){var instance=instances[instanceNumber],method=argumentsArray[0];Countdown.prototype.hasOwnProperty(method)?instance[method].apply(instance,argumentsArray.slice(1)):String(method).match(/^[$A-Z_][0-9A-Z_$]*$/i)===null?(instance.setFinalDate.call(instance,method),instance.start()):$.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,method))}else new Countdown(this,argumentsArray[0],argumentsArray[1])})}}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Share=e()}}(function(){function getStyles(config){}var define,module,exports,ShareUtils;!("classList"in document.documentElement)&&Object.defineProperty&&typeof HTMLElement!="undefined"&&Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){var ret,self,update;return update=function(fn){return function(value){var classes,index;classes=self.className.split(/\s+/),index=classes.indexOf(value),fn(classes,index,value),self.className=classes.join(" ")}},self=this,ret={add:update(function(classes,index,value){~index||classes.push(value)}),remove:update(function(classes,index){~index&&classes.splice(index,1)}),toggle:update(function(classes,index,value){~index?classes.splice(index,1):classes.push(value)}),contains:function(value){return!!~self.className.split(/\s+/).indexOf(value)},item:function(i){return self.className.split(/\s+/)[i]||null}},Object.defineProperty(ret,"length",{get:function(){return self.className.split(/\s+/).length}}),ret}}),String.prototype.to_rfc3986=function(){var tmp;return tmp=encodeURIComponent(this),tmp.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16)})},ShareUtils=function(){function ShareUtils(){}return ShareUtils.prototype.extend=function(to,from,overwrite){var hasProp,prop;for(prop in from){hasProp=to[prop]!==undefined;if(hasProp&&typeof from[prop]=="object")this.extend(to[prop],from[prop],overwrite);else if(overwrite||!hasProp)to[prop]=from[prop]}},ShareUtils.prototype.hide=function(el){return el.style.display="none"},ShareUtils.prototype.show=function(el){return el.style.display="block"},ShareUtils.prototype.has_class=function(el,class_name){return el.classList.contains(class_name)},ShareUtils.prototype.add_class=function(el,class_name){return el.classList.add(class_name)},ShareUtils.prototype.remove_class=function(el,class_name){return el.classList.remove(class_name)},ShareUtils.prototype.is_encoded=function(str){return str=str.to_rfc3986(),decodeURIComponent(str)!==str},ShareUtils.prototype.encode=function(str){return typeof str=="undefined"||this.is_encoded(str)?str:str.to_rfc3986()},ShareUtils.prototype.popup=function(url,params){var k,popup,qs,v;return params==null&&(params={}),popup={width:500,height:350},popup.top=screen.height/2-popup.height/2,popup.left=screen.width/2-popup.width/2,qs=function(){var _results;_results=[];for(k in params)v=params[k],_results.push(""+k+"="+this.encode(v));return _results}.call(this).join("&"),qs&&(qs="?"+qs),window.open(url+qs,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,left="+popup.left+",top="+popup.top+",width="+popup.width+",height="+popup.height)},ShareUtils}();var Share,__hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};return Share=function(_super){function Share(element,options){return this.element=element,this.el={head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]},this.config={enabled_networks:0,protocol:["http","https"].indexOf(window.location.href.split(":")[0])===-1?"https://":"//",url:window.location.href.replace("&","%26"),caption:null,title:this.default_title(),image:this.default_image(),description:this.default_description(),ui:{flyout:"top center",button_text:"Share",button_font:!0,icon_font:!0},networks:{twitter:{enabled:!0,url:null,title:null,description:null},facebook:{enabled:!0,load_sdk:!0,url:null,app_id:null,title:null,caption:null,description:null,image:null},pinterest:{enabled:!0,url:null,image:null,description:null},reddit:{enabled:!0,url:null,title:null},linkedin:{enabled:!0,url:null,title:null,description:null},xing:{enabled:!0,url:null,title:null,image:null,description:null},whatsapp:{enabled:!0,description:null,url:null},email:{enabled:!0,title:null,description:null,url:null}}},this.setup(element,options),this}return __extends(Share,_super),Share.prototype.setup=function(element,opts){var index,instance,instances,_i,_len;instances=document.querySelectorAll(element),this.extend(this.config,opts,!0),this.set_global_configuration(),this.normalize_network_configuration(),this.config.ui.icon_font&&this.inject_icons(),this.config.ui.button_font&&this.inject_fonts(),this.config.networks.facebook.enabled&&this.config.networks.facebook.load_sdk&&this.inject_facebook_sdk();for(index=_i=0,_len=instances.length;_i<_len;index=++_i)instance=instances[index],this.setup_instance(element,index)},Share.prototype.setup_instance=function(element,index){var button,instance,label,network,networks,_i,_len,_results,_this=this;instance=document.querySelectorAll(element)[index],this.hide(instance),this.add_class(instance,"sharer-"+index),instance=document.querySelectorAll(element)[index],this.inject_css(instance),this.inject_html(instance),this.show(instance),label=instance.getElementsByTagName("label")[0],button=instance.getElementsByClassName("social")[0],networks=instance.getElementsByTagName("li"),this.add_class(button,"networks-"+this.config.enabled_networks),label.addEventListener("click",function(){return _this.event_toggle(button)}),_this=this,_results=[];for(index=_i=0,_len=networks.length;_i<_len;index=++_i)network=networks[index],_results.push(network.addEventListener("click",function(){return _this.event_network(instance,this),_this.event_close(button)}));return _results},Share.prototype.event_toggle=function(button){return this.has_class(button,"active")?this.event_close(button):this.event_open(button)},Share.prototype.event_open=function(button){return this.has_class(button,"load")&&this.remove_class(button,"load"),this.add_class(button,"active")},Share.prototype.event_close=function(button){return this.remove_class(button,"active")},Share.prototype.event_network=function(instance,network){var name;return name=network.getAttribute("data-network"),this.hook("before",name,instance),this["network_"+name](),this.hook("after",name,instance)},Share.prototype.open=function(){return this["public"]("open")},Share.prototype.close=function(){return this["public"]("close")},Share.prototype.toggle=function(){return this["public"]("toggle")},Share.prototype["public"]=function(action){var button,index,instance,_i,_len,_ref,_results;_ref=document.querySelectorAll(this.element),_results=[];for(index=_i=0,_len=_ref.length;_i<_len;index=++_i)instance=_ref[index],button=instance.getElementsByClassName("social")[0],_results.push(this["event_"+action](button));return _results},Share.prototype.network_facebook=function(){return this.config.networks.facebook.load_sdk?window.FB?FB.ui({method:"feed",name:this.config.networks.facebook.title,link:this.config.networks.facebook.url,picture:this.config.networks.facebook.image,caption:this.config.networks.facebook.caption,description:this.config.networks.facebook.description}):console.error("The Facebook JS SDK hasn't loaded yet."):this.popup("https://www.facebook.com/sharer/sharer.php",{u:this.config.networks.facebook.url})},Share.prototype.network_twitter=function(){return this.popup("https://twitter.com/intent/tweet",{text:this.config.networks.twitter.title,url:this.config.networks.twitter.url})},Share.prototype.network_pinterest=function(){return this.popup("https://www.pinterest.com/pin/create/button",{url:this.config.networks.pinterest.url,media:this.config.networks.pinterest.image,description:this.config.networks.pinterest.description})},Share.prototype.network_linkedin=function(){return this.popup("https://www.linkedin.com/shareArticle",{url:this.config.networks.linkedin.url,title:this.config.networks.linkedin.title,summary:this.config.networks.linkedin.description})},Share.prototype.network_xing=function(){return this.popup("https://www.xing.com/spi/shares/new",{url:this.config.networks.xing.url,image:this.config.networks.xing.image,title:this.config.networks.xing.title,summary:this.config.networks.xing.description})},Share.prototype.network_email=function(){return this.popup("mailto:",{subject:this.config.networks.email.title,body:this.config.networks.email.url+"%0A%0A"+this.config.networks.email.description})},Share.prototype.inject_icons=function(){},Share.prototype.inject_fonts=function(){},Share.prototype.inject_stylesheet=function(url){var link;if(!this.el.head.querySelector('link[href="'+url+'"]'))return link=document.createElement("link"),link.setAttribute("rel","stylesheet"),link.setAttribute("href",url),this.el.head.appendChild(link)},Share.prototype.inject_css=function(instance){var css,meta,selector,style;selector="."+instance.getAttribute("class").split(" ").join(".");if(!this.el.head.querySelector("meta[name='sharer"+selector+"']"))return this.config.selector=selector,css=getStyles(this.config),style=document.createElement("style"),style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css)),this.el.head.appendChild(style),delete this.config.selector,meta=document.createElement("meta"),meta.setAttribute("name","sharer"+selector),this.el.head.appendChild(meta)},Share.prototype.inject_html=function(instance){return instance.innerHTML="<label class='social-export'><span>"+this.config.ui.button_text+"</span></label><div class='social load "+this.config.ui.flyout+"'><ul><li class='social-facebook' data-network='facebook' tabindex='0'></li><li class='social-twitter' data-network='twitter' tabindex='0'></li><li class='social-pinterest' data-network='pinterest' tabindex='0'></li><li class='social-linkedin' data-network='linkedin' tabindex='0'></li><li class='social-xing' data-network='xing' tabindex='0'></li><li class='social-paper-plane' data-network='email' tabindex='0'></li></ul></div>"},Share.prototype.inject_facebook_sdk=function(){var fb_root,script;if(!window.FB&&this.config.networks.facebook.app_id&&!this.el.body.querySelector("#fb-root"))return script=document.createElement("script"),script.text="window.fbAsyncInit=function(){FB.init({appId:'"+this.config.networks.facebook.app_id+"',status:true,xfbml:true})};(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n)){return}r=e.createElement(t);r.id=n;r.src='"+this.config.protocol+"connect.facebook.net/en_US/all.js';i.parentNode.insertBefore(r,i)})(document,'script','facebook-jssdk')",fb_root=document.createElement("div"),fb_root.id="fb-root",this.el.body.appendChild(fb_root),this.el.body.appendChild(script)},Share.prototype.hook=function(type,network,instance){var fn,opts;fn=this.config.networks[network][type],typeof fn=="function"&&(opts=fn.call(this.config.networks[network],instance),opts!==void 0&&(opts=this.normalize_filter_config_updates(opts),this.extend(this.config.networks[network],opts,!0),this.normalize_network_configuration()))},Share.prototype.default_title=function(){var content;if(content=document.querySelector('meta[property="og:title"]')||document.querySelector('meta[name="twitter:title"]'))return encodeURIComponent(content.getAttribute("content"));if(content=document.querySelector("title"))return encodeURIComponent(content.innerText)},Share.prototype.default_image=function(){var content;if(content=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))return content.getAttribute("content")},Share.prototype.default_description=function(){var content;return(content=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?encodeURIComponent(content.getAttribute("content")):""},Share.prototype.set_global_configuration=function(){var display,network,option,options,_ref,_results;_ref=this.config.networks,_results=[];for(network in _ref){options=_ref[network];for(option in options)this.config.networks[network][option]==null&&(this.config.networks[network][option]=this.config[option]);this.config.networks[network].enabled?(display="block",this.config.enabled_networks+=1):display="none",_results.push(this.config.networks[network].display=display)}return _results},Share.prototype.normalize_network_configuration=function(){this.config.networks.facebook.app_id||(this.config.networks.facebook.load_sdk=!1),this.is_encoded(this.config.networks.twitter.description)||(this.config.networks.twitter.description=encodeURIComponent(this.config.networks.twitter.description));if(typeof this.config.networks.facebook.app_id=="number")return this.config.networks.facebook.app_id=this.config.networks.facebook.app_id.toString()},Share.prototype.normalize_filter_config_updates=function(opts){return this.config.networks.facebook.app_id!==opts.app_id&&(console.warn("You are unable to change the Facebook app_id after the button has been initialized. Please-in-out update your Facebook filters accordingly."),delete opts.app_id),this.config.networks.facebook.load_sdk!==opts.load_sdk&&(console.warn("You are unable to change the Facebook load_sdk option after the button has been initialized. Please-in-out update your Facebook filters accordingly."),delete opts.app_id),opts},Share}(ShareUtils),Share}),function(){var $,win;$=this.jQuery||window.jQuery,win=$(window),$.fn.stick_in_parent=function(opts){var doc,elm,enable_bottoming,fn,i,inner_scrolling,len,manual_spacer,offset_top,outer_width,parent_selector,recalc_every,sticky_class;opts==null&&(opts={}),sticky_class=opts.sticky_class,inner_scrolling=opts.inner_scrolling,recalc_every=opts.recalc_every,parent_selector=opts.parent,offset_top=opts.offset_top,manual_spacer=opts.spacer,enable_bottoming=opts.bottoming,offset_top==null&&(offset_top=0),parent_selector==null&&(parent_selector=void 0),inner_scrolling==null&&(inner_scrolling=!0),sticky_class==null&&(sticky_class="is_stuck"),doc=$(document),enable_bottoming==null&&(enable_bottoming=!0),outer_width=function(el){var _el,computed,w;return window.getComputedStyle?(_el=el[0],computed=window.getComputedStyle(el[0]),w=parseFloat(computed.getPropertyValue("width"))+parseFloat(computed.getPropertyValue("margin-left"))+parseFloat(computed.getPropertyValue("margin-right")),computed.getPropertyValue("box-sizing")!=="border-box"&&(w+=parseFloat(computed.getPropertyValue("border-left-width"))+parseFloat(computed.getPropertyValue("border-right-width"))+parseFloat(computed.getPropertyValue("padding-left"))+parseFloat(computed.getPropertyValue("padding-right"))),w):el.outerWidth(!0)},fn=function(elm,padding_bottom,parent_top,parent_height,top,height,el_float,detached){var bottomed,detach,fixed,last_pos,last_scroll_height,offset,parent,recalc,recalc_and_tick,recalc_counter,spacer,tick;if(elm.data("sticky_kit"))return;elm.data("sticky_kit",!0),last_scroll_height=doc.height(),parent=elm.parent(),parent_selector!=null&&(parent=parent.closest(parent_selector));if(!parent.length)throw"failed to find stick parent";fixed=!1,bottomed=!1,spacer=manual_spacer!=null?manual_spacer&&elm.closest(manual_spacer):$("<div />"),spacer&&spacer.css("position",elm.css("position")),recalc=function(){var border_top,padding_top,restore;if(detached)return;last_scroll_height=doc.height(),border_top=parseInt(parent.css("border-top-width"),10),padding_top=parseInt(parent.css("padding-top"),10),padding_bottom=parseInt(parent.css("padding-bottom"),10),parent_top=parent.offset().top+border_top+padding_top,parent_height=parent.height(),fixed&&(fixed=!1,bottomed=!1,manual_spacer==null&&(elm.insertAfter(spacer),spacer.detach()),elm.css({position:"",top:"",width:"",bottom:""}).removeClass(sticky_class),restore=!0),top=elm.offset().top-(parseInt(elm.css("margin-top"),10)||0)-offset_top,height=elm.outerHeight(!0),el_float=elm.css("float"),spacer&&spacer.css({width:outer_width(elm),height:height,display:elm.css("display"),"vertical-align":elm.css("vertical-align"),"float":el_float});if(restore)return tick()},recalc();if(height===parent_height)return;return last_pos=void 0,offset=offset_top,recalc_counter=recalc_every,tick=function(){var css,delta,recalced,scroll,will_bottom,win_height;if(detached)return;recalced=!1,recalc_counter!=null&&(recalc_counter-=1,recalc_counter<=0&&(recalc_counter=recalc_every,recalc(),recalced=!0)),!recalced&&doc.height()!==last_scroll_height&&(recalc(),recalced=!0),scroll=win.scrollTop(),last_pos!=null&&(delta=scroll-last_pos),last_pos=scroll,fixed?(enable_bottoming&&(will_bottom=scroll+height+offset>parent_height+parent_top,bottomed&&!will_bottom&&(bottomed=!1,elm.css({position:"fixed",bottom:"",top:offset}).trigger("sticky_kit:unbottom"))),scroll<top&&(fixed=!1,offset=offset_top,manual_spacer==null&&((el_float==="left"||el_float==="right")&&elm.insertAfter(spacer),spacer.detach()),css={position:"",width:"",top:""},elm.css(css).removeClass(sticky_class).trigger("sticky_kit:unstick")),inner_scrolling&&(win_height=win.height(),height+offset_top>win_height&&(bottomed||(offset-=delta,offset=Math.max(win_height-height,offset),offset=Math.min(offset_top,offset),fixed&&elm.css({top:offset+"px"}))))):scroll>top&&(fixed=!0,css={position:"fixed",top:offset},css.width=elm.css("box-sizing")==="border-box"?elm.outerWidth()+"px":elm.width()+"px",elm.css(css).addClass(sticky_class),manual_spacer==null&&(elm.after(spacer),(el_float==="left"||el_float==="right")&&spacer.append(elm)),elm.trigger("sticky_kit:stick"));if(fixed&&enable_bottoming){will_bottom==null&&(will_bottom=scroll+height+offset>parent_height+parent_top);if(!bottomed&&will_bottom)return bottomed=!0,parent.css("position")==="static"&&parent.css({position:"relative"}),elm.css({position:"absolute",bottom:padding_bottom,top:"auto"}).trigger("sticky_kit:bottom")}},recalc_and_tick=function(){return recalc(),tick()},detach=function(){detached=!0,win.off("touchmove",tick),win.off("scroll",tick),win.off("resize",recalc_and_tick),$(document.body).off("sticky_kit:recalc",recalc_and_tick),elm.off("sticky_kit:detach",detach),elm.removeData("sticky_kit"),elm.css({position:"",bottom:"",top:"",width:""}),parent.position("position","");if(fixed)return manual_spacer==null&&((el_float==="left"||el_float==="right")&&elm.insertAfter(spacer),spacer.remove()),elm.removeClass(sticky_class)},win.on("touchmove",tick),win.on("scroll",tick),win.on("resize",recalc_and_tick),$(document.body).on("sticky_kit:recalc",recalc_and_tick),elm.on("sticky_kit:detach",detach),setTimeout(tick,0)};for(i=0,len=this.length;i<len;i++)elm=this[i],fn($(elm));return this}}.call(this),BootstrapTabHistory={options:{defaultAnchorYOffset:0,defaultChanger:"replace",defaultUpdateURL:!1,showTabsBasedOnAnchor:!0}},function(){"use strict";function backfillHistoryState(){var newState=null;jQuery("li.active > [data-tab-history], .panel-title.active [data-tab-history]").each(function(){var $activeTabElement=jQuery(this),selector=getTabSelector($activeTabElement);if(selector){var tabGroup=getTabGroup($activeTabElement);tabGroup&&(newState=createNewHistoryState(newState||history.state,tabGroup,selector))}}),newState&&history.replaceState(newState,"",null)}function createNewHistoryState(existingState,tabGroup,selector){var newState=jQuery.extend(!0,{},existingState,{bootstrapTabHistory:{}});return newState.bootstrapTabHistory[tabGroup]=selector,newState}function getTabGroup($tab){return parseTruthyAttributeValue($tab.data("tab-history"))}function getTabSelector($tab){return $tab.data("target")||$tab.attr("href")}function onShownTab(shownEvt){if(!showingTabsBasedOnState){var $activatedTab=jQuery(shownEvt.target);$activatedTab.hasClass("panel-collapse")&&($activatedTab=$activatedTab.closest(".panel").find("a"));var selector=getTabSelector($activatedTab);if(selector){var tabGroup=getTabGroup($activatedTab);if(tabGroup){var historyChanger=$activatedTab.data("tab-history-changer")||BootstrapTabHistory.options.defaultChanger,newState=createNewHistoryState(history.state,tabGroup,selector),updateURL=function($activatedTab){if(selector[0]==="#"){var elementUpdateURLOption=parseTruthyAttributeValue($activatedTab.data("tab-history-update-url"));return elementUpdateURLOption===undefined?BootstrapTabHistory.options.defaultUpdateURL:elementUpdateURLOption}return!1}($activatedTab);switch(historyChanger){case"push":history.pushState(newState,"",updateURL?selector:null);break;case"replace":history.replaceState(newState,"",updateURL?selector:null);break;default:throw new Error("Unknown tab-history-changer: "+historyChanger)}}}}}function onPopState(){var bootstrapTabHistory=history.state&&history.state.bootstrapTabHistory;bootstrapTabHistory&&showTabsBasedOnState(bootstrapTabHistory)}function parseTruthyAttributeValue(value){return value?value:value===""?!0:value}function showTabsBasedOnAnchor(){if(BootstrapTabHistory.options.showTabsBasedOnAnchor){var anchor=window.location&&window.location.hash;if(anchor){var $tabElement=showTabForSelector(anchor);if($tabElement&&window.addEventListener&&window.removeEventListener){var anchorYOffset=function($tabElement){var elementSetting=$tabElement.data("tab-history-anchor-y-offset");return elementSetting===undefined?BootstrapTabHistory.options.defaultAnchorYOffset:elementSetting}($tabElement);if(anchorYOffset||anchorYOffset===0){var scrollListener=function resetAnchorScroll(){window.removeEventListener("scroll",scrollListener),window.scrollTo(0,anchorYOffset)};window.addEventListener("scroll",scrollListener)}}}}}function showTabForSelector(selector){var $tabElement=function(selector){var $ret=null;return jQuery('[data-toggle="tab"], [data-toggle="pill"], [data-toggle="collapse"]').each(function(){var $potentialTab=jQuery(this);return $potentialTab.attr("href")!==selector&&$potentialTab.data("target")!==selector||!getTabGroup($potentialTab)?null:($ret=$potentialTab,!1)}),$ret}(selector);return $tabElement&&$tabElement.trigger("click"),$tabElement}function showTabsBasedOnState(bootstrapTabHistory){showingTabsBasedOnState=!0;try{for(var k in bootstrapTabHistory)bootstrapTabHistory.hasOwnProperty(k)&&showTabForSelector(bootstrapTabHistory[k])}finally{showingTabsBasedOnState=!1}}jQuery(function(){if(history&&history.pushState&&history.replaceState){var bootstrapTabHistory=history.state&&history.state.bootstrapTabHistory;bootstrapTabHistory?showTabsBasedOnState(bootstrapTabHistory):showTabsBasedOnAnchor(),backfillHistoryState(),jQuery(document).on("shown.bs.tab show.bs.collapse",onShownTab),jQuery(window).on("popstate",onPopState)}else showTabsBasedOnAnchor()});var showingTabsBasedOnState=!1}(),function(factory){typeof define=="function"&&define.amd?define(["jquery"],factory):typeof module=="object"&&module.exports?module.exports=function(root,jQuery){return jQuery===undefined&&(typeof window!="undefined"?jQuery=require("jquery"):jQuery=require("jquery")(root)),factory(jQuery),jQuery}:factory(jQuery)}(function($){var JustifiedGallery=function($gallery,settings){this.settings=settings,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=settings.border>=0?settings.border:settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:$('<div class="jg-spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.scrollBarOn=!1,this.checkWidthIntervalId=null,this.galleryWidth=$gallery.width(),this.$gallery=$gallery};JustifiedGallery.prototype.getSuffix=function(width,height){var longestSide,i;longestSide=width>height?width:height;for(i=0;i<this.suffixRanges.length;i++)if(longestSide<=this.suffixRanges[i])return this.settings.sizeRangeSuffixes[this.suffixRanges[i]];return this.settings.sizeRangeSuffixes[this.suffixRanges[i-1]]},JustifiedGallery.prototype.removeSuffix=function(str,suffix){return str.substring(0,str.length-suffix.length)},JustifiedGallery.prototype.endsWith=function(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1},JustifiedGallery.prototype.getUsedSuffix=function(str){for(var si in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(si)){if(this.settings.sizeRangeSuffixes[si].length===0)continue;if(this.endsWith(str,this.settings.sizeRangeSuffixes[si]))return this.settings.sizeRangeSuffixes[si]}return""},JustifiedGallery.prototype.newSrc=function(imageSrc,imgWidth,imgHeight,image){var newImageSrc;if(this.settings.thumbnailPath)newImageSrc=this.settings.thumbnailPath(imageSrc,imgWidth,imgHeight,image);else{var matchRes=imageSrc.match(this.settings.extension),ext=matchRes!==null?matchRes[0]:"";newImageSrc=imageSrc.replace(this.settings.extension,""),newImageSrc=this.removeSuffix(newImageSrc,this.getUsedSuffix(newImageSrc)),newImageSrc+=this.getSuffix(imgWidth,imgHeight)+ext}return newImageSrc},JustifiedGallery.prototype.showImg=function($entry,callback){this.settings.cssAnimation?($entry.addClass("jg-entry-visible"),callback&&callback()):($entry.stop().fadeTo(this.settings.imagesAnimationDuration,1,callback),$entry.find(this.settings.imgSelector).stop().fadeTo(this.settings.imagesAnimationDuration,1,callback))},JustifiedGallery.prototype.extractImgSrcFromImage=function($image){var imageSrc=$image.data("safe-src"),imageSrcLoc="data-safe-src";if(typeof imageSrc=="undefined"){var imageCurrentSrc=$image[0].currentSrc;imageCurrentSrc?imageSrc=imageCurrentSrc:imageSrc=$image.attr("src"),imageSrcLoc="src"}return $image.data("jg.originalSrc",imageSrc),$image.data("jg.src",imageSrc),$image.data("jg.originalSrcLoc",imageSrcLoc),imageSrc},JustifiedGallery.prototype.imgFromEntry=function($entry){var $img=$entry.find(this.settings.imgSelector);return $img.length===0&&($img=$entry.find(".t-entry-visual-cont img")),$img.length===0?null:$img},JustifiedGallery.prototype.captionFromEntry=function($entry){var $caption=$entry.find("> .jg-caption");return $caption.length===0?null:$caption},JustifiedGallery.prototype.displayEntry=function($entry,x,y,imgWidth,imgHeight,rowHeight){$entry.width(imgWidth),$entry.height(Math.floor(rowHeight)),$entry.css("top",Math.floor(y)),$entry.css("left",x);var $image=this.imgFromEntry($entry);if($image!==null){$image.css("width",imgWidth),$image.css("height",imgHeight),$image.css("margin-left",-imgWidth/2),$image.css("margin-top",-imgHeight/2);var imageSrc=$image.data("jg.src");if(imageSrc){imageSrc=this.newSrc(imageSrc,imgWidth,imgHeight,$image[0]),$image.one("error",function(){this.resetImgSrc($image)});var loadNewImage=function(){$image.attr("src",imageSrc)};$entry.data("jg.loaded")==="skipped"&&imageSrc?this.onImageEvent(imageSrc,function(){this.showImg($entry,loadNewImage),$entry.data("jg.loaded",!0)}.bind(this)):this.showImg($entry,loadNewImage)}}else this.showImg($entry);this.displayEntryCaption($entry)},JustifiedGallery.prototype.displayEntryCaption=function($entry){var $image=this.imgFromEntry($entry);if($image!==null&&this.settings.captions){var $imgCaption=this.captionFromEntry($entry);if($imgCaption===null){var caption=$image.attr("alt");this.isValidCaption(caption)||(caption=$entry.attr("title")),this.isValidCaption(caption)&&($imgCaption=$('<div class="jg-caption">'+caption+"</div>"),$entry.append($imgCaption),$entry.data("jg.createdCaption",!0))}$imgCaption!==null&&(this.settings.cssAnimation||$imgCaption.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers($entry))}else this.removeCaptionEventsHandlers($entry)},JustifiedGallery.prototype.isValidCaption=function(caption){return typeof caption!="undefined"&&caption.length>0},JustifiedGallery.prototype.onEntryMouseEnterForCaption=function(eventObject){var $caption=this.captionFromEntry($(eventObject.currentTarget));this.settings.cssAnimation?$caption.addClass("jg-caption-visible").removeClass("jg-caption-hidden"):$caption.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},JustifiedGallery.prototype.onEntryMouseLeaveForCaption=function(eventObject){var $caption=this.captionFromEntry($(eventObject.currentTarget));this.settings.cssAnimation?$caption.removeClass("jg-caption-visible").removeClass("jg-caption-hidden"):$caption.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},JustifiedGallery.prototype.addCaptionEventsHandlers=function($entry){var captionMouseEvents=$entry.data("jg.captionMouseEvents");typeof captionMouseEvents=="undefined"&&(captionMouseEvents={mouseenter:$.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:$.proxy(this.onEntryMouseLeaveForCaption,this)},$entry.on("mouseenter",undefined,undefined,captionMouseEvents.mouseenter),$entry.on("mouseleave",undefined,undefined,captionMouseEvents.mouseleave),$entry.data("jg.captionMouseEvents",captionMouseEvents))},JustifiedGallery.prototype.removeCaptionEventsHandlers=function($entry){var captionMouseEvents=$entry.data("jg.captionMouseEvents");typeof captionMouseEvents!="undefined"&&($entry.off("mouseenter",undefined,captionMouseEvents.mouseenter),$entry.off("mouseleave",undefined,captionMouseEvents.mouseleave),$entry.removeData("jg.captionMouseEvents"))},JustifiedGallery.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},JustifiedGallery.prototype.prepareBuildingRow=function(isLastRow,hiddenRow){var i,$entry,imgAspectRatio,newImgW,newImgH,justify=!0,minHeight=0,availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,rowHeight=Math.floor(availableWidth/this.buildingRow.aspectRatio),defaultRowHeight=this.settings.rowHeight,justifiable=this.buildingRow.width/availableWidth>this.settings.justifyThreshold;if(hiddenRow||isLastRow&&this.settings.lastRow==="hide"&&!justifiable){for(i=0;i<this.buildingRow.entriesBuff.length;i++)$entry=this.buildingRow.entriesBuff[i],this.settings.cssAnimation?$entry.removeClass("jg-entry-visible"):($entry.stop().fadeTo(0,.1),$entry.find("> img, > a > img").fadeTo(0,0));return-1}isLastRow&&!justifiable&&this.settings.lastRow!=="justify"&&this.settings.lastRow!=="hide"&&(justify=!1,this.rows>0&&(defaultRowHeight=(this.offY-this.border-this.settings.margins*this.rows)/this.rows,justify=defaultRowHeight*this.buildingRow.aspectRatio/availableWidth>this.settings.justifyThreshold));for(i=0;i<this.buildingRow.entriesBuff.length;i++){$entry=this.buildingRow.entriesBuff[i],imgAspectRatio=$entry.data("jg.width")/$entry.data("jg.height"),justify?(newImgW=i===this.buildingRow.entriesBuff.length-1?availableWidth:rowHeight*imgAspectRatio,newImgH=rowHeight):(newImgW=defaultRowHeight*imgAspectRatio,newImgH=defaultRowHeight),availableWidth-=Math.round(newImgW),$entry.data("jg.jwidth",Math.round(newImgW)),$entry.data("jg.jheight",Math.ceil(newImgH));if(i===0||minHeight>newImgH)minHeight=newImgH}return this.buildingRow.height=minHeight,justify},JustifiedGallery.prototype.flushRow=function(isLastRow,hiddenRow){var settings=this.settings,$entry,buildingRowRes,offX=this.border,i;buildingRowRes=this.prepareBuildingRow(isLastRow,hiddenRow);if(hiddenRow||isLastRow&&settings.lastRow==="hide"&&buildingRowRes===-1){this.clearBuildingRow();return}this.maxRowHeight&&this.maxRowHeight<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight);if(isLastRow&&(settings.lastRow==="center"||settings.lastRow==="right")){var availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*settings.margins;for(i=0;i<this.buildingRow.entriesBuff.length;i++)$entry=this.buildingRow.entriesBuff[i],availableWidth-=$entry.data("jg.jwidth");settings.lastRow==="center"?offX+=Math.round(availableWidth/2):settings.lastRow==="right"&&(offX+=availableWidth)}var lastEntryIdx=this.buildingRow.entriesBuff.length-1;for(i=0;i<=lastEntryIdx;i++)$entry=this.buildingRow.entriesBuff[this.settings.rtl?lastEntryIdx-i:i],this.displayEntry($entry,offX,this.offY,$entry.data("jg.jwidth"),$entry.data("jg.jheight"),this.buildingRow.height),offX+=$entry.data("jg.jwidth")+settings.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.setGalleryTempHeight(this.galleryHeightToSet+this.getSpinnerHeight());if(!isLastRow||this.buildingRow.height<=settings.rowHeight&&buildingRowRes)this.offY+=this.buildingRow.height+settings.margins,this.rows+=1,this.clearBuildingRow(),this.settings.triggerEvent.call(this,"jg.rowflush")};var galleryPrevStaticHeight=0;JustifiedGallery.prototype.rememberGalleryHeight=function(){galleryPrevStaticHeight=this.$gallery.height(),this.$gallery.height(galleryPrevStaticHeight)},JustifiedGallery.prototype.setGalleryTempHeight=function(height){galleryPrevStaticHeight=Math.max(height,galleryPrevStaticHeight),this.$gallery.height(galleryPrevStaticHeight)},JustifiedGallery.prototype.setGalleryFinalHeight=function(height){galleryPrevStaticHeight=height,this.$gallery.height(height)},JustifiedGallery.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval($.proxy(function(){if(!this.$gallery.is(":visible"))return;var galleryWidth=parseFloat(this.$gallery.width());Math.abs(galleryWidth-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=galleryWidth,this.rewind(),this.rememberGalleryHeight(),this.startImgAnalyzer(!0))},this),this.settings.refreshTime)},JustifiedGallery.prototype.isSpinnerActive=function(){return this.spinner.intervalId!==null},JustifiedGallery.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},JustifiedGallery.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.setGalleryTempHeight(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},JustifiedGallery.prototype.startLoadingSpinnerAnimation=function(){var spinnerContext=this.spinner,$spinnerPoints=spinnerContext.$el.find("span");clearInterval(spinnerContext.intervalId),this.$gallery.append(spinnerContext.$el),this.setGalleryTempHeight(this.offY+this.buildingRow.height+this.getSpinnerHeight()),spinnerContext.intervalId=setInterval(function(){spinnerContext.phase<$spinnerPoints.length?$spinnerPoints.eq(spinnerContext.phase).fadeTo(spinnerContext.timeSlot,1):$spinnerPoints.eq(spinnerContext.phase-$spinnerPoints.length).fadeTo(spinnerContext.timeSlot,0),spinnerContext.phase=(spinnerContext.phase+1)%($spinnerPoints.length*2)},spinnerContext.timeSlot)},JustifiedGallery.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},JustifiedGallery.prototype.getSelectorWithoutSpinner=function(){return this.settings.selector+", div:not(.jg-spinner)"},JustifiedGallery.prototype.getAllEntries=function(){var selector=this.getSelectorWithoutSpinner();return this.$gallery.children(selector).toArray()},JustifiedGallery.prototype.updateEntries=function(norewind){var newEntries;if(norewind&&this.lastFetchedEntry!=null){var selector=this.getSelectorWithoutSpinner();newEntries=$(this.lastFetchedEntry).nextAll(selector).toArray()}else this.entries=[],newEntries=this.getAllEntries();return newEntries.length>0&&($.isFunction(this.settings.sort)?newEntries=this.sortArray(newEntries):this.settings.randomize&&(newEntries=this.shuffleArray(newEntries)),this.lastFetchedEntry=newEntries[newEntries.length-1],this.settings.filter?newEntries=this.filterArray(newEntries):this.resetFilters(newEntries)),this.entries=this.entries.concat(newEntries),!0},JustifiedGallery.prototype.insertToGallery=function(entries){var that=this;$.each(entries,function(){$(this).appendTo(that.$gallery)})},JustifiedGallery.prototype.shuffleArray=function(a){var i,j,temp;for(i=a.length-1;i>0;i--)j=Math.floor(Math.random()*(i+1)),temp=a[i],a[i]=a[j],a[j]=temp;return this.insertToGallery(a),a},JustifiedGallery.prototype.sortArray=function(a){return a.sort(this.settings.sort),this.insertToGallery(a),a},JustifiedGallery.prototype.resetFilters=function(a){for(var i=0;i<a.length;i++)$(a[i]).removeClass("jg-filtered")},JustifiedGallery.prototype.filterArray=function(a){var settings=this.settings;if($.type(settings.filter)==="string")return a.filter(function(el){var $el=$(el);return $el.is(settings.filter)?($el.removeClass("jg-filtered"),!0):($el.addClass("jg-filtered").removeClass("jg-visible"),!1)});if($.isFunction(settings.filter)){var filteredArr=a.filter(settings.filter);for(var i=0;i<a.length;i++)filteredArr.indexOf(a[i])===-1?$(a[i]).addClass("jg-filtered").removeClass("jg-visible"):$(a[i]).removeClass("jg-filtered");return filteredArr}},JustifiedGallery.prototype.resetImgSrc=function($img){$img.data("jg.originalSrcLoc")==="src"?$img.attr("src",$img.data("jg.originalSrc")):$img.attr("src","")},JustifiedGallery.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),this.stopImgAnalyzerStarter(),$.each(this.getAllEntries(),$.proxy(function(_,entry){var $entry=$(entry);$entry.css("width",""),$entry.css("height",""),$entry.css("top",""),$entry.css("left",""),$entry.data("jg.loaded",undefined),$entry.removeClass("jg-entry jg-filtered jg-entry-visible");var $img=this.imgFromEntry($entry);$img&&($img.css("width",""),$img.css("height",""),$img.css("margin-left",""),$img.css("margin-top",""),this.resetImgSrc($img),$img.data("jg.originalSrc",undefined),$img.data("jg.originalSrcLoc",undefined),$img.data("jg.src",undefined)),this.removeCaptionEventsHandlers($entry);var $caption=this.captionFromEntry($entry);$entry.data("jg.createdCaption")?($entry.data("jg.createdCaption",undefined),$caption!==null&&$caption.remove()):$caption!==null&&$caption.fadeTo(0,1)},this)),this.$gallery.css("height",""),this.$gallery.removeClass("justified-gallery"),this.$gallery.data("jg.controller",undefined),this.settings.triggerEvent.call(this,"jg.destroy")},JustifiedGallery.prototype.analyzeImages=function(isForResize){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var $entry=$(this.entries[i]);if($entry.data("jg.loaded")===!0||$entry.data("jg.loaded")==="skipped"){var availableWidth=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,imgAspectRatio=$entry.data("jg.width")/$entry.data("jg.height");this.buildingRow.entriesBuff.push($entry),this.buildingRow.aspectRatio+=imgAspectRatio,this.buildingRow.width+=imgAspectRatio*this.settings.rowHeight,this.lastAnalyzedIndex=i;if(availableWidth/(this.buildingRow.aspectRatio+imgAspectRatio)<this.settings.rowHeight){this.flushRow(!1,this.settings.maxRowsCount>0&&this.rows===this.settings.maxRowsCount);if(++this.yield.flushed>=this.yield.every){this.startImgAnalyzer(isForResize);return}}}else if($entry.data("jg.loaded")!=="error")return}this.buildingRow.entriesBuff.length>0&&this.flushRow(!0,this.settings.maxRowsCount>0&&this.rows===this.settings.maxRowsCount),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.setGalleryFinalHeight(this.galleryHeightToSet),this.settings.triggerEvent.call(this,isForResize?"jg.resize":"jg.complete")},JustifiedGallery.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,this.imgAnalyzerTimeout!==null&&(clearTimeout(this.imgAnalyzerTimeout),this.imgAnalyzerTimeout=null)},JustifiedGallery.prototype.startImgAnalyzer=function(isForResize){var that=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){that.analyzeImages(isForResize)},.001)},JustifiedGallery.prototype.onImageEvent=function(imageSrc,onLoad,onError){if(!onLoad&&!onError)return;var memImage=new Image,$memImage=$(memImage);onLoad&&$memImage.one("load",function(){$memImage.off("load error"),onLoad(memImage)}),onError&&$memImage.one("error",function(){$memImage.off("load error"),onError(memImage)}),memImage.src=imageSrc},JustifiedGallery.prototype.init=function(){var imagesToLoad=!1,skippedImages=!1,that=this;$.each(this.entries,function(index,entry){var $entry=$(entry),$image=that.imgFromEntry($entry);$entry.addClass("jg-entry");if($entry.data("jg.loaded")!==!0&&$entry.data("jg.loaded")!=="skipped"){that.settings.rel!==null&&$entry.attr("rel",that.settings.rel),that.settings.target!==null&&$entry.attr("target",that.settings.target);if($image!==null){var imageSrc=that.extractImgSrcFromImage($image);if(that.settings.waitThumbnailsLoad===!1||!imageSrc){var width=parseFloat($image.attr("width")),height=parseFloat($image.attr("height"));$image.prop("tagName")==="svg"&&(width=parseFloat($image[0].getBBox().width),height=parseFloat($image[0].getBBox().height));if(!isNaN(width)&&!isNaN(height))return $entry.data("jg.width",width),$entry.data("jg.height",height),$entry.data("jg.loaded","skipped"),skippedImages=!0,that.startImgAnalyzer(!1),!0}$entry.data("jg.loaded",!1),imagesToLoad=!0,that.isSpinnerActive()||that.startLoadingSpinnerAnimation(),that.onImageEvent(imageSrc,function(loadImg){$entry.data("jg.width",loadImg.width),$entry.data("jg.height",loadImg.height),$entry.data("jg.loaded",!0),that.startImgAnalyzer(!1)},function(){$entry.data("jg.loaded","error"),that.startImgAnalyzer(!1)})}else $entry.data("jg.loaded",!0),$entry.data("jg.width",$entry.width()|parseFloat($entry.css("width"))|1),$entry.data("jg.height",$entry.height()|parseFloat($entry.css("height"))|1)}}),!imagesToLoad&&!skippedImages&&this.startImgAnalyzer(!1),this.checkWidth()},JustifiedGallery.prototype.checkOrConvertNumber=function(settingContainer,settingName){$.type(settingContainer[settingName])==="string"&&(settingContainer[settingName]=parseFloat(settingContainer[settingName]));if($.type(settingContainer[settingName])!=="number")throw settingName+" must be a number";if(isNaN(settingContainer[settingName]))throw"invalid number for "+settingName},JustifiedGallery.prototype.checkSizeRangesSuffixes=function(){if($.type(this.settings.sizeRangeSuffixes)!=="object")throw"sizeRangeSuffixes must be defined and must be an object";var suffixRanges=[];for(var rangeIdx in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx)&&suffixRanges.push(rangeIdx);var newSizeRngSuffixes={0:""};for(var i=0;i<suffixRanges.length;i++)if($.type(suffixRanges[i])==="string")try{var numIdx=parseInt(suffixRanges[i].replace(/^[a-z]+/,""),10);newSizeRngSuffixes[numIdx]=this.settings.sizeRangeSuffixes[suffixRanges[i]]}catch(e){throw"sizeRangeSuffixes keys must contains correct numbers ("+e+")"}else newSizeRngSuffixes[suffixRanges[i]]=this.settings.sizeRangeSuffixes[suffixRanges[i]];this.settings.sizeRangeSuffixes=newSizeRngSuffixes},JustifiedGallery.prototype.retrieveMaxRowHeight=function(){var newMaxRowHeight=null,rowHeight=this.settings.rowHeight;if($.type(this.settings.maxRowHeight)==="string")this.settings.maxRowHeight.match(/^[0-9]+%$/)?newMaxRowHeight=rowHeight*parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100:newMaxRowHeight=parseFloat(this.settings.maxRowHeight);else{if($.type(this.settings.maxRowHeight)!=="number"){if(this.settings.maxRowHeight===!1||this.settings.maxRowHeight==null)return null;throw"maxRowHeight must be a number or a percentage"}newMaxRowHeight=this.settings.maxRowHeight}if(isNaN(newMaxRowHeight))throw"invalid number for maxRowHeight";return newMaxRowHeight<rowHeight&&(newMaxRowHeight=rowHeight),newMaxRowHeight},JustifiedGallery.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border"),this.checkOrConvertNumber(this.settings,"maxRowsCount");var lastRowModes=["justify","nojustify","left","center","right","hide"];if(lastRowModes.indexOf(this.settings.lastRow)===-1)throw"lastRow must be one of: "+lastRowModes.join(", ");this.checkOrConvertNumber(this.settings,"justifyThreshold");if(this.settings.justifyThreshold<0||this.settings.justifyThreshold>1)throw"justifyThreshold must be in the interval [0,1]";if($.type(this.settings.cssAnimation)!=="boolean")throw"cssAnimation must be a boolean";if($.type(this.settings.captions)!=="boolean")throw"captions must be a boolean";this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity");if(this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity");if(this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity");if($.type(this.settings.randomize)!=="boolean")throw"randomize must be a boolean";if($.type(this.settings.selector)!=="string")throw"selector must be a string";if(this.settings.sort!==!1&&!$.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(this.settings.filter!==!1&&!$.isFunction(this.settings.filter)&&$.type(this.settings.filter)!=="string")throw"filter must be false, a string or a filter function"},JustifiedGallery.prototype.retrieveSuffixRanges=function(){var suffixRanges=[];for(var rangeIdx in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(rangeIdx)&&suffixRanges.push(parseInt(rangeIdx,10));return suffixRanges.sort(function(a,b){return a>b?1:a<b?-1:0}),suffixRanges},JustifiedGallery.prototype.updateSettings=function(newSettings){this.settings=$.extend({},this.settings,newSettings),this.checkSettings(),this.border=this.settings.border>=0?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},JustifiedGallery.prototype.defaults={sizeRangeSuffixes:{},thumbnailPath:undefined,rowHeight:120,maxRowHeight:!1,maxRowsCount:0,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,rtl:!1,sort:!1,filter:!1,selector:"a",imgSelector:"> img, > a > img, > svg, > a > svg",triggerEvent:function(event){this.$gallery.trigger(event)}},$.fn.justifiedGallery=function(arg){return this.each(function(index,gallery){var $gallery=$(gallery);$gallery.addClass("justified-gallery");var controller=$gallery.data("jg.controller");if(typeof controller=="undefined"){if(typeof arg!="undefined"&&arg!==null&&$.type(arg)!=="object"){if(arg==="destroy")return;throw"The argument must be an object"}controller=new JustifiedGallery($gallery,$.extend({},JustifiedGallery.prototype.defaults,arg)),$gallery.data("jg.controller",controller)}else if(arg!=="norewind"){if(arg==="destroy"){controller.destroy();return}controller.updateSettings(arg),controller.rewind()}if(!controller.updateEntries(arg==="norewind"))return;controller.init()})}}),function(window,document,Math){function IScroll(el,options){this.wrapper=typeof el=="string"?document.querySelector(el):el,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!utils.hasPointer,disableTouch:utils.hasPointer||!utils.hasTouch,disableMouse:utils.hasPointer||utils.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:typeof window.onmousedown=="undefined"};for(var i in options)this.options[i]=options[i];this.translateZ=this.options.HWCompositing&&utils.hasPerspective?" translateZ(0)":"",this.options.useTransition=utils.hasTransition&&this.options.useTransition,this.options.useTransform=utils.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY=this.options.eventPassthrough=="vertical"?!1:this.options.scrollY,this.options.scrollX=this.options.eventPassthrough=="horizontal"?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing=typeof this.options.bounceEasing=="string"?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing,this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),!this.options.useTransition&&!this.options.useTransform&&(/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative")),this.options.shrinkScrollbars=="scale"&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function createDefaultScrollbar(direction,interactive,type){var scrollbar=document.createElement("div"),indicator=document.createElement("div");return type===!0&&(scrollbar.style.cssText="position:absolute;z-index:9999",indicator.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),indicator.className="iScrollIndicator",direction=="h"?(type===!0&&(scrollbar.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",indicator.style.height="100%"),scrollbar.className="iScrollHorizontalScrollbar"):(type===!0&&(scrollbar.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",indicator.style.width="100%"),scrollbar.className="iScrollVerticalScrollbar"),scrollbar.style.cssText+=";overflow:hidden",interactive||(scrollbar.style.pointerEvents="none"),scrollbar.appendChild(indicator),scrollbar}function Indicator(scroller,options){this.wrapper=typeof options.el=="string"?document.querySelector(options.el):options.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=scroller,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var i in options)this.options[i]=options[i];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(utils.addEvent(this.indicator,"touchstart",this),utils.addEvent(window,"touchend",this)),this.options.disablePointer||(utils.addEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this),utils.addEvent(window,utils.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(utils.addEvent(this.indicator,"mousedown",this),utils.addEvent(window,"mouseup",this)));if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;var durationProp=utils.style.transitionDuration;if(!durationProp)return;this.wrapperStyle[durationProp]=utils.isBadAndroid?"0.0001ms":"0ms";var self=this;utils.isBadAndroid&&rAF(function(){self.wrapperStyle[durationProp]==="0.0001ms"&&(self.wrapperStyle[durationProp]="0s")}),this.wrapperStyle.opacity="0"}}var rAF=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)},utils=function(){function _prefixStyle(style){return _vendor===!1?!1:_vendor===""?style:_vendor+style.charAt(0).toUpperCase()+style.substr(1)}var me={},_elementStyle=document.createElement("div").style,_vendor=function(){var vendors=["t","webkitT","MozT","msT","OT"],transform,i=0,l=vendors.length;for(;i<l;i++){transform=vendors[i]+"ransform";if(transform in _elementStyle)return vendors[i].substr(0,vendors[i].length-1)}return!1}();me.getTime=Date.now||function getTime(){return(new Date).getTime()},me.extend=function(target,obj){for(var i in obj)target[i]=obj[i]},me.addEvent=function(el,type,fn,capture){el.addEventListener(type,fn,!!capture)},me.removeEvent=function(el,type,fn,capture){el.removeEventListener(type,fn,!!capture)},me.prefixPointerEvent=function(pointerEvent){return window.MSPointerEvent?"MSPointer"+pointerEvent.charAt(7).toUpperCase()+pointerEvent.substr(8):pointerEvent},me.momentum=function(current,start,time,lowerMargin,wrapperSize,deceleration){var distance=current-start,speed=Math.abs(distance)/time,destination,duration;return deceleration=deceleration===undefined?6e-4:deceleration,destination=current+speed*speed/(2*deceleration)*(distance<0?-1:1),duration=speed/deceleration,destination<lowerMargin?(destination=wrapperSize?lowerMargin-wrapperSize/2.5*(speed/8):lowerMargin,distance=Math.abs(destination-current),duration=distance/speed):destination>0&&(destination=wrapperSize?wrapperSize/2.5*(speed/8):0,distance=Math.abs(current)+destination,duration=distance/speed),{destination:Math.round(destination),duration:duration}};var _transform=_prefixStyle("transform");return me.extend(me,{hasTransform:_transform!==!1,hasPerspective:_prefixStyle("perspective")in _elementStyle,hasTouch:"ontouchstart"in window,hasPointer:!!window.PointerEvent||!!window.MSPointerEvent,hasTransition:_prefixStyle("transition")in _elementStyle}),me.isBadAndroid=function(){var appVersion=window.navigator.appVersion;if(/Android/.test(appVersion)&&!/Chrome\/\d/.test(appVersion)){var safariVersion=appVersion.match(/Safari\/(\d+.\d)/);return safariVersion&&typeof safariVersion=="object"&&safariVersion.length>=2?parseFloat(safariVersion[1])<535.19:!0}return!1}(),me.extend(me.style={},{transform:_transform,transitionTimingFunction:_prefixStyle("transitionTimingFunction"),transitionDuration:_prefixStyle("transitionDuration"),transitionDelay:_prefixStyle("transitionDelay"),transformOrigin:_prefixStyle("transformOrigin")}),me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className)},me.addClass=function(e,c){if(me.hasClass(e,c))return;var newclass=e.className.split(" ");newclass.push(c),e.className=newclass.join(" ")},me.removeClass=function(e,c){if(!me.hasClass(e,c))return;var re=new RegExp("(^|\\s)"+c+"(\\s|$)","g");e.className=e.className.replace(re," ")},me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent)left-=el.offsetLeft,top-=el.offsetTop;return{left:left,top:top}},me.preventDefaultException=function(el,exceptions){for(var i in exceptions)if(exceptions[i].test(el[i]))return!0;return!1},me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),me.extend(me.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(k){return k*(2-k)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(k){return Math.sqrt(1- --k*k)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(k){var b=4;return(k-=1)*k*((b+1)*k+b)+1}},bounce:{style:"",fn:function(k){return(k/=1)<1/2.75?7.5625*k*k:k<2/2.75?7.5625*(k-=1.5/2.75)*k+.75:k<2.5/2.75?7.5625*(k-=2.25/2.75)*k+.9375:7.5625*(k-=2.625/2.75)*k+.984375}},elastic:{style:"",fn:function(k){var f=.22,e=.4;return k===0?0:k==1?1:e*Math.pow(2,-10*k)*Math.sin((k-f/4)*2*Math.PI/f)+1}}}),me.tap=function(e,eventName){var ev=document.createEvent("Event");ev.initEvent(eventName,!0,!0),ev.pageX=e.pageX,ev.pageY=e.pageY,e.target.dispatchEvent(ev)},me.click=function(e){var target=e.target,ev;/(SELECT|INPUT|TEXTAREA)/i.test(target.tagName)||(ev=document.createEvent(window.MouseEvent?"MouseEvents":"Event"),ev.initEvent("click",!0,!0),ev.view=e.view||window,ev.detail=1,ev.screenX=target.screenX||0,ev.screenY=target.screenY||0,ev.clientX=target.clientX||0,ev.clientY=target.clientY||0,ev.ctrlKey=!!e.ctrlKey,ev.altKey=!!e.altKey,ev.shiftKey=!!e.shiftKey,ev.metaKey=!!e.metaKey,ev.button=0,ev.relatedTarget=null,ev._constructed=!0,target.dispatchEvent(ev))},me}();IScroll.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition)return;this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd"))},_start:function(e){if(utils.eventType[e.type]!=1){var button;e.which?button=e.button:button=e.button<2?0:e.button==4?1:2;if(button!==0)return}if(!this.enabled||this.initiated&&utils.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=utils.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,pos=this.getComputedPosition(),this._translate(Math.round(pos.x),Math.round(pos.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=point.pageX,this.pointY=point.pageY,this._execEvent("beforeScrollStart")},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&e.preventDefault();var point=e.touches?e.touches[0]:e,deltaX=point.pageX-this.pointX,deltaY=point.pageY-this.pointY,timestamp=utils.getTime(),newX,newY,absDistX,absDistY;this.pointX=point.pageX,this.pointY=point.pageY,this.distX+=deltaX,this.distY+=deltaY,absDistX=Math.abs(this.distX),absDistY=Math.abs(this.distY);if(timestamp-this.endTime>300&&absDistX<10&&absDistY<10)return;!this.directionLocked&&!this.options.freeScroll&&(absDistX>absDistY+this.options.directionLockThreshold?this.directionLocked="h":absDistY>=absDistX+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n");if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical")e.preventDefault();else if(this.options.eventPassthrough=="horizontal"){this.initiated=!1;return}deltaY=0}else if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal")e.preventDefault();else if(this.options.eventPassthrough=="vertical"){this.initiated=!1;return}deltaX=0}deltaX=this.hasHorizontalScroll?deltaX:0,deltaY=this.hasVerticalScroll?deltaY:0,newX=this.x+deltaX,newY=this.y+deltaY;if(newX>0||newX<this.maxScrollX)newX=this.options.bounce?this.x+deltaX/3:newX>0?0:this.maxScrollX;if(newY>0||newY<this.maxScrollY)newY=this.options.bounce?this.y+deltaY/3:newY>0?0:this.maxScrollY;this.directionX=deltaX>0?-1:deltaX<0?1:0,this.directionY=deltaY>0?-1:deltaY<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(newX,newY),timestamp-this.startTime>300&&(this.startTime=timestamp,this.startX=this.x,this.startY=this.y)},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated)return;this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var point=e.changedTouches?e.changedTouches[0]:e,momentumX,momentumY,duration=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),distanceX=Math.abs(newX-this.startX),distanceY=Math.abs(newY-this.startY),time=0,easing="";this.isInTransition=0,this.initiated=0,this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime))return;this.scrollTo(newX,newY);if(!this.moved){this.options.tap&&utils.tap(e,this.options.tap),this.options.click&&utils.click(e),this._execEvent("scrollCancel");return}if(this._events.flick&&duration<200&&distanceX<100&&distanceY<100){this._execEvent("flick");return}this.options.momentum&&duration<300&&(momentumX=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,duration,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0},momentumY=this.hasVerticalScroll?utils.momentum(this.y,this.startY,duration,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0},newX=momentumX.destination,newY=momentumY.destination,time=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=1);if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap,time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1e3),Math.min(Math.abs(newY-snap.y),1e3)),300),newX=snap.x,newY=snap.y,this.directionX=0,this.directionY=0,easing=this.options.bounceEasing}if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY)easing=utils.ease.quadratic;this.scrollTo(newX,newY,time,easing);return}this._execEvent("scrollEnd")},_resize:function(){var that=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){that.refresh()},this.options.resizePolling)},resetPosition:function(time){var x=this.x,y=this.y;return time=time||0,!this.hasHorizontalScroll||this.x>0?x=0:this.x<this.maxScrollX&&(x=this.maxScrollX),!this.hasVerticalScroll||this.y>0?y=0:this.y<this.maxScrollY&&(y=this.maxScrollY),x==this.x&&y==this.y?!1:(this.scrollTo(x,y,time,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=utils.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(type,fn){this._events[type]||(this._events[type]=[]),this._events[type].push(fn)},off:function(type,fn){if(!this._events[type])return;var index=this._events[type].indexOf(fn);index>-1&&this._events[type].splice(index,1)},_execEvent:function(type){if(!this._events[type])return;var i=0,l=this._events[type].length;if(!l)return;for(;i<l;i++)this._events[type][i].apply(this,[].slice.call(arguments,1))},scrollBy:function(x,y,time,easing){x=this.x+x,y=this.y+y,time=time||0,this.scrollTo(x,y,time,easing)},scrollTo:function(x,y,time,easing){easing=easing||utils.ease.circular,this.isInTransition=this.options.useTransition&&time>0;var transitionType=this.options.useTransition&&easing.style;!time||transitionType?(transitionType&&(this._transitionTimingFunction(easing.style),this._transitionTime(time)),this._translate(x,y)):this._animate(x,y,time,easing.fn)},scrollToElement:function(el,time,offsetX,offsetY,easing){el=el.nodeType?el:this.scroller.querySelector(el);if(!el)return;var pos=utils.offset(el);pos.left-=this.wrapperOffset.left,pos.top-=this.wrapperOffset.top,offsetX===!0&&(offsetX=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2)),offsetY===!0&&(offsetY=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2)),pos.left-=offsetX||0,pos.top-=offsetY||0,pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left,pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top,time=time===undefined||time===null||time==="auto"?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time,this.scrollTo(pos.left,pos.top,time,easing)},_transitionTime:function(time){if(!this.options.useTransition)return;time=time||0;var durationProp=utils.style.transitionDuration;if(!durationProp)return;this.scrollerStyle[durationProp]=time+"ms";if(!time&&utils.isBadAndroid){this.scrollerStyle[durationProp]="0.0001ms";var self=this;rAF(function(){self.scrollerStyle[durationProp]==="0.0001ms"&&(self.scrollerStyle[durationProp]="0s")})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(time)},_transitionTimingFunction:function(easing){this.scrollerStyle[utils.style.transitionTimingFunction]=easing;if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTimingFunction(easing)},_translate:function(x,y){if((" "+this.wrapper.className+" ").replace(/[\n\t]/g," ").indexOf(" no-scrolloverflow ")>-1)return!1;this.options.useTransform?this.scrollerStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.translateZ:(x=Math.round(x),y=Math.round(y),this.scrollerStyle.left=x+"px",this.scrollerStyle.top=y+"px"),this.x=x,this.y=y;if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition();var uncodevent=new CustomEvent("fp-slide-scroll");window.dispatchEvent(uncodevent)},_initEvents:function(remove){var eventType=remove?utils.removeEvent:utils.addEvent,target=this.options.bindToWrapper?this.wrapper:window;eventType(window,"orientationchange",this),eventType(window,"resize",this),this.options.click&&eventType(this.wrapper,"click",this,!0),this.options.disableMouse||(eventType(this.wrapper,"mousedown",this),eventType(target,"mousemove",this),eventType(target,"mousecancel",this),eventType(target,"mouseup",this)),utils.hasPointer&&!this.options.disablePointer&&(eventType(this.wrapper,utils.prefixPointerEvent("pointerdown"),this),eventType(target,utils.prefixPointerEvent("pointermove"),this),eventType(target,utils.prefixPointerEvent("pointercancel"),this),eventType(target,utils.prefixPointerEvent("pointerup"),this)),utils.hasTouch&&!this.options.disableTouch&&(eventType(this.wrapper,"touchstart",this),eventType(target,"touchmove",this),eventType(target,"touchcancel",this),eventType(target,"touchend",this)),eventType(this.scroller,"transitionend",this),eventType(this.scroller,"webkitTransitionEnd",this),eventType(this.scroller,"oTransitionEnd",this),eventType(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var matrix=window.getComputedStyle(this.scroller,null),x,y;return this.options.useTransform?(matrix=matrix[utils.style.transform].split(")")[0].split(", "),x=+(matrix[12]||matrix[4]),y=+(matrix[13]||matrix[5])):(x=+matrix.left.replace(/[^-\d.]/g,""),y=+matrix.top.replace(/[^-\d.]/g,"")),{x:x,y:y}},_initIndicators:function(){function _indicatorsMap(fn){if(that.indicators)for(var i=that.indicators.length;i--;)fn.call(that.indicators[i])}var interactive=this.options.interactiveScrollbars,customStyle=typeof this.options.scrollbars!="string",indicators=[],indicator,that=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(indicator={el:createDefaultScrollbar("v",interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator)),this.options.scrollX&&(indicator={el:createDefaultScrollbar("h",interactive,this.options.scrollbars),interactive:interactive,defaultScrollbars:!0,customStyle:customStyle,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(indicator.el),indicators.push(indicator))),this.options.indicators&&(indicators=indicators.concat(this.options.indicators));for(var i=indicators.length;i--;)this.indicators.push(new Indicator(this,indicators[i]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){_indicatorsMap(function(){this.fade()})}),this.on("scrollCancel",function(){_indicatorsMap(function(){this.fade()})}),this.on("scrollStart",function(){_indicatorsMap(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){_indicatorsMap(function(){this.fade(1,!0)})})),this.on("refresh",function(){_indicatorsMap(function(){this.refresh()})}),this.on("destroy",function(){_indicatorsMap(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){utils.addEvent(this.wrapper,"wheel",this),utils.addEvent(this.wrapper,"mousewheel",this),utils.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,utils.removeEvent(this.wrapper,"wheel",this),utils.removeEvent(this.wrapper,"mousewheel",this),utils.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(!this.enabled)return;var wheelDeltaX,wheelDeltaY,newX,newY,that=this;this.wheelTimeout===undefined&&that._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){that.options.snap||that._execEvent("scrollEnd"),that.wheelTimeout=undefined},400);if("deltaX"in e)e.deltaMode===1?(wheelDeltaX=-e.deltaX*this.options.mouseWheelSpeed,wheelDeltaY=-e.deltaY*this.options.mouseWheelSpeed):(wheelDeltaX=-e.deltaX,wheelDeltaY=-e.deltaY);else if("wheelDeltaX"in e)wheelDeltaX=e.wheelDeltaX/120*this.options.mouseWheelSpeed,wheelDeltaY=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)wheelDeltaX=wheelDeltaY=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;wheelDeltaX=wheelDeltaY=-e.detail/3*this.options.mouseWheelSpeed}wheelDeltaX*=this.options.invertWheelDirection,wheelDeltaY*=this.options.invertWheelDirection,this.hasVerticalScroll||(wheelDeltaX=wheelDeltaY,wheelDeltaY=0);if(this.options.snap){newX=this.currentPage.pageX,newY=this.currentPage.pageY,wheelDeltaX>0?newX--:wheelDeltaX<0&&newX++,wheelDeltaY>0?newY--:wheelDeltaY<0&&newY++,this.goToPage(newX,newY);return}newX=this.x+Math.round(this.hasHorizontalScroll?wheelDeltaX:0),newY=this.y+Math.round(this.hasVerticalScroll?wheelDeltaY:0),this.directionX=wheelDeltaX>0?-1:wheelDeltaX<0?1:0,this.directionY=wheelDeltaY>0?-1:wheelDeltaY<0?1:0,newX>0?newX=0:newX<this.maxScrollX&&(newX=this.maxScrollX),newY>0?newY=0:newY<this.maxScrollY&&(newY=this.maxScrollY),this.scrollTo(newX,newY,0)},_initSnap:function(){this.currentPage={},typeof this.options.snap=="string"&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight)return;if(this.options.snap===!0){cx=Math.round(stepX/2),cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[],l=0,y=0;while(y>-this.scrollerHeight)this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy},y-=stepY,l++;x-=stepX,i++}}else{el=this.options.snap,l=el.length,n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft)m=0,n++;this.pages[m]||(this.pages[m]=[]),x=Math.max(-el[i].offsetLeft,this.maxScrollX),y=Math.max(-el[i].offsetTop,this.maxScrollY),cx=x-Math.round(el[i].offsetWidth/2),cy=y-Math.round(el[i].offsetHeight/2),this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy},x>this.maxScrollX&&m++}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}),this.on("flick",function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1e3),Math.min(Math.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time)})},_nearestSnap:function(x,y){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY)return this.currentPage;x>0?x=0:x<this.maxScrollX&&(x=this.maxScrollX),y>0?y=0:y<this.maxScrollY&&(y=this.maxScrollY);for(;i<l;i++)if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break}l=this.pages[i].length;for(;m<l;m++)if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),x=this.pages[i][0].x),m==this.currentPage.pageY&&(m+=this.directionY,m<0?m=0:m>=this.pages[0].length&&(m=this.pages[0].length-1),y=this.pages[0][m].y),{x:x,y:y,pageX:i,pageY:m}},goToPage:function(x,y,time,easing){easing=easing||this.options.bounceEasing,x>=this.pages.length?x=this.pages.length-1:x<0&&(x=0),y>=this.pages[x].length?y=this.pages[x].length-1:y<0&&(y=0);var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1e3),Math.min(Math.abs(posY-this.y),1e3)),300):time,this.currentPage={x:posX,y:posY,pageX:x,pageY:y},this.scrollTo(posX,posY,time,easing)},next:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++,x>=this.pages.length&&this.hasVerticalScroll&&(x=0,y++),this.goToPage(x,y,time,easing)},prev:function(time,easing){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--,x<0&&this.hasVerticalScroll&&(x=0,y--),this.goToPage(x,y,time,easing)},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40},i;if(typeof this.options.keyBindings=="object")for(i in this.options.keyBindings)typeof this.options.keyBindings[i]=="string"&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in keys)this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];utils.addEvent(window,"keydown",this),this.on("destroy",function(){utils.removeEvent(window,"keydown",this)})},_key:function(e){if(!this.enabled)return;var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),prevTime=this.keyTime||0,acceleration=.25,pos;this.options.useTransition&&this.isInTransition&&(pos=this.getComputedPosition(),this._translate(Math.round(pos.x),Math.round(pos.y)),this.isInTransition=!1),this.keyAcceleration=now-prevTime<200?Math.min(this.keyAcceleration+acceleration,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?newX+=snap?1:this.wrapperWidth:newY+=snap?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?newX-=snap?1:this.wrapperWidth:newY-=snap?1:this.wrapperHeight;break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX,newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0,newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return}if(snap){this.goToPage(newX,newY);return}newX>0?(newX=0,this.keyAcceleration=0):newX<this.maxScrollX&&(newX=this.maxScrollX,this.keyAcceleration=0),newY>0?(newY=0,this.keyAcceleration=0):newY<this.maxScrollY&&(newY=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(newX,newY,0),this.keyTime=now},_animate:function(destX,destY,duration,easingFn){function step(){var now=utils.getTime(),newX,newY,easing;if(now>=destTime){that.isAnimating=!1,that._translate(destX,destY),that.resetPosition(that.options.bounceTime)||that._execEvent("scrollEnd");return}now=(now-startTime)/duration,easing=easingFn(now),newX=(destX-startX)*easing+startX,newY=(destY-startY)*easing+startY,that._translate(newX,newY),that.isAnimating&&rAF(step)}var that=this,startX=this.x,startY=this.y,startTime=utils.getTime(),destTime=startTime+duration;this.isAnimating=!0,step()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},Indicator.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(utils.removeEvent(this.indicator,"touchstart",this),utils.removeEvent(this.indicator,utils.prefixPointerEvent("pointerdown"),this),utils.removeEvent(this.indicator,"mousedown",this),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this),utils.removeEvent(window,"mousemove",this),utils.removeEvent(window,"touchend",this),utils.removeEvent(window,utils.prefixPointerEvent("pointerup"),this),utils.removeEvent(window,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=point.pageX,this.lastPointY=point.pageY,this.startTime=utils.getTime(),this.options.disableTouch||utils.addEvent(window,"touchmove",this),this.options.disablePointer||utils.addEvent(window,utils.prefixPointerEvent("pointermove"),this),this.options.disableMouse||utils.addEvent(window,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var point=e.touches?e.touches[0]:e,deltaX,deltaY,newX,newY,timestamp=utils.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,deltaX=point.pageX-this.lastPointX,this.lastPointX=point.pageX,deltaY=point.pageY-this.lastPointY,this.lastPointY=point.pageY,newX=this.x+deltaX,newY=this.y+deltaY,this._pos(newX,newY),e.preventDefault(),e.stopPropagation()},_end:function(e){if(!this.initiated)return;this.initiated=!1,e.preventDefault(),e.stopPropagation(),utils.removeEvent(window,"touchmove",this),utils.removeEvent(window,utils.prefixPointerEvent("pointermove"),this),utils.removeEvent(window,"mousemove",this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1e3),Math.min(Math.abs(this.scroller.y-snap.y),1e3)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y)this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=snap,this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing)}this.moved&&this.scroller._execEvent("scrollEnd")},transitionTime:function(time){time=time||0;var durationProp=utils.style.transitionDuration;if(!durationProp)return;this.indicatorStyle[durationProp]=time+"ms";if(!time&&utils.isBadAndroid){this.indicatorStyle[durationProp]="0.0001ms";var self=this;rAF(function(){self.indicatorStyle[durationProp]==="0.0001ms"&&(self.indicatorStyle[durationProp]="0s")})}},transitionTimingFunction:function(easing){this.indicatorStyle[utils.style.transitionTimingFunction]=easing},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(utils.addClass(this.wrapper,"iScrollBothScrollbars"),utils.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(utils.removeClass(this.wrapper,"iScrollBothScrollbars"),utils.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));var r=this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.options.shrink=="clip"?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.options.shrink=="clip"?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(x<this.minBoundaryX?(this.options.shrink=="scale"&&(this.width=Math.max(this.indicatorWidth+x,8),this.indicatorStyle.width=this.width+"px"),x=this.minBoundaryX):x>this.maxBoundaryX?this.options.shrink=="scale"?(this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",x=this.maxPosX+this.indicatorWidth-this.width):x=this.maxBoundaryX:this.options.shrink=="scale"&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),y<this.minBoundaryY?(this.options.shrink=="scale"&&(this.height=Math.max(this.indicatorHeight+y*3,8),this.indicatorStyle.height=this.height+"px"),y=this.minBoundaryY):y>this.maxBoundaryY?this.options.shrink=="scale"?(this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8),this.indicatorStyle.height=this.height+"px",y=this.maxPosY+this.indicatorHeight-this.height):y=this.maxBoundaryY:this.options.shrink=="scale"&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=x,this.y=y,this.scroller.options.useTransform?this.indicatorStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=x+"px",this.indicatorStyle.top=y+"px")},_pos:function(x,y){x<0?x=0:x>this.maxPosX&&(x=this.maxPosX),y<0?y=0:y>this.maxPosY&&(y=this.maxPosY),x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x,y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(x,y)},fade:function(val,hold){if(hold&&!this.visible)return;clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?"1":"0",this.wrapperStyle[utils.style.transitionDuration]=time+"ms",this.fadeTimeout=setTimeout(function(val){this.wrapperStyle.opacity=val,this.visible=+val}.bind(this,val),delay)}},IScroll.utils=utils,typeof module!="undefined"&&module.exports?module.exports=IScroll:typeof define=="function"&&define.amd?define(function(){return IScroll}):window.IScroll=IScroll}(window,document,Math),function(global,factory){"use strict";typeof define=="function"&&define.amd?define(["jquery"],function($){return factory($,global,global.document,global.Math)}):typeof exports=="object"&&exports?module.exports=factory(require("jquery"),global,global.document,global.Math):factory(jQuery,global,global.document,global.Math)}(typeof window!="undefined"?window:this,function($,window,document,Math,undefined){"use strict";var WRAPPER="fullpage-wrapper",WRAPPER_SEL="."+WRAPPER,SCROLLABLE="fp-scrollable",SCROLLABLE_SEL="."+SCROLLABLE,RESPONSIVE="fp-responsive",NO_TRANSITION="fp-notransition",DESTROYED="fp-destroyed",ENABLED="fp-enabled",VIEWING_PREFIX="fp-viewing",ACTIVE="active",ACTIVE_SEL="."+ACTIVE,COMPLETELY="fp-completely",COMPLETELY_SEL="."+COMPLETELY,SECTION_DEFAULT_SEL=".section",SECTION="fp-section",SECTION_SEL="."+SECTION,SECTION_ACTIVE_SEL=SECTION_SEL+ACTIVE_SEL,SECTION_FIRST_SEL=SECTION_SEL+":first",SECTION_LAST_SEL=SECTION_SEL+":last",TABLE_CELL="fp-tableCell",TABLE_CELL_SEL="."+TABLE_CELL,AUTO_HEIGHT="fp-auto-height",AUTO_HEIGHT_SEL=".fp-auto-height",NORMAL_SCROLL="fp-normal-scroll",NORMAL_SCROLL_SEL=".fp-normal-scroll",SECTION_NAV="fp-nav",SECTION_NAV_SEL="#"+SECTION_NAV,SECTION_NAV_TOOLTIP="fp-tooltip",SECTION_NAV_TOOLTIP_SEL="."+SECTION_NAV_TOOLTIP,SHOW_ACTIVE_TOOLTIP="fp-show-active",SLIDE_DEFAULT_SEL=".slide",SLIDE="fp-slide",SLIDE_SEL="."+SLIDE,SLIDE_ACTIVE_SEL=SLIDE_SEL+ACTIVE_SEL,SLIDES_WRAPPER="fp-slides",SLIDES_WRAPPER_SEL="."+SLIDES_WRAPPER,SLIDES_CONTAINER="fp-slidesContainer",SLIDES_CONTAINER_SEL="."+SLIDES_CONTAINER,TABLE="fp-table",SLIDES_NAV="fp-slidesNav",SLIDES_NAV_SEL="."+SLIDES_NAV,SLIDES_NAV_LINK_SEL=SLIDES_NAV_SEL+" a",SLIDES_ARROW="fp-controlArrow",SLIDES_ARROW_SEL="."+SLIDES_ARROW,SLIDES_PREV="fp-prev",SLIDES_PREV_SEL="."+SLIDES_PREV,SLIDES_ARROW_PREV=SLIDES_ARROW+" "+SLIDES_PREV,SLIDES_ARROW_PREV_SEL=SLIDES_ARROW_SEL+SLIDES_PREV_SEL,SLIDES_NEXT="fp-next",SLIDES_NEXT_SEL="."+SLIDES_NEXT,SLIDES_ARROW_NEXT=SLIDES_ARROW+" "+SLIDES_NEXT,SLIDES_ARROW_NEXT_SEL=SLIDES_ARROW_SEL+SLIDES_NEXT_SEL,$window=$(window),$document=$(document),iscrollOptions={scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,interactiveScrollbars:!0,bounce:!1};$.fn.fullpage=function(options){function setAutoScrolling(value,type){value||silentScroll(0),setVariableState("autoScrolling",value,type);var element=$(SECTION_ACTIVE_SEL);options.autoScrolling&&!options.scrollBar?($htmlBody.css({overflow:"hidden !important",height:"100%"}),container.css({"-ms-touch-action":"none","touch-action":"none"}),element.length&&silentScroll(element.position().top)):($htmlBody.css({overflow:"visible !important",height:"initial"}),container.css({"-ms-touch-action":"","touch-action":""}),element.length&&$htmlBody.scrollTop(element.position().top))}function setRecordHistory(value,type){setVariableState("recordHistory",value,type)}function setScrollingSpeed(value,type){setVariableState("scrollingSpeed",value,type)}function setFitToSection(value,type){setVariableState("fitToSection",value,type)}function setLockAnchors(value){options.lockAnchors=value}function setMouseWheelScrolling(value){value?(addMouseWheelHandler(),addMiddleWheelHandler()):(removeMouseWheelHandler(),removeMiddleWheelHandler())}function setAllowScrolling(value,directions){typeof directions!="undefined"?(directions=directions.replace(/ /g,"").split(","),$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,"m")})):value?(setMouseWheelScrolling(!0),addTouchHandler()):(setMouseWheelScrolling(!1),removeTouchHandler())}function setKeyboardScrolling(value,directions){typeof directions!="undefined"?(directions=directions.replace(/ /g,"").split(","),$.each(directions,function(index,direction){setIsScrollAllowed(value,direction,"k")})):options.keyboardScrolling=value}function moveSectionUp(){var prev=$(SECTION_ACTIVE_SEL).prev(SECTION_SEL);!prev.length&&(options.loopTop||options.continuousVertical)&&(prev=$(SECTION_SEL).last()),prev.length&&scrollPage(prev,null,!0)}function moveSectionDown(){var next=$(SECTION_ACTIVE_SEL).next(SECTION_SEL);!next.length&&(options.loopBottom||options.continuousVertical)&&(next=$(SECTION_SEL).first()),next.length&&scrollPage(next,null,!1)}function silentMoveTo(sectionAnchor,slideAnchor){setScrollingSpeed(0,"internal"),moveTo(sectionAnchor,slideAnchor),setScrollingSpeed(originals.scrollingSpeed,"internal")}function moveTo(sectionAnchor,slideAnchor){var destiny=getSectionByAnchor(sectionAnchor);typeof slideAnchor!="undefined"?scrollPageAndSlide(sectionAnchor,slideAnchor):destiny.length>0&&scrollPage(destiny)}function moveSlideRight(section){moveSlide("right",section)}function moveSlideLeft(section){moveSlide("left",section)}function reBuild(resizing){if(container.hasClass(DESTROYED))return;isResizing=!0,windowsHeight=$window.height(),$(SECTION_SEL).each(function(){var slidesWrap=$(this).find(SLIDES_WRAPPER_SEL),slides=$(this).find(SLIDE_SEL);options.verticalCentered&&$(this).find(TABLE_CELL_SEL).css("height",getTableHeight($(this))+"px"),$(this).css("height",windowsHeight+"px"),options.scrollOverflow&&(slides.length?slides.each(function(){createScrollBar($(this))}):createScrollBar($(this))),slides.length>1&&landscapeScroll(slidesWrap,slidesWrap.find(SLIDE_ACTIVE_SEL))});var activeSection=$(SECTION_ACTIVE_SEL),sectionIndex=activeSection.index(SECTION_SEL);sectionIndex&&silentMoveTo(sectionIndex+1),isResizing=!1,$.isFunction(options.afterResize)&&resizing&&options.afterResize.call(container,getTableHeight()),$.isFunction(options.afterReBuild)&&!resizing&&options.afterReBuild.call(container)}function setResponsive(active){var isResponsive=$body.hasClass(RESPONSIVE);active?isResponsive||(setAutoScrolling(!1,"internal"),setFitToSection(!1,"internal"),$(SECTION_NAV_SEL).hide(),$body.addClass(RESPONSIVE),$.isFunction(options.afterResponsive)&&options.afterResponsive.call(container,active)):isResponsive&&(setAutoScrolling(originals.autoScrolling,"internal"),setFitToSection(originals.autoScrolling,"internal"),$(SECTION_NAV_SEL).show(),$body.removeClass(RESPONSIVE),$.isFunction(options.afterResponsive)&&options.afterResponsive.call(container,active))}function init(){options.css3&&(options.css3=support3d()),options.scrollBar=options.scrollBar||options.hybrid,setOptionsFromDOM(),prepareDom(),setAllowScrolling(!0),setAutoScrolling(options.autoScrolling,"internal"),responsive(),setBodyClass()}function bindEvents(){$window.on("hashchange",hashChangeHandler).blur(blurHandler).resize(resizeHandler),$document.keydown(keydownHandler).keyup(keyUpHandler).on("click touchstart",SECTION_NAV_SEL+" a",sectionBulletHandler).on("click touchstart",SLIDES_NAV_LINK_SEL,slideBulletHandler).on("click",SECTION_NAV_TOOLTIP_SEL,tooltipTextHandler),$(SECTION_SEL).on("click touchstart",SLIDES_ARROW_SEL,slideArrowHandler),options.normalScrollElements&&($document.on("mouseenter",options.normalScrollElements,function(){setMouseWheelScrolling(!1)}),$document.on("mouseleave",options.normalScrollElements,function(){setMouseWheelScrolling(!0)}))}function setOptionsFromDOM(){var sections=container.find(options.sectionSelector);options.anchors.length||(options.anchors=sections.filter("[data-anchor]").map(function(){return $(this).data("anchor").toString()}).get()),options.navigationTooltips.length||(options.navigationTooltips=sections.filter("[data-tooltip]").map(function(){return $(this).data("tooltip").toString()}).get())}function prepareDom(){container.css({height:"100%",position:"relative"}),container.addClass(WRAPPER),$("html").addClass(ENABLED),windowsHeight=$window.height(),container.removeClass(DESTROYED),addInternalSelectors(),$(SECTION_SEL).each(function(index){var section=$(this),slides=section.find(SLIDE_SEL),numSlides=slides.length;styleSection(section,index),styleMenu(section,index),numSlides>0?styleSlides(section,slides,numSlides):options.verticalCentered&&addTableClass(section)}),options.fixedElements&&options.css3&&$(options.fixedElements).appendTo($body),options.navigation&&addVerticalNavigation(),enableYoutubeAPI(),options.scrollOverflow?(document.readyState==="complete"&&createScrollBarHandler(),$window.on("load",createScrollBarHandler)):afterRenderActions()}function styleSlides(section,slides,numSlides){var sliderWidth=numSlides*100,slideWidth=100/numSlides;slides.wrapAll('<div class="'+SLIDES_CONTAINER+'" />'),slides.parent().wrap('<div class="'+SLIDES_WRAPPER+'" />'),section.find(SLIDES_CONTAINER_SEL).css("width",sliderWidth+"%"),numSlides>1&&(options.controlArrows&&createSlideArrows(section),options.slidesNavigation&&addSlidesNavigation(section,numSlides)),slides.each(function(index){$(this).css("width",slideWidth+"%"),options.verticalCentered&&addTableClass($(this))});var startingSlide=section.find(SLIDE_ACTIVE_SEL);startingSlide.length&&($(SECTION_ACTIVE_SEL).index(SECTION_SEL)!==0||$(SECTION_ACTIVE_SEL).index(SECTION_SEL)===0&&startingSlide.index()!==0)?silentLandscapeScroll(startingSlide,"internal"):slides.eq(0).addClass(ACTIVE)}function styleSection(section,index){!index&&$(SECTION_ACTIVE_SEL).length===0&&section.addClass(ACTIVE),startingSection=$(SECTION_ACTIVE_SEL),section.css("height",windowsHeight+"px"),options.paddingTop&&section.css("padding-top",options.paddingTop),options.paddingBottom&&section.css("padding-bottom",options.paddingBottom),typeof options.sectionsColor[index]!="undefined"&&section.css("background-color",options.sectionsColor[index]),typeof options.anchors[index]!="undefined"&&section.attr("data-anchor",options.anchors[index])}function styleMenu(section,index){typeof options.anchors[index]!="undefined"&&section.hasClass(ACTIVE)&&activateMenuAndNav(options.anchors[index],index),options.menu&&options.css3&&$(options.menu).closest(WRAPPER_SEL).length&&$(options.menu).appendTo($body)}function addInternalSelectors(){container.find(options.sectionSelector).addClass(SECTION),container.find(options.slideSelector).addClass(SLIDE)}function createSlideArrows(section){section.find(SLIDES_WRAPPER_SEL).after('<div class="'+SLIDES_ARROW_PREV+'"></div><div class="'+SLIDES_ARROW_NEXT+'"></div>'),options.controlArrowColor!="#fff"&&(section.find(SLIDES_ARROW_NEXT_SEL).css("border-color","transparent transparent transparent "+options.controlArrowColor),section.find(SLIDES_ARROW_PREV_SEL).css("border-color","transparent "+options.controlArrowColor+" transparent transparent")),options.loopHorizontal||section.find(SLIDES_ARROW_PREV_SEL).hide()}function addVerticalNavigation(){$body.append('<div id="'+SECTION_NAV+'"><ul></ul></div>');var nav=$(SECTION_NAV_SEL);nav.addClass(function(){return options.showActiveTooltip?SHOW_ACTIVE_TOOLTIP+" "+options.navigationPosition:options.navigationPosition});for(var i=0;i<$(SECTION_SEL).length;i++){var link="";options.anchors.length&&(link=options.anchors[i]);var li='<li><a href="#'+link+'"><span></span></a>',tooltip=options.navigationTooltips[i];typeof tooltip!="undefined"&&tooltip!==""&&(li+='<div class="'+SECTION_NAV_TOOLTIP+" "+options.navigationPosition+'">'+tooltip+"</div>"),li+="</li>",nav.find("ul").append(li)}$(SECTION_NAV_SEL).css("margin-top","-"+$(SECTION_NAV_SEL).height()/2+"px"),$(SECTION_NAV_SEL).find("li").eq($(SECTION_ACTIVE_SEL).index(SECTION_SEL)).find("a").addClass(ACTIVE)}function createScrollBarHandler(){$(SECTION_SEL).each(function(){var slides=$(this).find(SLIDE_SEL);slides.length?slides.each(function(){createScrollBar($(this))}):createScrollBar($(this))}),afterRenderActions()}function enableYoutubeAPI(){container.find('iframe[src*="youtube.com/embed/"]').each(function(){addURLParam($(this),"enablejsapi=1")})}function addURLParam(element,newParam){var originalSrc=element.attr("src");element.attr("src",originalSrc+getUrlParamSign(originalSrc)+newParam)}function getUrlParamSign(url){return/\?/.test(url)?"&":"?"}function afterRenderActions(){var section=$(SECTION_ACTIVE_SEL);section.addClass(COMPLETELY),options.scrollOverflowHandler.afterRender&&options.scrollOverflowHandler.afterRender(section),lazyLoad(section),playMedia(section),options.scrollOverflowHandler.afterLoad(),isDestinyTheStartingSection()&&$.isFunction(options.afterLoad)&&options.afterLoad.call(section,section.data("anchor"),section.index(SECTION_SEL)+1),$.isFunction(options.afterRender)&&options.afterRender.call(container,getTableHeight())}function isDestinyTheStartingSection(){var anchors=window.location.hash.replace("#","").split("/"),destinationSection=getSectionByAnchor(decodeURIComponent(anchors[0]));return!destinationSection.length||destinationSection.length&&destinationSection.index()===startingSection.index()}function scrollHandler(){var currentSection;if(!options.autoScrolling||options.scrollBar){var currentScroll=$window.scrollTop(),scrollDirection=getScrollDirection(currentScroll),visibleSectionIndex=0,screen_mid=currentScroll+$window.height()/2,isAtBottom=$body.height()-$window.height()===currentScroll,sections=document.querySelectorAll(SECTION_SEL);if(isAtBottom)visibleSectionIndex=sections.length-1;else if(!currentScroll)visibleSectionIndex=0;else for(var i=0;i<sections.length;++i){var section=sections[i];section.offsetTop<=screen_mid&&(visibleSectionIndex=i)}isCompletelyInViewPort(scrollDirection)&&($(SECTION_ACTIVE_SEL).hasClass(COMPLETELY)||$(SECTION_ACTIVE_SEL).addClass(COMPLETELY).siblings().removeClass(COMPLETELY)),currentSection=$(sections).eq(visibleSectionIndex);if(!currentSection.hasClass(ACTIVE)){isScrolling=!0;var leavingSection=$(SECTION_ACTIVE_SEL),leavingSectionIndex=leavingSection.index(SECTION_SEL)+1,yMovement=getYmovement(currentSection),anchorLink=currentSection.data("anchor"),sectionIndex=currentSection.index(SECTION_SEL)+1,activeSlide=currentSection.find(SLIDE_ACTIVE_SEL),slideIndex,slideAnchorLink;activeSlide.length&&(slideAnchorLink=activeSlide.data("anchor"),slideIndex=activeSlide.index()),canScroll&&(currentSection.addClass(ACTIVE).siblings().removeClass(ACTIVE),$.isFunction(options.onLeave)&&options.onLeave.call(leavingSection,leavingSectionIndex,sectionIndex,yMovement),$.isFunction(options.afterLoad)&&options.afterLoad.call(currentSection,anchorLink,sectionIndex),stopMedia(leavingSection),lazyLoad(currentSection),playMedia(currentSection),activateMenuAndNav(anchorLink,sectionIndex-1),options.anchors.length&&(lastScrolledDestiny=anchorLink),setState(slideIndex,slideAnchorLink,anchorLink,sectionIndex)),clearTimeout(scrollId),scrollId=setTimeout(function(){isScrolling=!1},100)}options.fitToSection&&(clearTimeout(scrollId2),scrollId2=setTimeout(function(){options.fitToSection&&fitToSection()},options.fitToSectionDelay))}}function fitToSection(){canScroll&&(isResizing=!0,scrollPage($(SECTION_ACTIVE_SEL)),isResizing=!1)}function isCompletelyInViewPort(movement){var top=$(SECTION_ACTIVE_SEL).position().top,bottom=top+$window.height();return movement=="up"?bottom>=$window.scrollTop()+$window.height():top<=$window.scrollTop()}function getScrollDirection(currentScroll){var direction=currentScroll>lastScroll?"down":"up";return lastScroll=currentScroll,previousDestTop=currentScroll,direction}function scrolling(type,scrollable){if(!isScrollAllowed.m[type])return;var check=type==="down"?"bottom":"top",scrollSection=type==="down"?moveSectionDown:moveSectionUp;if(scrollable.length>0){if(!options.scrollOverflowHandler.isScrolled(check,scrollable))return!0;scrollSection()}else scrollSection()}function preventBouncing(event){var e=event.originalEvent;!checkParentForNormalScrollElement(event.target)&&options.autoScrolling&&isReallyTouch(e)&&isScrollAllowed.m.up&&event.preventDefault()}function touchMoveHandler(event){var e=event.originalEvent,activeSection=$(e.target).closest(SECTION_SEL);if(!checkParentForNormalScrollElement(event.target)&&isReallyTouch(e)){options.autoScrolling&&event.preventDefault();var scrollable=options.scrollOverflowHandler.scrollable(activeSection),touchEvents=getEventsPage(e);touchEndY=touchEvents.y,touchEndX=touchEvents.x,activeSection.find(SLIDES_WRAPPER_SEL).length&&Math.abs(touchStartX-touchEndX)>Math.abs(touchStartY-touchEndY)?!slideMoving&&Math.abs(touchStartX-touchEndX)>$window.outerWidth()/100*options.touchSensitivity&&(touchStartX>touchEndX?isScrollAllowed.m.right&&moveSlideRight(activeSection):isScrollAllowed.m.left&&moveSlideLeft(activeSection)):options.autoScrolling&&canScroll&&Math.abs(touchStartY-touchEndY)>$window.height()/100*options.touchSensitivity&&(touchStartY>touchEndY?scrolling("down",scrollable):touchEndY>touchStartY&&scrolling("up",scrollable))}}function checkParentForNormalScrollElement(el,hop){hop=hop||0;var parent=$(el).parent();return hop<options.normalScrollElementTouchThreshold&&parent.is(options.normalScrollElements)?!0:hop==options.normalScrollElementTouchThreshold?!1:checkParentForNormalScrollElement(parent,++hop)}function isReallyTouch(e){return typeof e.pointerType=="undefined"||e.pointerType!="mouse"}function touchStartHandler(event){var e=event.originalEvent;options.fitToSection&&$htmlBody.stop();if(isReallyTouch(e)){var touchEvents=getEventsPage(e);touchStartY=touchEvents.y,touchStartX=touchEvents.x}}function getAverage(elements,number){var sum=0,lastElements=elements.slice(Math.max(elements.length-number,1));for(var i=0;i<lastElements.length;i++)sum+=lastElements[i];return Math.ceil(sum/number)}function MouseWheelHandler(e){var curTime=(new Date).getTime(),isNormalScroll=$(COMPLETELY_SEL).hasClass(NORMAL_SCROLL);if(options.autoScrolling&&!controlPressed&&!isNormalScroll){e=e||window.event;var value=e.wheelDelta||-e.deltaY||-e.detail,delta=Math.max(-1,Math.min(1,value)),horizontalDetection=typeof e.wheelDeltaX!="undefined"||typeof e.deltaX!="undefined",isScrollingVertically=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!horizontalDetection;scrollings.length>149&&scrollings.shift(),scrollings.push(Math.abs(value)),options.scrollBar&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var activeSection=$(SECTION_ACTIVE_SEL),scrollable=options.scrollOverflowHandler.scrollable(activeSection),timeDiff=curTime-prevTime;prevTime=curTime,timeDiff>200&&(scrollings=[]);if(canScroll){var averageEnd=getAverage(scrollings,10),averageMiddle=getAverage(scrollings,70),isAccelerating=averageEnd>=averageMiddle;isAccelerating&&isScrollingVertically&&(delta<0?scrolling("down",scrollable):scrolling("up",scrollable))}return!1}options.fitToSection&&$htmlBody.stop()}function moveSlide(direction,section){var activeSection=typeof section=="undefined"?$(SECTION_ACTIVE_SEL):section,slides=activeSection.find(SLIDES_WRAPPER_SEL),numSlides=slides.find(SLIDE_SEL).length;if(!slides.length||slideMoving||numSlides<2)return;var currentSlide=slides.find(SLIDE_ACTIVE_SEL),destiny=null;direction==="left"?destiny=currentSlide.prev(SLIDE_SEL):destiny=currentSlide.next(SLIDE_SEL);if(!destiny.length){if(!options.loopHorizontal)return;direction==="left"?destiny=currentSlide.siblings(":last"):destiny=currentSlide.siblings(":first")}slideMoving=!0,landscapeScroll(slides,destiny,direction)}function keepSlidesPosition(){$(SLIDE_ACTIVE_SEL).each(function(){silentLandscapeScroll($(this),"internal")})}function getDestinationPosition(element){var elemPosition=element.position(),position=elemPosition.top,isScrollingDown=elemPosition.top>previousDestTop,sectionBottom=position-windowsHeight+element.outerHeight(),bigSectionsDestination=options.bigSectionsDestination,containerH=container.outerHeight(),containerPosition=container.offset();!$masthead.hasClass("menu-transparent")&&$("body").hasClass("uncode-fp-menu-shrink")&&!element.is(":first-child")&&(position+=18);if(containerH+menuHeight+bodyBorder+adminBarHeight-windowsHeight<position||isResizing&&element.is(":last-child"))position=sectionBottom+menuHeight+bodyBorder*2+adminBarHeight;return previousDestTop=position,position}function scrollPage(element,callback,isMovementUp){if(typeof element=="undefined")return;var dtop=getDestinationPosition(element),slideAnchorLink,slideIndex,v={element:element,callback:callback,isMovementUp:isMovementUp,dtop:dtop,yMovement:getYmovement(element),anchorLink:element.data("anchor"),sectionIndex:element.index(SECTION_SEL),activeSlide:element.find(SLIDE_ACTIVE_SEL),activeSection:$(SECTION_ACTIVE_SEL),leavingSection:$(SECTION_ACTIVE_SEL).index(SECTION_SEL)+1,localIsResizing:isResizing};if(v.activeSection.is(element)&&!isResizing||options.scrollBar&&$window.scrollTop()===v.dtop&&!element.hasClass(AUTO_HEIGHT))return;v.activeSlide.length&&(slideAnchorLink=v.activeSlide.data("anchor"),slideIndex=v.activeSlide.index()),options.autoScrolling&&options.continuousVertical&&typeof v.isMovementUp!="undefined"&&(!v.isMovementUp&&v.yMovement=="up"||v.isMovementUp&&v.yMovement=="down")&&(v=createInfiniteSections(v));if($.isFunction(options.onLeave)&&!v.localIsResizing&&options.onLeave.call(v.activeSection,v.leavingSection,v.sectionIndex+1,v.yMovement)===!1)return;v.localIsResizing||stopMedia(v.activeSection),options.scrollOverflowHandler.beforeLeave(),element.addClass(ACTIVE).siblings().removeClass(ACTIVE),lazyLoad(element),options.scrollOverflowHandler.onLeave(),canScroll=!1,setState(slideIndex,slideAnchorLink,v.anchorLink,v.sectionIndex),performMovement(v),lastScrolledDestiny=v.anchorLink,activateMenuAndNav(v.anchorLink,v.sectionIndex)}function performMovement(v){if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d="translate3d(0px, -"+Math.round(v.dtop)+"px, 0px)";transformContainer(translate3d,!0),options.scrollingSpeed?(clearTimeout(afterSectionLoadsId),afterSectionLoadsId=setTimeout(function(){afterSectionLoads(v)},options.scrollingSpeed)):afterSectionLoads(v)}else{var scrollSettings=getScrollSettings(v);$(scrollSettings.element).animate(scrollSettings.options,options.scrollingSpeed,options.easing).promise().done(function(){options.scrollBar?setTimeout(function(){afterSectionLoads(v)},30):afterSectionLoads(v)})}}function getScrollSettings(v){var scroll={};return options.autoScrolling&&!options.scrollBar?(scroll.options={top:-v.dtop},scroll.element=WRAPPER_SEL):(scroll.options={scrollTop:v.dtop},scroll.element="html, body"),scroll}function createInfiniteSections(v){return v.isMovementUp?$(SECTION_ACTIVE_SEL).before(v.activeSection.nextAll(SECTION_SEL)):$(SECTION_ACTIVE_SEL).after(v.activeSection.prevAll(SECTION_SEL).get().reverse()),silentScroll($(SECTION_ACTIVE_SEL).position().top),keepSlidesPosition(),v.wrapAroundElements=v.activeSection,v.dtop=v.element.position().top,v.yMovement=getYmovement(v.element),v}function continuousVerticalFixSectionOrder(v){if(!v.wrapAroundElements||!v.wrapAroundElements.length)return;v.isMovementUp?$(SECTION_FIRST_SEL).before(v.wrapAroundElements):$(SECTION_LAST_SEL).after(v.wrapAroundElements),silentScroll($(SECTION_ACTIVE_SEL).position().top),keepSlidesPosition()}function afterSectionLoads(v){continuousVerticalFixSectionOrder(v),$.isFunction(options.afterLoad)&&!v.localIsResizing&&options.afterLoad.call(v.element,v.anchorLink,v.sectionIndex+1),options.scrollOverflowHandler.afterLoad(),v.localIsResizing||playMedia(v.element),v.element.addClass(COMPLETELY).siblings().removeClass(COMPLETELY),canScroll=!0,$.isFunction(v.callback)&&v.callback.call(this)}function setSrc(element,attribute){element.attr(attribute,element.data(attribute)).removeAttr("data-"+attribute)}function lazyLoad(destiny){if(!options.lazyLoading)return;var panel=getSlideOrSection(destiny),element;panel.find("img[data-src], img[data-srcset], source[data-src], audio[data-src], iframe[data-src]").each(function(){element=$(this),$.each(["src","srcset"],function(index,type){var attribute=element.attr("data-"+type);typeof attribute!="undefined"&&attribute&&setSrc(element,type)}),element.is("source")&&element.closest("video").get(0).load()})}function playMedia(destiny){var panel=getSlideOrSection(destiny);panel.find("video, audio").each(function(){var element=$(this).get(0);element.hasAttribute("data-autoplay")&&typeof element.play=="function"&&element.play()}),panel.find('iframe[src*="youtube.com/embed/"]').each(function(){var element=$(this).get(0);element.hasAttribute("data-autoplay")&&playYoutube(element),element.onload=function(){element.hasAttribute("data-autoplay")&&playYoutube(element)}})}function playYoutube(element){element.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}function stopMedia(destiny){var panel=getSlideOrSection(destiny);panel.find("video, audio").each(function(){var element=$(this).get(0);!element.hasAttribute("data-keepplaying")&&typeof element.pause=="function"&&element.pause()}),panel.find('iframe[src*="youtube.com/embed/"]').each(function(){var element=$(this).get(0);/youtube\.com\/embed\//.test($(this).attr("src"))&&!element.hasAttribute("data-keepplaying")&&$(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function getSlideOrSection(destiny){var slide=destiny.find(SLIDE_ACTIVE_SEL);return slide.length&&(destiny=$(slide)),destiny}function scrollToAnchor(){var value=window.location.hash.replace("#","").split("/"),sectionAnchor=decodeURIComponent(value[0]),slideAnchor=decodeURIComponent(value[1]);sectionAnchor&&(options.animateAnchor?scrollPageAndSlide(sectionAnchor,slideAnchor):silentMoveTo(sectionAnchor,slideAnchor))}function hashChangeHandler(){if(!isScrolling&&!options.lockAnchors){var value=window.location.hash.replace("#","").split("/"),sectionAnchor=decodeURIComponent(value[0]),slideAnchor=decodeURIComponent(value[1]),isFirstSlideMove=typeof lastScrolledDestiny=="undefined",isFirstScrollMove=typeof lastScrolledDestiny=="undefined"&&typeof slideAnchor=="undefined"&&!slideMoving;sectionAnchor.length&&(sectionAnchor&&sectionAnchor!==lastScrolledDestiny&&!isFirstSlideMove||isFirstScrollMove||!slideMoving&&lastScrolledSlide!=slideAnchor)&&scrollPageAndSlide(sectionAnchor,slideAnchor)}}function keydownHandler(e){clearTimeout(keydownId);var activeElement=$(":focus");if(!activeElement.is("textarea")&&!activeElement.is("input")&&!activeElement.is("select")&&activeElement.attr("contentEditable")!=="true"&&activeElement.attr("contentEditable")!==""&&options.keyboardScrolling&&options.autoScrolling){var keyCode=e.which,keyControls=[40,38,32,33,34];$.inArray(keyCode,keyControls)>-1&&e.preventDefault(),controlPressed=e.ctrlKey,keydownId=setTimeout(function(){onkeydown(e)},150)}}function tooltipTextHandler(){$(this).prev().trigger("click")}function keyUpHandler(e){isWindowFocused&&(controlPressed=e.ctrlKey)}function mouseDownHandler(e){e.which==2&&(oldPageY=e.pageY,container.on("mousemove",mouseMoveHandler))}function mouseUpHandler(e){e.which==2&&container.off("mousemove")}function slideArrowHandler(){var section=$(this).closest(SECTION_SEL);$(this).hasClass(SLIDES_PREV)?isScrollAllowed.m.left&&moveSlideLeft(section):isScrollAllowed.m.right&&moveSlideRight(section)}function blurHandler(){isWindowFocused=!1,controlPressed=!1}function sectionBulletHandler(e){e.preventDefault();var index=$(this).parent().index();scrollPage($(SECTION_SEL).eq(index))}function slideBulletHandler(e){e.preventDefault();var slides=$(this).closest(SECTION_SEL).find(SLIDES_WRAPPER_SEL),destiny=slides.find(SLIDE_SEL).eq($(this).closest("li").index());landscapeScroll(slides,destiny)}function onkeydown(e){var shiftPressed=e.shiftKey;if(!canScroll&&[37,39].indexOf(e.which)<0)return;switch(e.which){case 38:case 33:isScrollAllowed.k.up&&moveSectionUp();break;case 32:if(shiftPressed&&isScrollAllowed.k.up){moveSectionUp();break};case 40:case 34:isScrollAllowed.k.down&&moveSectionDown();break;case 36:isScrollAllowed.k.up&&moveTo(1);break;case 35:isScrollAllowed.k.down&&moveTo($(SECTION_SEL).length);break;case 37:isScrollAllowed.k.left&&moveSlideLeft();break;case 39:isScrollAllowed.k.right&&moveSlideRight();break;default:return}}function mouseMoveHandler(e){canScroll&&(e.pageY<oldPageY&&isScrollAllowed.m.up?moveSectionUp():e.pageY>oldPageY&&isScrollAllowed.m.down&&moveSectionDown()),oldPageY=e.pageY}function landscapeScroll(slides,destiny,direction){var section=slides.closest(SECTION_SEL),v={slides:slides,destiny:destiny,direction:direction,destinyPos:destiny.position(),slideIndex:destiny.index(),section:section,sectionIndex:section.index(SECTION_SEL),anchorLink:section.data("anchor"),slidesNav:section.find(SLIDES_NAV_SEL),slideAnchor:getAnchor(destiny),prevSlide:section.find(SLIDE_ACTIVE_SEL),prevSlideIndex:section.find(SLIDE_ACTIVE_SEL).index(),localIsResizing:isResizing};v.xMovement=getXmovement(v.prevSlideIndex,v.slideIndex),v.direction=v.direction?v.direction:v.xMovement,v.localIsResizing||(canScroll=!1);if(options.onSlideLeave&&!v.localIsResizing&&v.xMovement!=="none"&&$.isFunction(options.onSlideLeave)&&options.onSlideLeave.call(v.prevSlide,v.anchorLink,v.sectionIndex+1,v.prevSlideIndex,v.xMovement,v.slideIndex)===!1){slideMoving=!1;return}destiny.addClass(ACTIVE).siblings().removeClass(ACTIVE),v.localIsResizing||(stopMedia(v.prevSlide),lazyLoad(destiny)),!options.loopHorizontal&&options.controlArrows&&(section.find(SLIDES_ARROW_PREV_SEL).toggle(v.slideIndex!==0),section.find(SLIDES_ARROW_NEXT_SEL).toggle(!destiny.is(":last-child"))),section.hasClass(ACTIVE)&&!v.localIsResizing&&setState(v.slideIndex,v.slideAnchor,v.anchorLink,v.sectionIndex),performHorizontalMove(slides,v,!0)}function afterSlideLoads(v){activeSlidesNavigation(v.slidesNav,v.slideIndex),v.localIsResizing||($.isFunction(options.afterSlideLoad)&&options.afterSlideLoad.call(v.destiny,v.anchorLink,v.sectionIndex+1,v.slideAnchor,v.slideIndex),canScroll=!0,playMedia(v.destiny)),slideMoving=!1}function performHorizontalMove(slides,v,fireCallback){var destinyPos=v.destinyPos;if(options.css3){var translate3d="translate3d(-"+Math.round(destinyPos.left)+"px, 0px, 0px)";addAnimation(slides.find(SLIDES_CONTAINER_SEL)).css(getTransforms(translate3d),v),afterSlideLoadsId=setTimeout(function(){fireCallback&&afterSlideLoads(v)},options.scrollingSpeed,options.easing)}else slides.animate({scrollLeft:Math.round(destinyPos.left)},options.scrollingSpeed,options.easing,function(){fireCallback&&afterSlideLoads(v)})}function activeSlidesNavigation(slidesNav,slideIndex){slidesNav.find(ACTIVE_SEL).removeClass(ACTIVE),slidesNav.find("li").eq(slideIndex).find("a").addClass(ACTIVE)}function resizeHandler(){responsive();if(isTouchDevice){var activeElement=$(document.activeElement);if(!activeElement.is("textarea")&&!activeElement.is("input")&&!activeElement.is("select")){var currentHeight=$window.height();Math.abs(currentHeight-previousHeight)>20*Math.max(previousHeight,currentHeight)/100&&(reBuild(!0),previousHeight=currentHeight)}}else clearTimeout(resizeId),resizeId=setTimeout(function(){reBuild(!0)},350)}function responsive(){var widthLimit=options.responsive||options.responsiveWidth,heightLimit=options.responsiveHeight,isBreakingPointWidth=widthLimit&&$window.outerWidth()<widthLimit,isBreakingPointHeight=heightLimit&&$window.height()<heightLimit;widthLimit&&heightLimit?setResponsive(isBreakingPointWidth||isBreakingPointHeight):widthLimit?setResponsive(isBreakingPointWidth):heightLimit&&setResponsive(isBreakingPointHeight)}function addAnimation(container,element){var transition="all "+options.scrollingSpeed+"ms "+options.easingcss3;return container.removeClass(NO_TRANSITION),container.css({"-webkit-transition":transition,transition:transition})}function removeAnimation(element){return element.addClass(NO_TRANSITION)}function activateNavDots(name,sectionIndex){options.navigation&&($(SECTION_NAV_SEL).find(ACTIVE_SEL).removeClass(ACTIVE),name?$(SECTION_NAV_SEL).find('a[href="#'+name+'"]').addClass(ACTIVE):$(SECTION_NAV_SEL).find("li").eq(sectionIndex).find("a").addClass(ACTIVE))}function activateMenuElement(name){options.menu&&($(options.menu).find(ACTIVE_SEL).removeClass(ACTIVE),$(options.menu).find('[data-menuanchor="'+name+'"]').addClass(ACTIVE))}function activateMenuAndNav(anchor,index){activateMenuElement(anchor),activateNavDots(anchor,index)}function getYmovement(destiny){var fromIndex=$(SECTION_ACTIVE_SEL).index(SECTION_SEL),toIndex=destiny.index(SECTION_SEL);return fromIndex==toIndex?"none":fromIndex>toIndex?"up":"down"}function getXmovement(fromIndex,toIndex){return fromIndex==toIndex?"none":fromIndex>toIndex?"left":"right"}function createScrollBar(element){if(element.hasClass("fp-noscroll"))return;element.css("overflow","hidden");var scrollOverflowHandler=options.scrollOverflowHandler,wrap=scrollOverflowHandler.wrapContent(),section=element.closest(SECTION_SEL),scrollable=scrollOverflowHandler.scrollable(element),contentHeight;scrollable.length?contentHeight=scrollOverflowHandler.scrollHeight(element):(contentHeight=element.get(0).scrollHeight,options.verticalCentered&&(contentHeight=element.find(TABLE_CELL_SEL).get(0).scrollHeight));var scrollHeight=windowsHeight-parseInt(section.css("padding-bottom"))-parseInt(section.css("padding-top"));contentHeight>scrollHeight?scrollable.length?scrollOverflowHandler.update(element,scrollHeight):(options.verticalCentered?element.find(TABLE_CELL_SEL).wrapInner(wrap):element.wrapInner(wrap),scrollOverflowHandler.create(element,scrollHeight)):scrollOverflowHandler.remove(element),element.css("overflow","")}function addTableClass(element){element.hasClass(TABLE)||element.addClass(TABLE).wrapInner('<div class="'+TABLE_CELL+'" style="height:'+getTableHeight(element)+'px;" />')}function getTableHeight(element){var sectionHeight=windowsHeight;if(options.paddingTop||options.paddingBottom){var section=element;section.hasClass(SECTION)||(section=element.closest(SECTION_SEL));var paddings=parseInt(section.css("padding-top"))+parseInt(section.css("padding-bottom"));sectionHeight=windowsHeight-paddings}return sectionHeight}function transformContainer(translate3d,animated){animated?addAnimation(container):removeAnimation(container),container.css(getTransforms(translate3d)),setTimeout(function(){container.removeClass(NO_TRANSITION)},10)}function getSectionByAnchor(sectionAnchor){if(!sectionAnchor)return[];var section=container.find(SECTION_SEL+'[data-anchor="'+sectionAnchor+'"]');return section.length||(section=$(SECTION_SEL).eq(sectionAnchor-1)),section}function getSlideByAnchor(slideAnchor,section){var slides=section.find(SLIDES_WRAPPER_SEL),slide=slides.find(SLIDE_SEL+'[data-anchor="'+slideAnchor+'"]');return slide.length||(slide=slides.find(SLIDE_SEL).eq(slideAnchor)),slide}function scrollPageAndSlide(destiny,slide){var section=getSectionByAnchor(destiny);if(!section.length)return;typeof slide=="undefined"&&(slide=0),destiny!==lastScrolledDestiny&&!section.hasClass(ACTIVE)?scrollPage(section,function(){scrollSlider(section,slide)}):scrollSlider(section,slide)}function scrollSlider(section,slideAnchor){if(typeof slideAnchor!="undefined"){var slides=section.find(SLIDES_WRAPPER_SEL),destiny=getSlideByAnchor(slideAnchor,section);destiny.length&&landscapeScroll(slides,destiny)}}function addSlidesNavigation(section,numSlides){section.append('<div class="'+SLIDES_NAV+'"><ul></ul></div>');var nav=section.find(SLIDES_NAV_SEL);nav.addClass(options.slidesNavPosition);for(var i=0;i<numSlides;i++)nav.find("ul").append('<li><a href="#"><span></span></a></li>');nav.css("margin-left","-"+nav.width()/2+"px"),nav.find("li").first().find("a").addClass(ACTIVE)}function setState(slideIndex,slideAnchor,anchorLink,sectionIndex){var sectionHash="";options.anchors.length&&!options.lockAnchors&&(slideIndex?(typeof anchorLink!="undefined"&&(sectionHash=anchorLink),typeof slideAnchor=="undefined"&&(slideAnchor=slideIndex),lastScrolledSlide=slideAnchor,setUrlHash(sectionHash+"/"+slideAnchor)):typeof slideIndex!="undefined"?(lastScrolledSlide=slideAnchor,setUrlHash(anchorLink)):setUrlHash(anchorLink)),setBodyClass()}function setUrlHash(url){if(typeof SiteParameters.slide_footer!="undefined"&&url==SiteParameters.slide_footer)return!1;if(!options.recordHistory)return!1;location.hash=url}function getAnchor(element){var anchor=element.data("anchor"),index=element.index();return typeof anchor=="undefined"&&(anchor=index),anchor}function setBodyClass(){var section=$(SECTION_ACTIVE_SEL),slide=section.find(SLIDE_ACTIVE_SEL),sectionAnchor=getAnchor(section),slideAnchor=getAnchor(slide),text=String(sectionAnchor);slide.length&&(text=text+"-"+slideAnchor),text=text.replace("/","-").replace("#","");var classRe=new RegExp("\\b\\s?"+VIEWING_PREFIX+"-[^\\s]+\\b","g");$body[0].className=$body[0].className.replace(classRe,""),$body.addClass(VIEWING_PREFIX+"-"+text)}function support3d(){var el=document.createElement("p"),has3d,transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(el,null);for(var t in transforms)el.style[t]!==undefined&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]));return document.body.removeChild(el),has3d!==undefined&&has3d.length>0&&has3d!=="none"}function removeMouseWheelHandler(){document.addEventListener?(document.removeEventListener("mousewheel",MouseWheelHandler,!1),document.removeEventListener("wheel",MouseWheelHandler,!1),document.removeEventListener("MozMousePixelScroll",MouseWheelHandler,!1)):document.detachEvent("onmousewheel",MouseWheelHandler)}function addMouseWheelHandler(){var prefix="",_addEventListener;window.addEventListener?_addEventListener="addEventListener":(_addEventListener="attachEvent",prefix="on");var support="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",passiveEvent=g_supportsPassive?{passive:!1}:!1;support=="DOMMouseScroll"?document[_addEventListener](prefix+"MozMousePixelScroll",MouseWheelHandler,passiveEvent):document[_addEventListener](prefix+support,MouseWheelHandler,passiveEvent)}function addMiddleWheelHandler(){container.on("mousedown",mouseDownHandler).on("mouseup",mouseUpHandler)}function removeMiddleWheelHandler(){container.off("mousedown",mouseDownHandler).off("mouseup",mouseUpHandler)}function addTouchHandler(){if(isTouchDevice||isTouch)options.autoScrolling&&$body.off(events.touchmove).on(events.touchmove,preventBouncing),$(WRAPPER_SEL).off(events.touchstart).on(events.touchstart,touchStartHandler).off(events.touchmove).on(events.touchmove,touchMoveHandler)}function removeTouchHandler(){(isTouchDevice||isTouch)&&$(WRAPPER_SEL).off(events.touchstart).off(events.touchmove)}function getMSPointer(){var pointer;return window.PointerEvent?pointer={down:"pointerdown",move:"pointermove"}:pointer={down:"MSPointerDown",move:"MSPointerMove"},pointer}function getEventsPage(e){var events=[];return events.y=typeof e.pageY!="undefined"&&(e.pageY||e.pageX)?e.pageY:e.touches[0].pageY,events.x=typeof e.pageX!="undefined"&&(e.pageY||e.pageX)?e.pageX:e.touches[0].pageX,isTouch&&isReallyTouch(e)&&options.scrollBar&&(events.y=e.touches[0].pageY,events.x=e.touches[0].pageX),events}function silentLandscapeScroll(activeSlide,noCallbacks){setScrollingSpeed(0,"internal"),typeof noCallbacks!="undefined"&&(isResizing=!0),landscapeScroll(activeSlide.closest(SLIDES_WRAPPER_SEL),activeSlide),typeof noCallbacks!="undefined"&&(isResizing=!1),setScrollingSpeed(originals.scrollingSpeed,"internal")}function silentScroll(top){var roundedTop=Math.round(top);if(options.css3&&options.autoScrolling&&!options.scrollBar){var translate3d="translate3d(0px, -"+roundedTop+"px, 0px)";transformContainer(translate3d,!1)}else options.autoScrolling&&!options.scrollBar?container.css("top",-roundedTop):$htmlBody.scrollTop(roundedTop)}function getTransforms(translate3d){return{"-webkit-transform":translate3d,"-moz-transform":translate3d,"-ms-transform":translate3d,transform:translate3d}}function setIsScrollAllowed(value,direction,type){switch(direction){case"up":isScrollAllowed[type].up=value;break;case"down":isScrollAllowed[type].down=value;break;case"left":isScrollAllowed[type].left=value;break;case"right":isScrollAllowed[type].right=value;break;case"all":type=="m"?setAllowScrolling(value):setKeyboardScrolling(value)}}function destroy(all){setAutoScrolling(!1,"internal"),setAllowScrolling(!1),setKeyboardScrolling(!1),container.addClass(DESTROYED),clearTimeout(afterSlideLoadsId),clearTimeout(afterSectionLoadsId),clearTimeout(resizeId),clearTimeout(scrollId),clearTimeout(scrollId2),$window.off("scroll",scrollHandler).off("hashchange",hashChangeHandler).off("resize",resizeHandler),$document.off("click touchstart",SECTION_NAV_SEL+" a").off("mouseenter",SECTION_NAV_SEL+" li").off("mouseleave",SECTION_NAV_SEL+" li").off("click touchstart",SLIDES_NAV_LINK_SEL).off("mouseover",options.normalScrollElements).off("mouseout",options.normalScrollElements),$(SECTION_SEL).off("click touchstart",SLIDES_ARROW_SEL),clearTimeout(afterSlideLoadsId),clearTimeout(afterSectionLoadsId),all&&destroyStructure()}function destroyStructure(){silentScroll(0),container.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function(){setSrc($(this),"src")}),container.find("img[data-srcset]").each(function(){setSrc($(this),"srcset")}),$(SECTION_NAV_SEL+", "+SLIDES_NAV_SEL+", "+SLIDES_ARROW_SEL).remove(),$(SECTION_SEL).css({height:"","background-color":"",padding:""}),$(SLIDE_SEL).css({width:""}),container.css({height:"",position:"","-ms-touch-action":"","touch-action":""}),$htmlBody.css({overflow:"",height:""}),$("html").removeClass(ENABLED),$body.removeClass(RESPONSIVE),$.each($body.get(0).className.split(/\s+/),function(index,className){className.indexOf(VIEWING_PREFIX)===0&&$body.removeClass(className)}),$(SECTION_SEL+", "+SLIDE_SEL).each(function(){options.scrollOverflowHandler.remove($(this)),$(this).removeClass(TABLE+" "+ACTIVE)}),removeAnimation(container),container.find(TABLE_CELL_SEL+", "+SLIDES_CONTAINER_SEL+", "+SLIDES_WRAPPER_SEL).each(function(){$(this).replaceWith(this.childNodes)}),container.css({"-webkit-transition":"none",transition:"none"}),$htmlBody.scrollTop(0);var usedSelectors=[SECTION,SLIDE,SLIDES_CONTAINER];$.each(usedSelectors,function(index,value){$("."+value).removeClass(value)})}function setVariableState(variable,value,type){options[variable]=value,type!=="internal"&&(originals[variable]=value)}function displayWarnings(){var extensions=["fadingEffect","continuousHorizontal","scrollHorizontally","interlockedSlides","resetSliders","responsiveSlides","offsetSections","dragAndMove","scrollOverflowReset","parallax"];$.each(extensions,function(index,extension){options[extension]&&showError("warn","fullpage.js extensions require jquery.fullpage.extensions.min.js file instead of the usual jquery.fullpage.js. Requested: "+extension)}),$.each(options.anchors,function(index,name){var nameAttr=$document.find("[name]").filter(function(){return $(this).attr("name")&&$(this).attr("name").toLowerCase()==name.toLowerCase()}),idAttr=$document.find("[id]").filter(function(){return $(this).attr("id")&&$(this).attr("id").toLowerCase()==name.toLowerCase()});if(idAttr.length||nameAttr.length)showError("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),idAttr.length&&showError("error",'"'+name+'" is is being used by another element `id` property'),nameAttr.length&&showError("error",'"'+name+'" is is being used by another element `name` property')})}function showError(type,text){console&&console[type]&&console[type]("fullPage: "+text)}if($("html").hasClass(ENABLED)){displayWarnings();return}var $htmlBody=$("html, body"),$body=$("body"),FP=$.fn.fullpage;options=$.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,continuousHorizontal:!1,scrollHorizontally:!1,interlockedSlides:!1,dragAndMove:!1,offsetSections:!1,resetSliders:!1,fadingEffect:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowReset:!1,scrollOverflowHandler:iscrollHandler,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,bigSectionsDestination:null,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,responsiveSlides:!1,parallax:!1,parallaxOptions:{type:"reveal",percentage:62,property:"translate"},sectionSelector:SECTION_DEFAULT_SEL,slideSelector:SLIDE_DEFAULT_SEL,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null,afterResponsive:null,lazyLoading:!0},options);var slideMoving=!1,isTouchDevice=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),isTouch="ontouchstart"in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,container=$(this),windowsHeight=$window.height(),isResizing=!1,isWindowFocused=!0,lastScrolledDestiny,lastScrolledSlide,canScroll=!0,scrollings=[],controlPressed,startingSection,isScrollAllowed={};isScrollAllowed.m={up:!0,down:!0,left:!0,right:!0},isScrollAllowed.k=$.extend(!0,{},isScrollAllowed.m);var MSPointer=getMSPointer(),events={touchmove:"ontouchmove"in window?"touchmove":MSPointer.move,touchstart:"ontouchstart"in window?"touchstart":MSPointer.down},g_supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){g_supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(e){}var resizeId,afterSectionLoadsId,afterSlideLoadsId,scrollId,scrollId2,keydownId,originals=$.extend(!0,{},options),$masthead=$("#masthead"),hideMenu=!$("body").hasClass("vmenu")&&$("body").hasClass("uncode-fp-menu-hide")?!0:!1,menuHeight=$masthead.hasClass("menu-transparent")||hideMenu?0:UNCODE.menuHeight,bodyBorder=UNCODE.bodyBorder,adminBarHeight=UNCODE.adminBarHeight;displayWarnings(),iscrollOptions.click=isTouch,iscrollOptions=$.extend(iscrollOptions,options.scrollOverflowOptions),$.extend($.easing,{easeInOutCubic:function(x,t,b,c,d){return(t/=d/2)<1?c/2*t*t*t+b:c/2*((t-=2)*t*t+2)+b}}),$(this).length&&(FP.setAutoScrolling=setAutoScrolling,FP.setRecordHistory=setRecordHistory,FP.setScrollingSpeed=setScrollingSpeed,FP.setFitToSection=setFitToSection,FP.setLockAnchors=setLockAnchors,FP.setMouseWheelScrolling=setMouseWheelScrolling,FP.setAllowScrolling=setAllowScrolling,FP.setKeyboardScrolling=setKeyboardScrolling,FP.moveSectionUp=moveSectionUp,FP.moveSectionDown=moveSectionDown,FP.silentMoveTo=silentMoveTo,FP.moveTo=moveTo,FP.moveSlideRight=moveSlideRight,FP.moveSlideLeft=moveSlideLeft,FP.fitToSection=fitToSection,FP.reBuild=reBuild,FP.setResponsive=setResponsive,FP.destroy=destroy,init(),bindEvents());var isScrolling=!1,lastScroll=0,touchStartY=0,touchStartX=0,touchEndY=0,touchEndX=0,prevTime=(new Date).getTime(),previousDestTop=0,oldPageY=0,previousHeight=windowsHeight},typeof IScroll!="undefined"&&(IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this),this.wrapper.addEventListener("mousewheel",this),this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this),this.wrapper.removeEventListener("mousewheel",this),this.wrapper.removeEventListener("DOMMouseScroll",this)});var iscrollHandler={refreshId:null,iScrollInstances:[],toggleWheel:function(value){var scrollable=$(SECTION_ACTIVE_SEL).find(SCROLLABLE_SEL);scrollable.each(function(){var iScrollInstance=$(this).data("iscrollInstance");typeof iScrollInstance!="undefined"&&iScrollInstance&&(value?iScrollInstance.wheelOn():iScrollInstance.wheelOff())})},onLeave:function(){iscrollHandler.toggleWheel(!1)},beforeLeave:function(){iscrollHandler.onLeave()},afterLoad:function(){iscrollHandler.toggleWheel(!0)},create:function(element,scrollHeight){var scrollable=element.find(SCROLLABLE_SEL);scrollable.height(scrollHeight),scrollable.each(function(){var $this=$(this),iScrollInstance=$this.data("iscrollInstance");iScrollInstance&&$.each(iscrollHandler.iScrollInstances,function(){$(this).destroy()}),iScrollInstance=new IScroll($this.get(0),iscrollOptions),iscrollHandler.iScrollInstances.push(iScrollInstance),iScrollInstance.wheelOff(),$this.data("iscrollInstance",iScrollInstance)})},isScrolled:function(type,scrollable){var scroller=scrollable.data("iscrollInstance");if(!scroller)return!0;if(type==="top")return scroller.y>=0&&!scrollable.scrollTop();if(type==="bottom")return 0-scroller.y+scrollable.scrollTop()+1+scrollable.innerHeight()>=scrollable[0].scrollHeight},scrollable:function(activeSection){return activeSection.find(SLIDES_WRAPPER_SEL).length?activeSection.find(SLIDE_ACTIVE_SEL).find(SCROLLABLE_SEL):activeSection.find(SCROLLABLE_SEL)},scrollHeight:function(element){return element.find(SCROLLABLE_SEL).children().first().get(0).scrollHeight},remove:function(element){var scrollable=element.find(SCROLLABLE_SEL);if(scrollable.length){var iScrollInstance=scrollable.data("iscrollInstance");iScrollInstance.destroy(),scrollable.data("iscrollInstance",null)}element.find(SCROLLABLE_SEL).children().first().children().first().unwrap().unwrap()},update:function(element,scrollHeight){clearTimeout(iscrollHandler.refreshId),iscrollHandler.refreshId=setTimeout(function(){$.each(iscrollHandler.iScrollInstances,function(){$(this).get(0).refresh()})},150),element.find(SCROLLABLE_SEL).css("height",scrollHeight+"px").parent().css("height",scrollHeight+"px")},wrapContent:function(){return'<div class="'+SCROLLABLE+'"><div class="fp-scroller"></div></div>'}}}),function(global,factory){typeof exports=="object"&&typeof module!="undefined"?factory(exports):typeof define=="function"&&define.amd?define(["exports"],factory):(global=global||self,factory(global.window=global.window||{}))}(this,function(exports){"use strict";var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_raf,_request,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_limitCallbacks,_startup=1,_proxies=[],_scrollers=[],_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=1,_passThrough=function _passThrough(v){return v},_getTarget=function _getTarget(t){return _toArray(t)[0]||(_isString(t)?console.warn("Element not found:",t):null)},_round=function _round(value){return Math.round(value*1e5)/1e5||0},_windowExists=function _windowExists(){return typeof window!="undefined"},_getGSAP=function _getGSAP(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function _isViewport(e){return!!~_root.indexOf(e)},_getProxyProp=function _getProxyProp(element,property){return~_proxies.indexOf(element)&&_proxies[_proxies.indexOf(element)+1][property]},_getScrollFunc=function _getScrollFunc(element,_ref){var s=_ref.s,sc=_ref.sc,i=_scrollers.indexOf(element),offset=sc===_vertical.sc?1:2;return!~i&&(i=_scrollers.push(element)-1),_scrollers[i+offset]||(_scrollers[i+offset]=_getProxyProp(element,s)||(_isViewport(element)?sc:function(value){return arguments.length?element[s]=value:element[s]}))},_getBoundsFunc=function _getBoundsFunc(element){return _getProxyProp(element,"getBoundingClientRect")||(_isViewport(element)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds(element)})},_getSizeFunc=function _getSizeFunc(scroller,isViewport,_ref2){var d=_ref2.d,d2=_ref2.d2,a=_ref2.a;return(a=_getProxyProp(scroller,"getBoundingClientRect"))?function(){return a()[d]}:function(){return(isViewport?_win["inner"+d2]:scroller["client"+d2])||0}},_getOffsetsFunc=function _getOffsetsFunc(element,isViewport){return!isViewport||~_proxies.indexOf(element)?_getBoundsFunc(element):function(){return _winOffsets}},_maxScroll=function _maxScroll(element,_ref3){var s=_ref3.s,d2=_ref3.d2,d=_ref3.d,a=_ref3.a;return(s="scroll"+d2)&&(a=_getProxyProp(element,s))?a()-_getBoundsFunc(element)()[d]:_isViewport(element)?(_body[s]||_docEl[s])-(_win["inner"+d2]||_docEl["client"+d2]||_body["client"+d2]):element[s]-element["offset"+d2]},_iterateAutoRefresh=function _iterateAutoRefresh(func,events){for(var i=0;i<_autoRefresh.length;i+=3)(!events||~events.indexOf(_autoRefresh[i+1]))&&func(_autoRefresh[i],_autoRefresh[i+1],_autoRefresh[i+2])},_isString=function _isString(value){return typeof value=="string"},_isFunction=function _isFunction(value){return typeof value=="function"},_isNumber=function _isNumber(value){return typeof value=="number"},_isObject=function _isObject(value){return typeof value=="object"},_callIfFunc=function _callIfFunc(value){return _isFunction(value)&&value()},_combineFunc=function _combineFunc(f1,f2){return function(){var result1=_callIfFunc(f1),result2=_callIfFunc(f2);return function(){_callIfFunc(result1),_callIfFunc(result2)}}},_endAnimation=function _endAnimation(animation,reversed,pause){return animation&&animation.progress(reversed?0:1)&&pause&&animation.pause()},_callback=function _callback(self,func){var result=func(self);result&&result.totalTime&&(self.callbackAnimation=result)},_abs=Math.abs,_scrollLeft="scrollLeft",_scrollTop="scrollTop",_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_horizontal={s:_scrollLeft,p:_left,p2:_Left,os:_right,os2:_Right,d:_width,d2:_Width,a:"x",sc:function sc(value){return arguments.length?_win.scrollTo(value,_vertical.sc()):_win.pageXOffset||_doc[_scrollLeft]||_docEl[_scrollLeft]||_body[_scrollLeft]||0}},_vertical={s:_scrollTop,p:_top,p2:_Top,os:_bottom,os2:_Bottom,d:_height,d2:_Height,a:"y",op:_horizontal,sc:function sc(value){return arguments.length?_win.scrollTo(_horizontal.sc(),value):_win.pageYOffset||_doc[_scrollTop]||_docEl[_scrollTop]||_body[_scrollTop]||0}},_getComputedStyle=function _getComputedStyle(element){return _win.getComputedStyle(element)},_makePositionable=function _makePositionable(element){var position=_getComputedStyle(element).position;element.style.position=position==="absolute"||position==="fixed"?position:"relative"},_setDefaults=function _setDefaults(obj,defaults){for(var p in defaults)p in obj||(obj[p]=defaults[p]);return obj},_getBounds=function _getBounds(element,withoutTransforms){var tween=withoutTransforms&&_getComputedStyle(element)[_transformProp]!=="matrix(1, 0, 0, 1, 0, 0)"&&gsap.to(element,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),bounds=element.getBoundingClientRect();return tween&&tween.progress(0).kill(),bounds},_getSize=function _getSize(element,_ref4){var d2=_ref4.d2;return element["offset"+d2]||element["client"+d2]||0},_getLabelRatioArray=function _getLabelRatioArray(timeline){var a=[],labels=timeline.labels,duration=timeline.duration(),p;for(p in labels)a.push(labels[p]/duration);return a},_getClosestLabel=function _getClosestLabel(animation){return function(value){return gsap.utils.snap(_getLabelRatioArray(animation),value)}},_snapDirectional=function _snapDirectional(snapIncrementOrArray){var snap=gsap.utils.snap(snapIncrementOrArray),a=Array.isArray(snapIncrementOrArray)&&snapIncrementOrArray.slice(0).sort(function(a,b){return a-b});return a?function(value,direction){var i;if(!direction)return snap(value);if(direction>0){value-=1e-4;for(i=0;i<a.length;i++)if(a[i]>=value)return a[i];return a[i-1]}i=a.length,value+=1e-4;while(i--)if(a[i]<=value)return a[i];return a[0]}:function(value,direction){var snapped=snap(value);return!direction||Math.abs(snapped-value)<.001||snapped-value<0==direction<0?snapped:snap(direction<0?value-snapIncrementOrArray:value+snapIncrementOrArray)}},_getLabelAtDirection=function _getLabelAtDirection(timeline){return function(value,st){return _snapDirectional(_getLabelRatioArray(timeline))(value,st.direction)}},_multiListener=function _multiListener(func,element,types,callback){return types.split(",").forEach(function(type){return func(element,type,callback)})},_addListener=function _addListener(element,type,func){return element.addEventListener(type,func,{passive:!0})},_removeListener=function _removeListener(element,type,func){return element.removeEventListener(type,func)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function _offsetToPx(value,size){if(_isString(value)){var eqIndex=value.indexOf("="),relative=~eqIndex?+(value.charAt(eqIndex-1)+1)*parseFloat(value.substr(eqIndex+1)):0;~eqIndex&&(value.indexOf("%")>eqIndex&&(relative*=size/100),value=value.substr(0,eqIndex-1)),value=relative+(value in _keywords?_keywords[value]*size:~value.indexOf("%")?parseFloat(value)*size/100:parseFloat(value)||0)}return value},_createMarker=function _createMarker(type,name,container,direction,_ref5,offset,matchWidthEl,containerAnimation){var startColor=_ref5.startColor,endColor=_ref5.endColor,fontSize=_ref5.fontSize,indent=_ref5.indent,fontWeight=_ref5.fontWeight,e=_doc.createElement("div"),useFixedPosition=_isViewport(container)||_getProxyProp(container,"pinType")==="fixed",isScroller=type.indexOf("scroller")!==-1,parent=useFixedPosition?_body:container,isStart=type.indexOf("start")!==-1,color=isStart?startColor:endColor,css="border-color:"+color+";font-size:"+fontSize+";color:"+color+";font-weight:"+fontWeight+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return css+="position:"+((isScroller||containerAnimation)&&useFixedPosition?"fixed;":"absolute;"),(isScroller||containerAnimation||!useFixedPosition)&&(css+=(direction===_vertical?_right:_bottom)+":"+(offset+parseFloat(indent))+"px;"),matchWidthEl&&(css+="box-sizing:border-box;text-align:left;width:"+matchWidthEl.offsetWidth+"px;"),e._isStart=isStart,e.setAttribute("class","gsap-marker-"+type+(name?" marker-"+name:"")),e.style.cssText=css,e.innerText=name||name===0?type+"-"+name:type,parent.children[0]?parent.insertBefore(e,parent.children[0]):parent.appendChild(e),e._offset=e["offset"+direction.op.d2],_positionMarker(e,0,direction,isStart),e},_positionMarker=function _positionMarker(marker,start,direction,flipped){var vars={display:"block"},side=direction[flipped?"os2":"p2"],oppositeSide=direction[flipped?"p2":"os2"];marker._isFlipped=flipped,vars[direction.a+"Percent"]=flipped?-100:0,vars[direction.a]=flipped?"1px":0,vars["border"+side+_Width]=1,vars["border"+oppositeSide+_Width]=0,vars[direction.p]=start+"px",gsap.set(marker,vars)},_triggers=[],_ids={},_sync=function _sync(){return _getTime()-_lastScrollTime>20&&_updateAll()},_onScroll=function _onScroll(){var time=_getTime();_lastScrollTime!==time?(_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=time):_request||(_request=_raf(_updateAll))},_onResize=function _onResize(){return!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_media=[],_creatingMedia,_lastMediaTick,_onMediaChange=function _onMediaChange(e){var tick=gsap.ticker.frame,matches=[],i=0,index;if(_lastMediaTick!==tick||_startup){_revertAll();for(;i<_media.length;i+=4)index=_win.matchMedia(_media[i]).matches,index!==_media[i+3]&&(_media[i+3]=index,index?matches.push(i):_revertAll(1,_media[i])||_isFunction(_media[i+2])&&_media[i+2]());_revertRecorded();for(i=0;i<matches.length;i++)index=matches[i],_creatingMedia=_media[index],_media[index+2]=_media[index+1](e);_creatingMedia=0,_coreInitted&&_refreshAll(0,1),_lastMediaTick=tick,_dispatch("matchMedia")}},_softRefresh=function _softRefresh(){return _removeListener(ScrollTrigger,"scrollEnd",_softRefresh)||_refreshAll(!0)},_dispatch=function _dispatch(type){return _listeners[type]&&_listeners[type].map(function(f){return f()})||_emptyArray},_savedStyles=[],_revertRecorded=function _revertRecorded(media){for(var i=0;i<_savedStyles.length;i+=5)if(!media||_savedStyles[i+4]===media)_savedStyles[i].style.cssText=_savedStyles[i+1],_savedStyles[i].getBBox&&_savedStyles[i].setAttribute("transform",_savedStyles[i+2]||""),_savedStyles[i+3].uncache=1},_revertAll=function _revertAll(kill,media){var trigger;for(_i=0;_i<_triggers.length;_i++){trigger=_triggers[_i];if(!media||trigger.media===media)kill?trigger.kill(1):trigger.revert()}media&&_revertRecorded(media),media||_dispatch("revert")},_clearScrollMemory=function _clearScrollMemory(){return _scrollers.forEach(function(obj){return typeof obj=="function"&&(obj.rec=0)})},_refreshingAll,_refreshAll=function _refreshAll(force,skipRevert){if(_lastScrollTime&&!force){_addListener(ScrollTrigger,"scrollEnd",_softRefresh);return}_refreshingAll=!0;var refreshInits=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),skipRevert||_revertAll(),_triggers.forEach(function(t){return t.refresh()}),refreshInits.forEach(function(result){return result&&result.render&&result.render(-1)}),_clearScrollMemory(),_resizeDelay.pause(),_refreshingAll=!1,_dispatch("refresh")},_lastScroll=0,_direction=1,_updateAll=function _updateAll(){if(!_refreshingAll){var l=_triggers.length,time=_getTime(),recordVelocity=time-_time1>=50,scroll=l&&_triggers[0].scroll();_direction=_lastScroll>scroll?-1:1,_lastScroll=scroll,recordVelocity&&(_lastScrollTime&&!_pointerIsDown&&time-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=time);if(_direction<0){_i=l;while(_i-->0)_triggers[_i]&&_triggers[_i].update(0,recordVelocity);_direction=1}else for(_i=0;_i<l;_i++)_triggers[_i]&&_triggers[_i].update(0,recordVelocity);_request=0}},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","grid-column-start","grid-column-end","grid-row-start","grid-row-end","grid-area","justify-self","align-self","place-self"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function _swapPinOut(pin,spacer,state){_setState(state);var cache=pin._gsap;if(cache.spacerIsNative)_setState(cache.spacerState);else if(pin.parentNode===spacer){var parent=spacer.parentNode;parent&&(parent.insertBefore(pin,spacer),parent.removeChild(spacer))}},_swapPinIn=function _swapPinIn(pin,spacer,cs,spacerState){if(pin.parentNode!==spacer){var i=_propNamesToCopy.length,spacerStyle=spacer.style,pinStyle=pin.style,p;while(i--)p=_propNamesToCopy[i],spacerStyle[p]=cs[p];spacerStyle.position=cs.position==="absolute"?"absolute":"relative",cs.display==="inline"&&(spacerStyle.display="inline-block"),pinStyle[_bottom]=pinStyle[_right]="auto",spacerStyle.overflow="visible",spacerStyle.boxSizing="border-box",spacerStyle[_width]=_getSize(pin,_horizontal)+_px,spacerStyle[_height]=_getSize(pin,_vertical)+_px,spacerStyle[_padding]=pinStyle[_margin]=pinStyle[_top]=pinStyle[_left]="0",_setState(spacerState),pinStyle[_width]=pinStyle["max"+_Width]=cs[_width],pinStyle[_height]=pinStyle["max"+_Height]=cs[_height],pinStyle[_padding]=cs[_padding],pin.parentNode.insertBefore(spacer,pin),spacer.appendChild(pin)}},_capsExp=/([A-Z])/g,_setState=function _setState(state){if(state){var style=state.t.style,l=state.length,i=0,p,value;(state.t._gsap||gsap.core.getCache(state.t)).uncache=1;for(;i<l;i+=2)value=state[i+1],p=state[i],value?style[p]=value:style[p]&&style.removeProperty(p.replace(_capsExp,"-$1").toLowerCase())}},_getState=function _getState(element){var l=_stateProps.length,style=element.style,state=[],i=0;for(;i<l;i++)state.push(_stateProps[i],style[_stateProps[i]]);return state.t=element,state},_copyState=function _copyState(state,override,omitOffsets){var result=[],l=state.length,i=omitOffsets?8:0,p;for(;i<l;i+=2)p=state[i],result.push(p,p in override?override[p]:state[i+1]);return result.t=state.t,result},_winOffsets={left:0,top:0},_parsePosition=function _parsePosition(value,trigger,scrollerSize,direction,scroll,marker,markerScroller,self,scrollerBounds,borderWidth,useFixedPosition,scrollerMax,containerAnimation){_isFunction(value)&&(value=value(self)),_isString(value)&&value.substr(0,3)==="max"&&(value=scrollerMax+(value.charAt(4)==="="?_offsetToPx("0"+value.substr(3),scrollerSize):0));var time=containerAnimation?containerAnimation.time():0,p1,p2,element;containerAnimation&&containerAnimation.seek(0);if(!_isNumber(value)){_isFunction(trigger)&&(trigger=trigger(self));var offsets=value.split(" "),bounds,localOffset,globalOffset,display;element=_getTarget(trigger)||_body,bounds=_getBounds(element)||{},(!bounds||!bounds.left&&!bounds.top)&&_getComputedStyle(element).display==="none"&&(display=element.style.display,element.style.display="block",bounds=_getBounds(element),display?element.style.display=display:element.style.removeProperty("display")),localOffset=_offsetToPx(offsets[0],bounds[direction.d]),globalOffset=_offsetToPx(offsets[1]||"0",scrollerSize),value=bounds[direction.p]-scrollerBounds[direction.p]-borderWidth+localOffset+scroll-globalOffset,markerScroller&&_positionMarker(markerScroller,globalOffset,direction,scrollerSize-globalOffset<20||markerScroller._isStart&&globalOffset>20),scrollerSize-=scrollerSize-globalOffset}else markerScroller&&_positionMarker(markerScroller,scrollerSize,direction,!0);if(marker){var position=value+scrollerSize,isStart=marker._isStart;p1="scroll"+direction.d2,_positionMarker(marker,position,direction,isStart&&position>20||!isStart&&(useFixedPosition?Math.max(_body[p1],_docEl[p1]):marker.parentNode[p1])<=position+1),useFixedPosition&&(scrollerBounds=_getBounds(markerScroller),useFixedPosition&&(marker.style[direction.op.p]=scrollerBounds[direction.op.p]-direction.op.m-marker._offset+_px))}return containerAnimation&&element&&(p1=_getBounds(element),containerAnimation.seek(scrollerMax),p2=_getBounds(element),containerAnimation._caScrollDist=p1[direction.p]-p2[direction.p],value=value/containerAnimation._caScrollDist*scrollerMax),containerAnimation&&containerAnimation.seek(time),containerAnimation?value:Math.round(value)},_prefixExp=/(?:webkit|moz|length|cssText|inset)/i,_reparent=function _reparent(element,parent,top,left){if(element.parentNode!==parent){var style=element.style,p,cs;if(parent===_body){element._stOrig=style.cssText,cs=_getComputedStyle(element);for(p in cs)!+p&&!_prefixExp.test(p)&&cs[p]&&typeof style[p]=="string"&&p!=="0"&&(style[p]=cs[p]);style.top=top,style.left=left}else style.cssText=element._stOrig;gsap.core.getCache(element).uncache=1,parent.appendChild(element)}},_getTweenCreator=function _getTweenCreator(scroller,direction){var getScroll=_getScrollFunc(scroller,direction),prop="_scroll"+direction.p2,lastScroll1,lastScroll2,getTween=function getTween(scrollTo,vars,initialValue,change1,change2){var tween=getTween.tween,onComplete=vars.onComplete,modifiers={};return tween&&tween.kill(),lastScroll1=Math.round(initialValue),vars[prop]=scrollTo,vars.modifiers=modifiers,modifiers[prop]=function(value){return value=_round(getScroll()),value!==lastScroll1&&value!==lastScroll2&&Math.abs(value-lastScroll1)>2?(tween.kill(),getTween.tween=0):value=initialValue+change1*tween.ratio+change2*tween.ratio*tween.ratio,lastScroll2=lastScroll1,lastScroll1=_round(value)},vars.onComplete=function(){getTween.tween=0,onComplete&&onComplete.call(tween)},tween=getTween.tween=gsap.to(scroller,vars),tween};return scroller[prop]=getScroll,scroller.addEventListener("wheel",function(){return getTween.tween&&getTween.tween.kill()&&(getTween.tween=0)},{passive:!0}),getTween};_horizontal.op=_vertical;var ScrollTrigger=function(){function ScrollTrigger(vars,animation){_coreInitted||ScrollTrigger.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(vars,animation)}var _proto=ScrollTrigger.prototype;return _proto.init=function init(vars,animation){this.progress=this.start=0,this.vars&&this.kill(1);if(!_enabled){this.update=this.refresh=this.kill=_passThrough;return}vars=_setDefaults(_isString(vars)||_isNumber(vars)||vars.nodeType?{trigger:vars}:vars,_defaults);var _vars=vars,onUpdate=_vars.onUpdate,toggleClass=_vars.toggleClass,id=_vars.id,onToggle=_vars.onToggle,onRefresh=_vars.onRefresh,scrub=_vars.scrub,trigger=_vars.trigger,pin=_vars.pin,pinSpacing=_vars.pinSpacing,invalidateOnRefresh=_vars.invalidateOnRefresh,anticipatePin=_vars.anticipatePin,onScrubComplete=_vars.onScrubComplete,onSnapComplete=_vars.onSnapComplete,once=_vars.once,snap=_vars.snap,pinReparent=_vars.pinReparent,pinSpacer=_vars.pinSpacer,containerAnimation=_vars.containerAnimation,fastScrollEnd=_vars.fastScrollEnd,preventOverlaps=_vars.preventOverlaps,direction=vars.horizontal||vars.containerAnimation&&vars.horizontal!==!1?_horizontal:_vertical,isToggle=!scrub&&scrub!==0,scroller=_getTarget(vars.scroller||_win),scrollerCache=gsap.core.getCache(scroller),isViewport=_isViewport(scroller),useFixedPosition=("pinType"in vars?vars.pinType:_getProxyProp(scroller,"pinType")||isViewport&&"fixed")==="fixed",callbacks=[vars.onEnter,vars.onLeave,vars.onEnterBack,vars.onLeaveBack],toggleActions=isToggle&&vars.toggleActions.split(" "),markers="markers"in vars?vars.markers:_defaults.markers,borderWidth=isViewport?0:parseFloat(_getComputedStyle(scroller)["border"+direction.p2+_Width])||0,self=this,onRefreshInit=vars.onRefreshInit&&function(){return vars.onRefreshInit(self)},getScrollerSize=_getSizeFunc(scroller,isViewport,direction),getScrollerOffsets=_getOffsetsFunc(scroller,isViewport),lastSnap=0,scrollFunc=_getScrollFunc(scroller,direction),tweenTo,pinCache,snapFunc,scroll1,scroll2,start,end,markerStart,markerEnd,markerStartTrigger,markerEndTrigger,markerVars,change,pinOriginalState,pinActiveState,pinState,spacer,offset,pinGetter,pinSetter,pinStart,pinChange,spacingStart,spacerState,markerStartSetter,markerEndSetter,cs,snap1,snap2,scrubTween,scrubSmooth,snapDurClamp,snapDelayedCall,prevProgress,prevScroll,prevAnimProgress,caMarkerSetter;self.media=_creatingMedia,anticipatePin*=45,self.scroller=scroller,self.scroll=containerAnimation?containerAnimation.time.bind(containerAnimation):scrollFunc,scroll1=scrollFunc(),self.vars=vars,animation=animation||vars.animation,"refreshPriority"in vars&&(_sort=1),scrollerCache.tweenScroll=scrollerCache.tweenScroll||{top:_getTweenCreator(scroller,_vertical),left:_getTweenCreator(scroller,_horizontal)},self.tweenTo=tweenTo=scrollerCache.tweenScroll[direction.p],animation&&(animation.vars.lazy=!1,animation._initted||animation.vars.immediateRender!==!1&&vars.immediateRender!==!1&&animation.render(0,!0,!0),self.animation=animation.pause(),animation.scrollTrigger=self,scrubSmooth=_isNumber(scrub)&&scrub,scrubSmooth&&(scrubTween=gsap.to(animation,{ease:"power3",duration:scrubSmooth,onComplete:function onComplete(){return onScrubComplete&&onScrubComplete(self)}})),snap1=0,id||(id=animation.vars.id)),_triggers.push(self);if(snap){if(!_isObject(snap)||snap.push)snap={snapTo:snap};"scrollBehavior"in _body.style&&gsap.set(isViewport?[_body,_docEl]:scroller,{scrollBehavior:"auto"}),snapFunc=_isFunction(snap.snapTo)?snap.snapTo:snap.snapTo==="labels"?_getClosestLabel(animation):snap.snapTo==="labelsDirectional"?_getLabelAtDirection(animation):snap.directional!==!1?function(value,st){return _snapDirectional(snap.snapTo)(value,st.direction)}:gsap.utils.snap(snap.snapTo),snapDurClamp=snap.duration||{min:.1,max:2},snapDurClamp=_isObject(snapDurClamp)?_clamp(snapDurClamp.min,snapDurClamp.max):_clamp(snapDurClamp,snapDurClamp),snapDelayedCall=gsap.delayedCall(snap.delay||scrubSmooth/2||.1,function(){if(Math.abs(self.getVelocity())<10&&!_pointerIsDown&&lastSnap!==scrollFunc()){var totalProgress=animation&&!isToggle?animation.totalProgress():self.progress,velocity=(totalProgress-snap2)/(_getTime()-_time2)*1e3||0,change1=gsap.utils.clamp(-self.progress,1-self.progress,_abs(velocity/2)*velocity/.185),naturalEnd=self.progress+(snap.inertia===!1?0:change1),endValue=_clamp(0,1,snapFunc(naturalEnd,self)),scroll=scrollFunc(),endScroll=Math.round(start+endValue*change),_snap=snap,onStart=_snap.onStart,_onInterrupt=_snap.onInterrupt,_onComplete=_snap.onComplete,tween=tweenTo.tween;if(scroll<=end&&scroll>=start&&endScroll!==scroll){if(tween&&!tween._initted&&tween.data<=_abs(endScroll-scroll))return;snap.inertia===!1&&(change1=endValue-self.progress),tweenTo(endScroll,{duration:snapDurClamp(_abs(Math.max(_abs(naturalEnd-totalProgress),_abs(endValue-totalProgress))*.185/velocity/.05||0)),ease:snap.ease||"power3",data:_abs(endScroll-scroll),onInterrupt:function onInterrupt(){return snapDelayedCall.restart(!0)&&_onInterrupt&&_onInterrupt(self)},onComplete:function onComplete(){lastSnap=scrollFunc(),snap1=snap2=animation&&!isToggle?animation.totalProgress():self.progress,onSnapComplete&&onSnapComplete(self),_onComplete&&_onComplete(self)}},scroll,change1*change,endScroll-scroll-change1*change),onStart&&onStart(self,tweenTo.tween)}}else self.isActive&&snapDelayedCall.restart(!0)}).pause()}id&&(_ids[id]=self),trigger=self.trigger=_getTarget(trigger||pin),pin=pin===!0?trigger:_getTarget(pin),_isString(toggleClass)&&(toggleClass={targets:trigger,className:toggleClass}),pin&&(pinSpacing===!1||pinSpacing===_margin||(pinSpacing=!pinSpacing&&_getComputedStyle(pin.parentNode).display==="flex"?!1:_padding),self.pin=pin,vars.force3D!==!1&&gsap.set(pin,{force3D:!0}),pinCache=gsap.core.getCache(pin),pinCache.spacer?pinOriginalState=pinCache.pinState:(pinSpacer&&(pinSpacer=_getTarget(pinSpacer),pinSpacer&&!pinSpacer.nodeType&&(pinSpacer=pinSpacer.current||pinSpacer.nativeElement),pinCache.spacerIsNative=!!pinSpacer,pinSpacer&&(pinCache.spacerState=_getState(pinSpacer))),pinCache.spacer=spacer=pinSpacer||_doc.createElement("div"),spacer.classList.add("pin-spacer"),id&&spacer.classList.add("pin-spacer-"+id),pinCache.pinState=pinOriginalState=_getState(pin)),self.spacer=spacer=pinCache.spacer,cs=_getComputedStyle(pin),spacingStart=cs[pinSpacing+direction.os2],pinGetter=gsap.getProperty(pin),pinSetter=gsap.quickSetter(pin,direction.a,_px),_swapPinIn(pin,spacer,cs),pinState=_getState(pin)),markers&&(markerVars=_isObject(markers)?_setDefaults(markers,_markerDefaults):_markerDefaults,markerStartTrigger=_createMarker("scroller-start",id,scroller,direction,markerVars,0),markerEndTrigger=_createMarker("scroller-end",id,scroller,direction,markerVars,0,markerStartTrigger),offset=markerStartTrigger["offset"+direction.op.d2],markerStart=_createMarker("start",id,scroller,direction,markerVars,offset,0,containerAnimation),markerEnd=_createMarker("end",id,scroller,direction,markerVars,offset,0,containerAnimation),containerAnimation&&(caMarkerSetter=gsap.quickSetter([markerStart,markerEnd],direction.a,_px)),!useFixedPosition&&(!_proxies.length||_getProxyProp(scroller,"fixedMarkers")!==!0)&&(_makePositionable(isViewport?_body:scroller),gsap.set([markerStartTrigger,markerEndTrigger],{force3D:!0}),markerStartSetter=gsap.quickSetter(markerStartTrigger,direction.a,_px),markerEndSetter=gsap.quickSetter(markerEndTrigger,direction.a,_px)));if(containerAnimation){var oldOnUpdate=containerAnimation.vars.onUpdate,oldParams=containerAnimation.vars.onUpdateParams;containerAnimation.eventCallback("onUpdate",function(){self.update(0,0,1),oldOnUpdate&&oldOnUpdate.apply(oldParams||[])})}self.previous=function(){return _triggers[_triggers.indexOf(self)-1]},self.next=function(){return _triggers[_triggers.indexOf(self)+1]},self.revert=function(revert){var r=revert!==!1||!self.enabled,prevRefreshing=_refreshing;r!==self.isReverted&&(r&&(self.scroll.rec||(self.scroll.rec=scrollFunc()),prevScroll=Math.max(scrollFunc(),self.scroll.rec||0),prevProgress=self.progress,prevAnimProgress=animation&&animation.progress()),markerStart&&[markerStart,markerEnd,markerStartTrigger,markerEndTrigger].forEach(function(m){return m.style.display=r?"none":"block"}),r&&(_refreshing=1),self.update(r),_refreshing=prevRefreshing,pin&&(r?_swapPinOut(pin,spacer,pinOriginalState):(!pinReparent||!self.isActive)&&_swapPinIn(pin,spacer,_getComputedStyle(pin),spacerState)),self.isReverted=r)},self.refresh=function(soft,force){if((_refreshing||!self.enabled)&&!force)return;if(pin&&soft&&_lastScrollTime){_addListener(ScrollTrigger,"scrollEnd",_softRefresh);return}_refreshing=1,scrubTween&&scrubTween.pause(),invalidateOnRefresh&&animation&&animation.progress(0).invalidate(),self.isReverted||self.revert();var size=getScrollerSize(),scrollerBounds=getScrollerOffsets(),max=containerAnimation?containerAnimation.duration():_maxScroll(scroller,direction),offset=0,otherPinOffset=0,parsedEnd=vars.end,parsedEndTrigger=vars.endTrigger||trigger,parsedStart=vars.start||(vars.start===0||!trigger?0:pin?"0 0":"0 100%"),pinnedContainer=vars.pinnedContainer&&_getTarget(vars.pinnedContainer),triggerIndex=trigger&&Math.max(0,_triggers.indexOf(self))||0,i=triggerIndex,cs,bounds,scroll,isVertical,override,curTrigger,curPin,oppositeScroll,initted,revertedPins;while(i--)curTrigger=_triggers[i],curTrigger.end||curTrigger.refresh(0,1)||(_refreshing=1),curPin=curTrigger.pin,curPin&&(curPin===trigger||curPin===pin)&&!curTrigger.isReverted&&(revertedPins||(revertedPins=[]),revertedPins.unshift(curTrigger),curTrigger.revert());_isFunction(parsedStart)&&(parsedStart=parsedStart(self)),start=_parsePosition(parsedStart,trigger,size,direction,scrollFunc(),markerStart,markerStartTrigger,self,scrollerBounds,borderWidth,useFixedPosition,max,containerAnimation)||(pin?-0.001:0),_isFunction(parsedEnd)&&(parsedEnd=parsedEnd(self)),_isString(parsedEnd)&&!parsedEnd.indexOf("+=")&&(~parsedEnd.indexOf(" ")?parsedEnd=(_isString(parsedStart)?parsedStart.split(" ")[0]:"")+parsedEnd:(offset=_offsetToPx(parsedEnd.substr(2),size),parsedEnd=_isString(parsedStart)?parsedStart:start+offset,parsedEndTrigger=trigger)),end=Math.max(start,_parsePosition(parsedEnd||(parsedEndTrigger?"100% 0":max),parsedEndTrigger,size,direction,scrollFunc()+offset,markerEnd,markerEndTrigger,self,scrollerBounds,borderWidth,useFixedPosition,max,containerAnimation))||-0.001,change=end-start||(start-=.01)&&.001,offset=0,i=triggerIndex;while(i--)curTrigger=_triggers[i],curPin=curTrigger.pin,curPin&&curTrigger.start-curTrigger._pinPush<start&&!containerAnimation&&(cs=curTrigger.end-curTrigger.start,(curPin===trigger||curPin===pinnedContainer)&&!_isNumber(parsedStart)&&(offset+=cs),curPin===pin&&(otherPinOffset+=cs));start+=offset,end+=offset,self._pinPush=otherPinOffset,markerStart&&offset&&(cs={},cs[direction.a]="+="+offset,pinnedContainer&&(cs[direction.p]="-="+scrollFunc()),gsap.set([markerStart,markerEnd],cs));if(pin)cs=_getComputedStyle(pin),isVertical=direction===_vertical,scroll=scrollFunc(),pinStart=parseFloat(pinGetter(direction.a))+otherPinOffset,!max&&end>1&&((isViewport?_body:scroller).style["overflow-"+direction.a]="scroll"),_swapPinIn(pin,spacer,cs),pinState=_getState(pin),bounds=_getBounds(pin,!0),oppositeScroll=useFixedPosition&&_getScrollFunc(scroller,isVertical?_horizontal:_vertical)(),pinSpacing&&(spacerState=[pinSpacing+direction.os2,change+otherPinOffset+_px],spacerState.t=spacer,i=pinSpacing===_padding?_getSize(pin,direction)+change+otherPinOffset:0,i&&spacerState.push(direction.d,i+_px),_setState(spacerState),useFixedPosition&&scrollFunc(prevScroll)),useFixedPosition&&(override={top:bounds.top+(isVertical?scroll-start:oppositeScroll)+_px,left:bounds.left+(isVertical?oppositeScroll:scroll-start)+_px,boxSizing:"border-box",position:"fixed"},override[_width]=override["max"+_Width]=Math.ceil(bounds.width)+_px,override[_height]=override["max"+_Height]=Math.ceil(bounds.height)+_px,override[_margin]=override[_margin+_Top]=override[_margin+_Right]=override[_margin+_Bottom]=override[_margin+_Left]="0",override[_padding]=cs[_padding],override[_padding+_Top]=cs[_padding+_Top],override[_padding+_Right]=cs[_padding+_Right],override[_padding+_Bottom]=cs[_padding+_Bottom],override[_padding+_Left]=cs[_padding+_Left],pinActiveState=_copyState(pinOriginalState,override,pinReparent)),animation?(initted=animation._initted,_suppressOverwrites(1),animation.render(animation.duration(),!0,!0),pinChange=pinGetter(direction.a)-pinStart+change+otherPinOffset,change!==pinChange&&pinActiveState.splice(pinActiveState.length-2,2),animation.render(0,!0,!0),initted||animation.invalidate(),_suppressOverwrites(0)):pinChange=change;else if(trigger&&scrollFunc()&&!containerAnimation){bounds=trigger.parentNode;while(bounds&&bounds!==_body)bounds._pinOffset&&(start-=bounds._pinOffset,end-=bounds._pinOffset),bounds=bounds.parentNode}revertedPins&&revertedPins.forEach(function(t){return t.revert(!1)}),self.start=start,self.end=end,scroll1=scroll2=scrollFunc(),containerAnimation||(scroll1<prevScroll&&scrollFunc(prevScroll),self.scroll.rec=0),self.revert(!1),_refreshing=0,animation&&isToggle&&animation._initted&&animation.progress()!==prevAnimProgress&&animation.progress(prevAnimProgress,!0).render(animation.time(),!0,!0),prevProgress!==self.progress&&(animation&&!isToggle&&animation.totalProgress(prevProgress,!0),self.progress=prevProgress,self.update(0,0,1)),pin&&pinSpacing&&(spacer._pinOffset=Math.round(self.progress*pinChange)),onRefresh&&onRefresh(self)},self.getVelocity=function(){return(scrollFunc()-scroll2)/(_getTime()-_time2)*1e3||0},self.endAnimation=function(){_endAnimation(self.callbackAnimation),animation&&(scrubTween?scrubTween.progress(1):animation.paused()?isToggle||_endAnimation(animation,self.direction<0,1):_endAnimation(animation,animation.reversed()))},self.getTrailing=function(name){var i=_triggers.indexOf(self),a=self.direction>0?_triggers.slice(0,i).reverse():_triggers.slice(i+1);return _isString(name)?a.filter(function(t){return t.vars.preventOverlaps===name}):a},self.update=function(reset,recordVelocity,forceFake){if(containerAnimation&&!forceFake&&!reset)return;var scroll=self.scroll(),p=reset?0:(scroll-start)/change,clipped=p<0?0:p>1?1:p||0,prevProgress=self.progress,isActive,wasActive,toggleState,action,stateChanged,toggled,isAtMax,isTakingAction;recordVelocity&&(scroll2=scroll1,scroll1=containerAnimation?scrollFunc():scroll,snap&&(snap2=snap1,snap1=animation&&!isToggle?animation.totalProgress():clipped)),anticipatePin&&!clipped&&pin&&!_refreshing&&!_startup&&_lastScrollTime&&start<scroll+(scroll-scroll2)/(_getTime()-_time2)*anticipatePin&&(clipped=1e-4);if(clipped!==prevProgress&&self.enabled){isActive=self.isActive=!!clipped&&clipped<1,wasActive=!!prevProgress&&prevProgress<1,toggled=isActive!==wasActive,stateChanged=toggled||!!clipped!=!!prevProgress,self.direction=clipped>prevProgress?1:-1,self.progress=clipped,stateChanged&&!_refreshing&&(toggleState=clipped&&!prevProgress?0:clipped===1?1:prevProgress===1?2:3,isToggle&&(action=!toggled&&toggleActions[toggleState+1]!=="none"&&toggleActions[toggleState+1]||toggleActions[toggleState],isTakingAction=animation&&(action==="complete"||action==="reset"||action in animation))),preventOverlaps&&toggled&&(isTakingAction||scrub||!animation)&&(_isFunction(preventOverlaps)?preventOverlaps(self):self.getTrailing(preventOverlaps).forEach(function(t){return t.endAnimation()})),isToggle||(scrubTween&&!_refreshing&&!_startup?(scrubTween.vars.totalProgress=clipped,scrubTween.invalidate().restart()):animation&&animation.totalProgress(clipped,!!_refreshing));if(pin){reset&&pinSpacing&&(spacer.style[pinSpacing+direction.os2]=spacingStart);if(!useFixedPosition)pinSetter(pinStart+pinChange*clipped);else if(stateChanged){isAtMax=!reset&&clipped>prevProgress&&end+1>scroll&&scroll+1>=_maxScroll(scroller,direction);if(pinReparent)if(!reset&&(isActive||isAtMax)){var bounds=_getBounds(pin,!0),_offset=scroll-start;_reparent(pin,_body,bounds.top+(direction===_vertical?_offset:0)+_px,bounds.left+(direction===_vertical?0:_offset)+_px)}else _reparent(pin,spacer);_setState(isActive||isAtMax?pinActiveState:pinState),pinChange!==change&&clipped<1&&isActive||pinSetter(pinStart+(clipped===1&&!isAtMax?pinChange:0))}}snap&&!tweenTo.tween&&!_refreshing&&!_startup&&snapDelayedCall.restart(!0),toggleClass&&(toggled||once&&clipped&&(clipped<1||!_limitCallbacks))&&_toArray(toggleClass.targets).forEach(function(el){return el.classList[isActive||once?"add":"remove"](toggleClass.className)}),onUpdate&&!isToggle&&!reset&&onUpdate(self);if(stateChanged&&!_refreshing){isToggle&&(isTakingAction&&(action==="complete"?animation.pause().totalProgress(1):action==="reset"?animation.restart(!0).pause():action==="restart"?animation.restart(!0):animation[action]()),onUpdate&&onUpdate(self));if(toggled||!_limitCallbacks)onToggle&&toggled&&_callback(self,onToggle),callbacks[toggleState]&&_callback(self,callbacks[toggleState]),once&&(clipped===1?self.kill(!1,1):callbacks[toggleState]=0),toggled||(toggleState=clipped===1?1:3,callbacks[toggleState]&&_callback(self,callbacks[toggleState]));fastScrollEnd&&!isActive&&Math.abs(self.getVelocity())>(_isNumber(fastScrollEnd)?fastScrollEnd:2500)&&(_endAnimation(self.callbackAnimation),scrubTween?scrubTween.progress(1):_endAnimation(animation,!clipped,1))}else isToggle&&onUpdate&&!_refreshing&&onUpdate(self)}if(markerEndSetter){var n=containerAnimation?scroll/containerAnimation.duration()*(containerAnimation._caScrollDist||0):scroll;markerStartSetter(n+(markerStartTrigger._isFlipped?1:0)),markerEndSetter(n)}caMarkerSetter&&caMarkerSetter(-scroll/containerAnimation.duration()*(containerAnimation._caScrollDist||0))},self.enable=function(reset,refresh){self.enabled||(self.enabled=!0,_addListener(scroller,"resize",_onResize),_addListener(scroller,"scroll",_onScroll),onRefreshInit&&_addListener(ScrollTrigger,"refreshInit",onRefreshInit),reset!==!1&&(self.progress=prevProgress=0,scroll1=scroll2=lastSnap=scrollFunc()),refresh!==!1&&self.refresh())},self.getTween=function(snap){return snap&&tweenTo?tweenTo.tween:scrubTween},self.disable=function(reset,allowAnimation){if(self.enabled){reset!==!1&&self.revert(),self.enabled=self.isActive=!1,allowAnimation||scrubTween&&scrubTween.pause(),prevScroll=0,pinCache&&(pinCache.uncache=1),onRefreshInit&&_removeListener(ScrollTrigger,"refreshInit",onRefreshInit),snapDelayedCall&&(snapDelayedCall.pause(),tweenTo.tween&&tweenTo.tween.kill()&&(tweenTo.tween=0));if(!isViewport){var i=_triggers.length;while(i--)if(_triggers[i].scroller===scroller&&_triggers[i]!==self)return;_removeListener(scroller,"resize",_onResize),_removeListener(scroller,"scroll",_onScroll)}}},self.kill=function(revert,allowAnimation){self.disable(revert,allowAnimation),scrubTween&&scrubTween.kill(),id&&delete _ids[id];var i=_triggers.indexOf(self);_triggers.splice(i,1),i===_i&&_direction>0&&_i--,i=0,_triggers.forEach(function(t){return t.scroller===self.scroller&&(i=1)}),i||(self.scroll.rec=0),animation&&(animation.scrollTrigger=null,revert&&animation.render(-1),allowAnimation||animation.kill()),markerStart&&[markerStart,markerEnd,markerStartTrigger,markerEndTrigger].forEach(function(m){return m.parentNode&&m.parentNode.removeChild(m)}),pin&&(pinCache&&(pinCache.uncache=1),i=0,_triggers.forEach(function(t){return t.pin===pin&&i++}),i||(pinCache.spacer=0))},self.enable(!1,!1),!animation||!animation.add||change?self.refresh():gsap.delayedCall(.01,function(){return start||end||self.refresh()})&&(change=.01)&&(start=end=0)},ScrollTrigger.register=function register(core){if(!_coreInitted){gsap=core||_getGSAP(),_windowExists()&&window.document&&(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body);if(gsap){_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,gsap.core.globals("ScrollTrigger",ScrollTrigger);if(_body){_raf=_win.requestAnimationFrame||function(f){return setTimeout(f,16)},_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],_addListener(_doc,"scroll",_onScroll);var bodyStyle=_body.style,border=bodyStyle.borderTopStyle,bounds;bodyStyle.borderTopStyle="solid",bounds=_getBounds(_body),_vertical.m=Math.round(bounds.top+_vertical.sc())||0,_horizontal.m=Math.round(bounds.left+_horizontal.sc())||0,border?bodyStyle.borderTopStyle=border:bodyStyle.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,200),gsap.delayedCall(.5,function(){return _startup=0}),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",function(){return _pointerIsDown=1}),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",function(){return _pointerIsDown=0}),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var w=_win.innerWidth,h=_win.innerHeight;_doc.hidden?(_prevWidth=w,_prevHeight=h):(_prevWidth!==w||_prevHeight!==h)&&_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",function(){return _lastScrollTime||_refreshAll()},_win,"resize",_onResize],_iterateAutoRefresh(_addListener)}}}return _coreInitted},ScrollTrigger.defaults=function defaults(config){for(var p in config)_defaults[p]=config[p]},ScrollTrigger.kill=function kill(){_enabled=0,_triggers.slice(0).forEach(function(trigger){return trigger.kill(1)})},ScrollTrigger.config=function config(vars){"limitCallbacks"in vars&&(_limitCallbacks=!!vars.limitCallbacks);var ms=vars.syncInterval;ms&&clearInterval(_syncInterval)||(_syncInterval=ms)&&setInterval(_sync,ms),"autoRefreshEvents"in vars&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,vars.autoRefreshEvents||"none"),_ignoreResize=(vars.autoRefreshEvents+"").indexOf("resize")===-1)},ScrollTrigger.scrollerProxy=function scrollerProxy(target,vars){var t=_getTarget(target),i=_scrollers.indexOf(t),isViewport=_isViewport(t);~i&&_scrollers.splice(i,isViewport?6:2),isViewport?_proxies.unshift(_win,vars,_body,vars,_docEl,vars):_proxies.unshift(t,vars)},ScrollTrigger.matchMedia=function matchMedia(vars){var mq,p,i,func,result;for(p in vars)i=_media.indexOf(p),func=vars[p],_creatingMedia=p,p==="all"?func():(mq=_win.matchMedia(p),mq&&(mq.matches&&(result=func()),~i?(_media[i+1]=_combineFunc(_media[i+1],func),_media[i+2]=_combineFunc(_media[i+2],result)):(i=_media.length,_media.push(p,func,result),mq.addListener?mq.addListener(_onMediaChange):mq.addEventListener("change",_onMediaChange)),_media[i+3]=mq.matches)),_creatingMedia=0;return _media},ScrollTrigger.clearMatchMedia=function clearMatchMedia(query){query||(_media.length=0),query=_media.indexOf(query),query>=0&&_media.splice(query,4)},ScrollTrigger.isInViewport=function isInViewport(element,ratio,horizontal){var bounds=(_isString(element)?_getTarget(element):element).getBoundingClientRect(),offset=bounds[horizontal?_width:_height]*ratio||0;return horizontal?bounds.right-offset>0&&bounds.left+offset<_win.innerWidth:bounds.bottom-offset>0&&bounds.top+offset<_win.innerHeight},ScrollTrigger.positionInViewport=function positionInViewport(element,referencePoint,horizontal){_isString(element)&&(element=_getTarget(element));var bounds=element.getBoundingClientRect(),size=bounds[horizontal?_width:_height],offset=referencePoint==null?size/2:referencePoint in _keywords?_keywords[referencePoint]*size:~referencePoint.indexOf("%")?parseFloat(referencePoint)*size/100:parseFloat(referencePoint)||0;return horizontal?(bounds.left+offset)/_win.innerWidth:(bounds.top+offset)/_win.innerHeight},ScrollTrigger}();ScrollTrigger.version="3.8.0",ScrollTrigger.saveStyles=function(targets){return targets?_toArray(targets).forEach(function(target){if(target&&target.style){var i=_savedStyles.indexOf(target);i>=0&&_savedStyles.splice(i,5),_savedStyles.push(target,target.style.cssText,target.getBBox&&target.getAttribute("transform"),gsap.core.getCache(target),_creatingMedia)}}):_savedStyles},ScrollTrigger.revert=function(soft,media){return _revertAll(!soft,media)},ScrollTrigger.create=function(vars,animation){return new ScrollTrigger(vars,animation)},ScrollTrigger.refresh=function(safe){return safe?_onResize():(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)},ScrollTrigger.update=_updateAll,ScrollTrigger.clearScrollMemory=_clearScrollMemory,ScrollTrigger.maxScroll=function(element,horizontal){return _maxScroll(element,horizontal?_horizontal:_vertical)},ScrollTrigger.getScrollFunc=function(element,horizontal){return _getScrollFunc(_getTarget(element),horizontal?_horizontal:_vertical)},ScrollTrigger.getById=function(id){return _ids[id]},ScrollTrigger.getAll=function(){return _triggers.slice(0)},ScrollTrigger.isScrolling=function(){return!!_lastScrollTime},ScrollTrigger.snapDirectional=_snapDirectional,ScrollTrigger.addEventListener=function(type,callback){var a=_listeners[type]||(_listeners[type]=[]);~a.indexOf(callback)||a.push(callback)},ScrollTrigger.removeEventListener=function(type,callback){var a=_listeners[type],i=a&&a.indexOf(callback);i>=0&&a.splice(i,1)},ScrollTrigger.batch=function(targets,vars){var result=[],varsCopy={},interval=vars.interval||.016,batchMax=vars.batchMax||1e9,proxyCallback=function proxyCallback(type,callback){var elements=[],triggers=[],delay=gsap.delayedCall(interval,function(){callback(elements,triggers),elements=[],triggers=[]}).pause();return function(self){elements.length||delay.restart(!0),elements.push(self.trigger),triggers.push(self),batchMax<=elements.length&&delay.progress(1)}},p;for(p in vars)varsCopy[p]=p.substr(0,2)==="on"&&_isFunction(vars[p])&&p!=="onRefreshInit"?proxyCallback(p,vars[p]):vars[p];return _isFunction(batchMax)&&(batchMax=batchMax(),_addListener(ScrollTrigger,"refresh",function(){return batchMax=vars.batchMax()})),_toArray(targets).forEach(function(target){var config={};for(p in varsCopy)config[p]=varsCopy[p];config.trigger=target,result.push(ScrollTrigger.create(config))}),result},ScrollTrigger.sort=function(func){return _triggers.sort(func||function(a,b){return(a.vars.refreshPriority||0)*-1e6+a.start-(b.start+(b.vars.refreshPriority||0)*-1e6)})},_getGSAP()&&gsap.registerPlugin(ScrollTrigger),exports.ScrollTrigger=ScrollTrigger,exports.default=ScrollTrigger,Object.defineProperty(exports,"__esModule",{value:!0})}),+function($){"use strict";var Collapse=function(element,options){this.$element=$(element),this.options=$.extend({},Collapse.DEFAULTS,options),this.transitioning=null,this.options.parent&&(this.$parent=$(this.options.parent)),this.options.toggle&&this.toggle()};Collapse.DEFAULTS={toggle:!0},Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"},Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var actives=this.$parent&&this.$parent.find("> .panel > .in");if(actives&&actives.length){var hasData=actives.data("bs.collapse");if(hasData&&hasData.transitioning)return;actives.collapse("hide"),hasData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0),this.transitioning=1;var complete=function(e){if(e&&e.target!=this.$element[0])return;this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])},Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var complete=function(e){if(e&&e.target!=this.$element[0])return;this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one($.support.transition.end,$.proxy(complete,this)).emulateTransitionEnd(350)},Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var old=$.fn.collapse;$.fn.collapse=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.collapse"),options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);!data&&options.toggle&&option=="show"&&(option=!option),data||$this.data("bs.collapse",data=new Collapse(this,options)),typeof option=="string"&&data[option]()})},$.fn.collapse.Constructor=Collapse,$.fn.collapse.noConflict=function(){return $.fn.collapse=old,this},$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this),href,target=$this.attr("data-target")||e.preventDefault()||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""),_target=href.replace(/^#/,"");if($('[data-id="'+_target+'"]').length)var $target=$('[data-id="'+_target+'"]');else var $target=$(target);var data=$target.data("bs.collapse"),option=data?"toggle":$this.data(),parent=$this.attr("data-parent"),$parent=parent&&$(parent);if(!data||!data.transitioning)$parent&&$parent.find('[data-toggle="collapse"][data-parent="'+parent+'"]').not($this).addClass("collapsed"),$this[$target.hasClass("in")?"addClass":"removeClass"]("collapsed");$target.collapse(option)})}(jQuery),+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.prototype.show=function(){var $this=this.element,$ul=$this.closest("ul:not(.dropdown-menu)"),selector=$this.data("target");selector||(selector=$this.attr("href"),selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,""));if($this.parent("li").hasClass("active"))return;var previous=$ul.find(".active:last a")[0],e=$.Event("show.bs.tab",{relatedTarget:previous});$this.trigger(e);if(e.isDefaultPrevented())return;var _target=selector.replace(/^#/,"");if($('[data-id="'+_target+'"]').length)var $target=$('[data-id="'+_target+'"]');else var $target=$(selector);this.activate($this.parent("li"),$ul),this.activate($target,$target.parent(),function(){$this.trigger({type:"shown.bs.tab",relatedTarget:previous})})},Tab.prototype.activate=function(element,container,callback){function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),element.addClass("active"),transition?(element[0].offsetWidth,element.addClass("in")):element.removeClass("fade"),element.parent(".dropdown-menu")&&element.closest("li.dropdown").addClass("active"),callback&&callback()}var $active=container.find("> .active"),transition=callback&&$.support.transition&&$active.hasClass("fade");transition?$active.one($.support.transition.end,next).emulateTransitionEnd(150):next(),$active.removeClass("in")};var old=$.fn.tab;$.fn.tab=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tab");data||$this.data("bs.tab",data=new Tab(this)),typeof option=="string"&&data[option]()})},$.fn.tab.Constructor=Tab,$.fn.tab.noConflict=function(){return $.fn.tab=old,this},$(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),$(this).tab("show")})}(jQuery),+function($){"use strict";var Tooltip=function(element,options){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",element,options)};Tooltip.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},Tooltip.prototype.init=function(type,element,options){this.enabled=!0,this.type=type,this.$element=$(element),this.options=this.getOptions(options),this.$viewport=this.options.viewport&&$(this.options.viewport.selector||this.options.viewport);var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click")this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this));else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin",eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this)),this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS},Tooltip.prototype.getOptions=function(options){return options=$.extend({},this.getDefaults(),this.$element.data(),options),options.delay&&typeof options.delay=="number"&&(options.delay={show:options.delay,hide:options.delay}),options},Tooltip.prototype.getDelegateOptions=function(){var options={},defaults=this.getDefaults();return this._options&&$.each(this._options,function(key,value){defaults[key]!=value&&(options[key]=value)}),options},Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout),self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){self.hoverState=="in"&&self.show()},self.options.delay.show)},Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(self.timeout),self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){self.hoverState=="out"&&self.hide()},self.options.delay.hide)},Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);if(e.isDefaultPrevented())return;var that=this,$tip=this.tip();this.setContent(),this.options.animation&&$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement,autoToken=/\s?auto?\s?/i,autoPlace=autoToken.test(placement);autoPlace&&(placement=placement.replace(autoToken,"")||"top"),$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement),this.options.container?$tip.appendTo($(document).find(this.options.container)):$tip.insertAfter(this.$element);var pos=this.getPosition(),actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement,$parent=this.$element.parent(),parentDim=this.getPosition($parent);placement=placement=="bottom"&&pos.top+pos.height+actualHeight-parentDim.scroll>parentDim.height?"top":placement=="top"&&pos.top-parentDim.scroll-actualHeight<0?"bottom":placement=="right"&&pos.right+actualWidth>parentDim.width?"left":placement=="left"&&pos.left-actualWidth<parentDim.left?"right":placement,$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement),this.hoverState=null;var complete=function(){that.$element.trigger("shown.bs."+that.type)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete()}},Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip(),width=$tip[0].offsetWidth,height=$tip[0].offsetHeight,marginTop=parseInt($tip.css("margin-top"),10),marginLeft=parseInt($tip.css("margin-left"),10);isNaN(marginTop)&&(marginTop=0),isNaN(marginLeft)&&(marginLeft=0),offset.top=offset.top+marginTop,offset.left=offset.left+marginLeft,$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0),$tip.addClass("in");var actualWidth=$tip[0].offsetWidth,actualHeight=$tip[0].offsetHeight;placement=="top"&&actualHeight!=height&&(offset.top=offset.top+height-actualHeight);var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);delta.left?offset.left+=delta.left:offset.top+=delta.top;var arrowDelta=delta.left?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight,arrowPosition=delta.left?"left":"top",arrowOffsetPosition=delta.left?"offsetWidth":"offsetHeight";$tip.offset(offset),this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],arrowPosition)},Tooltip.prototype.replaceArrow=function(delta,dimension,position){this.arrow().css(position,delta?50*(1-delta/dimension)+"%":"")},Tooltip.prototype.setContent=function(){var $tip=this.tip(),title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title),$tip.removeClass("fade in top bottom left right")},Tooltip.prototype.hide=function(){function complete(){that.hoverState!="in"&&$tip.detach(),that.$element.trigger("hidden.bs."+that.type)}var that=this,$tip=this.tip(),e=$.Event("hide.bs."+this.type);this.$element.trigger(e);if(e.isDefaultPrevented())return;return $tip.removeClass("in"),$.support.transition&&this.$tip.hasClass("fade")?$tip.one($.support.transition.end,complete).emulateTransitionEnd(150):complete(),this.hoverState=null,this},Tooltip.prototype.fixTitle=function(){var $e=this.$element;($e.attr("title")||typeof $e.attr("data-original-title")!="string")&&$e.attr("data-original-title",$e.attr("title")||"").attr("title","")},Tooltip.prototype.hasContent=function(){return this.getTitle()},Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0],isBody=el.tagName=="BODY";return $.extend({},typeof el.getBoundingClientRect=="function"?el.getBoundingClientRect():null,{scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop(),width:isBody?$(window).width():$element.outerWidth(),height:isBody?$(window).height():$element.outerHeight()},isBody?{top:0,left:0}:$element.offset())},Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}},Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0,viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll,bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;topEdgeOffset<viewportDimensions.top?delta.top=viewportDimensions.top-topEdgeOffset:bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height&&(delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset)}else{var leftEdgeOffset=pos.left-viewportPadding,rightEdgeOffset=pos.left+viewportPadding+actualWidth;leftEdgeOffset<viewportDimensions.left?delta.left=viewportDimensions.left-leftEdgeOffset:rightEdgeOffset>viewportDimensions.width&&(delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset)}return delta},Tooltip.prototype.getTitle=function(){var title,$e=this.$element,o=this.options;return title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title),title},Tooltip.prototype.tip=function(){return this.$tip=this.$tip||$(this.options.template)},Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},Tooltip.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},Tooltip.prototype.enable=function(){this.enabled=!0},Tooltip.prototype.disable=function(){this.enabled=!1},Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled},Tooltip.prototype.toggle=function(e){var self=e?$(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;self.tip().hasClass("in")?self.leave(self):self.enter(self)},Tooltip.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var old=$.fn.tooltip;$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data("bs.tooltip"),options=typeof option=="object"&&option;if(!data&&option=="destroy")return;data||$this.data("bs.tooltip",data=new Tooltip(this,options)),typeof option=="string"&&data[option]()})},$.fn.tooltip.Constructor=Tooltip,$.fn.tooltip.noConflict=function(){return $.fn.tooltip=old,this}}(jQuery),+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap"),transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames)if(el.style[name]!==undefined)return{end:transEndEventNames[name]};return!1}$.fn.emulateTransitionEnd=function(duration){var called=!1,$el=this;$(this).one($.support.transition.end,function(){called=!0});var callback=function(){called||$($el).trigger($.support.transition.end)};return setTimeout(callback,duration),this},$(function(){$.support.transition=transitionEnd()})}(jQuery),function(root,factory){typeof define=="function"&&define.amd?define([],factory):typeof module=="object"&&module.exports?module.exports=factory():root.Rellax=factory()}(typeof window!="undefined"?window:global,function(){var Rellax=function(el,options){"use strict";function validateCustomBreakpoints(){if(self.options.breakpoints.length===3&&Array.isArray(self.options.breakpoints)){var isAscending=!0,isNumerical=!0,lastVal;self.options.breakpoints.forEach(function(i){typeof i!="number"&&(isNumerical=!1),lastVal!==null&&i<lastVal&&(isAscending=!1),lastVal=i});if(isAscending&&isNumerical)return}self.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}var self=Object.create(Rellax.prototype),posY=0,screenY=0,posX=0,screenX=0,blocks=[],pause=!0,loop=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(callback){return setTimeout(callback,1e3/60)},loopId=null,supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(e){}var clearLoop=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,transformProp=window.transformProp||function(){var testEl=document.createElement("div");if(testEl.style.transform===null){var vendors=["Webkit","Moz","ms"];for(var vendor in vendors)if(testEl.style[vendors[vendor]+"Transform"]!==undefined)return vendors[vendor]+"Transform"}return"transform"}();self.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},options&&Object.keys(options).forEach(function(key){self.options[key]=options[key]}),options&&options.breakpoints&&validateCustomBreakpoints(),el||(el=".rellax");var elements=typeof el=="string"?document.querySelectorAll(el):[el];if(elements.length>0){self.elems=elements;if(self.options.wrapper&&!self.options.wrapper.nodeType){var wrapper=document.querySelector(self.options.wrapper);if(!wrapper){console.warn("Rellax: The wrapper you're trying to use doesn't exist.");return}self.options.wrapper=wrapper}var currentBreakpoint,getCurrentBreakpoint=function(w){var bp=self.options.breakpoints;return w<bp[0]?"xs":w>=bp[0]&&w<bp[1]?"sm":w>=bp[1]&&w<bp[2]?"md":"lg"},cacheBlocks=function(){for(var i=0;i<self.elems.length;i++){var block=createBlock(self.elems[i]);blocks.push(block)}},init=function(){for(var i=0;i<blocks.length;i++)self.elems[i].style.cssText=blocks[i].style;blocks=[],screenY=window.innerHeight,screenX=window.innerWidth,currentBreakpoint=getCurrentBreakpoint(screenX),setPosition(),cacheBlocks(),animate(),pause&&(window.addEventListener("resize",init),pause=!1,update())},createBlock=function(el){var dataPercentage=el.getAttribute("data-rellax-percentage"),dataSpeed=el.getAttribute("data-rellax-speed"),dataXsSpeed=el.getAttribute("data-rellax-xs-speed"),dataMobileSpeed=el.getAttribute("data-rellax-mobile-speed"),dataTabletSpeed=el.getAttribute("data-rellax-tablet-speed"),dataDesktopSpeed=el.getAttribute("data-rellax-desktop-speed"),dataVerticalSpeed=el.getAttribute("data-rellax-vertical-speed"),dataHorizontalSpeed=el.getAttribute("data-rellax-horizontal-speed"),dataVericalScrollAxis=el.getAttribute("data-rellax-vertical-scroll-axis"),dataHorizontalScrollAxis=el.getAttribute("data-rellax-horizontal-scroll-axis"),dataZindex=el.getAttribute("data-rellax-zindex")||0,dataMin=el.getAttribute("data-rellax-min"),dataMax=el.getAttribute("data-rellax-max"),dataMinX=el.getAttribute("data-rellax-min-x"),dataMaxX=el.getAttribute("data-rellax-max-x"),dataMinY=el.getAttribute("data-rellax-min-y"),dataMaxY=el.getAttribute("data-rellax-max-y"),mapBreakpoints,breakpoints=!0;!dataXsSpeed&&!dataMobileSpeed&&!dataTabletSpeed&&!dataDesktopSpeed?breakpoints=!1:mapBreakpoints={xs:dataXsSpeed,sm:dataMobileSpeed,md:dataTabletSpeed,lg:dataDesktopSpeed};var wrapperPosY=self.options.wrapper?self.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(self.options.relativeToWrapper){var scrollPosY=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;wrapperPosY=scrollPosY-self.options.wrapper.offsetTop}var posY=self.options.vertical?dataPercentage||self.options.center?wrapperPosY:0:0,posX=self.options.horizontal?dataPercentage||self.options.center?self.options.wrapper?self.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0:0,blockTop=posY+el.getBoundingClientRect().top,blockHeight=el.clientHeight||el.offsetHeight||el.scrollHeight,blockLeft=posX+el.getBoundingClientRect().left,blockWidth=el.clientWidth||el.offsetWidth||el.scrollWidth,percentageY=dataPercentage?dataPercentage:(posY-blockTop+screenY)/(blockHeight+screenY),percentageX=dataPercentage?dataPercentage:(posX-blockLeft+screenX)/(blockWidth+screenX);self.options.center&&(percentageX=.5,percentageY=.5);var speed=breakpoints&&mapBreakpoints[currentBreakpoint]!==null?Number(mapBreakpoints[currentBreakpoint]):dataSpeed?dataSpeed:self.options.speed,verticalSpeed=dataVerticalSpeed?dataVerticalSpeed:self.options.verticalSpeed,horizontalSpeed=dataHorizontalSpeed?dataHorizontalSpeed:self.options.horizontalSpeed,verticalScrollAxis=dataVericalScrollAxis?dataVericalScrollAxis:self.options.verticalScrollAxis,horizontalScrollAxis=dataHorizontalScrollAxis?dataHorizontalScrollAxis:self.options.horizontalScrollAxis,bases=updatePosition(percentageX,percentageY,speed,verticalSpeed,horizontalSpeed),style=el.style.cssText,transform="",searchResult=/transform\s*:/i.exec(style);if(searchResult){var index=searchResult.index,trimmedStyle=style.slice(index),delimiter=trimmedStyle.indexOf(";");delimiter?transform=" "+trimmedStyle.slice(11,delimiter).replace(/\s/g,""):transform=" "+trimmedStyle.slice(11).replace(/\s/g,"")}return{baseX:bases.x,baseY:bases.y,top:blockTop,left:blockLeft,height:blockHeight,width:blockWidth,speed:speed,verticalSpeed:verticalSpeed,horizontalSpeed:horizontalSpeed,verticalScrollAxis:verticalScrollAxis,horizontalScrollAxis:horizontalScrollAxis,style:style,transform:transform,zindex:dataZindex,min:dataMin,max:dataMax,minX:dataMinX,maxX:dataMaxX,minY:dataMinY,maxY:dataMaxY}},setPosition=function(){var oldY=posY,oldX=posX;posY=self.options.wrapper?self.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,posX=self.options.wrapper?self.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset;if(self.options.relativeToWrapper){var scrollPosY=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;posY=scrollPosY-self.options.wrapper.offsetTop}return oldY!=posY&&self.options.vertical?!0:oldX!=posX&&self.options.horizontal?!0:!1},updatePosition=function(percentageX,percentageY,speed,verticalSpeed,horizontalSpeed){var result={},valueX=(horizontalSpeed?horizontalSpeed:speed)*100*(1-percentageX),valueY=(verticalSpeed?verticalSpeed:speed)*100*(1-percentageY);return result.x=self.options.round?Math.round(valueX):Math.round(valueX*100)/100,result.y=self.options.round?Math.round(valueY):Math.round(valueY*100)/100,result},deferredUpdate=function(){window.removeEventListener("resize",deferredUpdate),window.removeEventListener("orientationchange",deferredUpdate),(self.options.wrapper?self.options.wrapper:window).removeEventListener("scroll",deferredUpdate),(self.options.wrapper?self.options.wrapper:document).removeEventListener("touchmove",deferredUpdate),loopId=loop(update)},update=function(){setPosition()&&pause===!1?(animate(),loopId=loop(update)):(loopId=null,window.addEventListener("resize",deferredUpdate),window.addEventListener("orientationchange",deferredUpdate),(self.options.wrapper?self.options.wrapper:window).addEventListener("scroll",deferredUpdate,supportsPassive?{passive:!0}:!1),(self.options.wrapper?self.options.wrapper:document).addEventListener("touchmove",deferredUpdate,supportsPassive?{passive:!0}:!1))},animate=function(){var positions;for(var i=0;i<self.elems.length;i++){var verticalScrollAxis=blocks[i].verticalScrollAxis.toLowerCase(),horizontalScrollAxis=blocks[i].horizontalScrollAxis.toLowerCase(),verticalScrollX=verticalScrollAxis.indexOf("x")!=-1?posY:0,verticalScrollY=verticalScrollAxis.indexOf("y")!=-1?posY:0,horizontalScrollX=horizontalScrollAxis.indexOf("x")!=-1?posX:0,horizontalScrollY=horizontalScrollAxis.indexOf("y")!=-1?posX:0,percentageY=(verticalScrollY+horizontalScrollY-blocks[i].top+screenY)/(blocks[i].height+screenY),percentageX=(verticalScrollX+horizontalScrollX-blocks[i].left+screenX)/(blocks[i].width+screenX);positions=updatePosition(percentageX,percentageY,blocks[i].speed,blocks[i].verticalSpeed,blocks[i].horizontalSpeed);var positionY=positions.y-blocks[i].baseY,positionX=positions.x-blocks[i].baseX;blocks[i].min!==null&&(self.options.vertical&&!self.options.horizontal&&(positionY=positionY<=blocks[i].min?blocks[i].min:positionY),self.options.horizontal&&!self.options.vertical&&(positionX=positionX<=blocks[i].min?blocks[i].min:positionX)),blocks[i].minY!=null&&(positionY=positionY<=blocks[i].minY?blocks[i].minY:positionY),blocks[i].minX!=null&&(positionX=positionX<=blocks[i].minX?blocks[i].minX:positionX),blocks[i].max!==null&&(self.options.vertical&&!self.options.horizontal&&(positionY=positionY>=blocks[i].max?blocks[i].max:positionY),self.options.horizontal&&!self.options.vertical&&(positionX=positionX>=blocks[i].max?blocks[i].max:positionX)),blocks[i].maxY!=null&&(positionY=positionY>=blocks[i].maxY?blocks[i].maxY:positionY),blocks[i].maxX!=null&&(positionX=positionX>=blocks[i].maxX?blocks[i].maxX:positionX);var zindex=blocks[i].zindex,translate="translate3d("+(self.options.horizontal?positionX:"0")+"px,"+(self.options.vertical?positionY:"0")+"px,"+zindex+"px) "+blocks[i].transform;self.elems[i].style[transformProp]=translate}self.options.callback(positions)};return self.destroy=function(){for(var i=0;i<self.elems.length;i++)self.elems[i].style.cssText=blocks[i].style;pause||(window.removeEventListener("resize",init),pause=!0),clearLoop(loopId),loopId=null},init(),self.refresh=init,self}console.warn("Rellax: The elements you're trying to select don't exist.");return};return Rellax});var player,OKEvents,options,videoWidth,videoHeight,YTplayers,youtubePlayers=new Array;OKEvents={yt:{ready:function(event){var id=event.target.videoId;youtubePlayers[id]=event.target,event.target.setVolume(options.volume);if(options.autoplay===1)if(options.playlist.list)player.loadPlaylist(options.playlist.list,options.playlist.index,options.playlist.startSeconds,options.playlist.suggestedQuality);else{var inCarousel=jQuery("#okplayer-"+id).closest(".owl-item");!inCarousel.length||inCarousel.length&&inCarousel.hasClass("active")?(options.time!=null&&event.target.seekTo(parseInt(options.time)),event.target.playVideo()):event.target.pauseVideo()}OKEvents.utils.isFunction(options.onReady)&&options.onReady(event.target),jQuery("#okplayer-"+id).closest("[data-provider]").on("uncode-resume",function(){options.time!=null?event.target.seekTo(parseInt(options.time)).playVideo():event.target.seekTo(0).playVideo()}),jQuery("#okplayer-"+id).closest("[data-provider]").on("uncode-pause",function(){options.time!=null?event.target.seekTo(parseInt(options.time)).pauseVideo():event.target.seekTo(0).pauseVideo()})},onStateChange:function(event){var id=event.target.videoId;switch(event.data){case-1:OKEvents.utils.isFunction(options.unstarted)&&options.unstarted();break;case 0:OKEvents.utils.isFunction(options.onFinished)&&options.onFinished(),options.loop&&event.target.playVideo();break;case 1:OKEvents.utils.isFunction(options.onPlay)&&options.onPlay(),setTimeout(function(){UNCODE.initVideoComponent(document.body,".uncode-video-container.video:not(.drop-move), .uncode-video-container.self-video:not(.drop-move)"),jQuery("#okplayer-"+id).closest(".uncode-video-container:not(.t-entry-drop)").css("opacity","1"),jQuery("#okplayer-"+id).closest("#page-header").addClass("video-started"),jQuery("#okplayer-"+id).closest(".background-wrapper").find(".block-bg-blend-mode.not-ie").css("opacity","1")},300);break;case 2:OKEvents.utils.isFunction(options.onPause)&&options.onPause();break;case 3:OKEvents.utils.isFunction(options.buffering)&&options.buffering();break;case 5:OKEvents.utils.isFunction(options.cued)&&options.cued();break;default:throw"OKVideo: received invalid data from YT player."}},error:function(event){throw event}},v:{onReady:function(target){OKEvents.utils.isFunction(options.onReady)&&options.onReady(target)},onPlay:function(player){OKEvents.utils.isMobile()||player.api("setVolume",options.volume),OKEvents.utils.isFunction(options.onPlay)&&options.onPlay(),jQuery(player.element).closest(".uncode-video-container:not(.t-entry-drop)").css("opacity","1"),jQuery(player.element).closest("#page-header").addClass("video-started"),jQuery(player.element).closest(".background-wrapper").find(".block-bg-blend-mode.not-ie").css("opacity","1")},onPause:function(){OKEvents.utils.isFunction(options.onPause)&&options.onPause()},onFinish:function(){OKEvents.utils.isFunction(options.onFinish)&&options.onFinish()}},utils:{isFunction:function(func){return typeof func=="function"?!0:!1},isMobile:function(){return navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry)/)?!0:!1}}},"use strict",function(){"use strict";function Pathformer(element){if(typeof element=="undefined")throw new Error('Pathformer [constructor]: "element" parameter is required');if(element.constructor===String){element=document.getElementById(element);if(!element)throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID')}if(!(element instanceof window.SVGElement||element instanceof window.SVGGElement||/^svg$/i.test(element.nodeName)))throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.el=element,this.scan(element)}function Vivus(element,options,callback){setupEnv(),this.isReady=!1,this.setElement(element,options),this.setOptions(options),this.setCallback(callback),this.isReady&&this.init()}Pathformer.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],Pathformer.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],Pathformer.prototype.scan=function(svg){var fn,element,pathData,pathDom,elements=svg.querySelectorAll(this.TYPES.join(","));for(var i=0;i<elements.length;i++)element=elements[i],fn=this[element.tagName.toLowerCase()+"ToPath"],pathData=fn(this.parseAttr(element.attributes)),pathDom=this.pathMaker(element,pathData),element.parentNode.replaceChild(pathDom,element)},Pathformer.prototype.lineToPath=function(element){var newElement={},x1=element.x1||0,y1=element.y1||0,x2=element.x2||0,y2=element.y2||0;return newElement.d="M"+x1+","+y1+"L"+x2+","+y2,newElement},Pathformer.prototype.rectToPath=function(element){var newElement={},x=parseFloat(element.x)||0,y=parseFloat(element.y)||0,width=parseFloat(element.width)||0,height=parseFloat(element.height)||0;if(element.rx||element.ry){var rx=parseInt(element.rx,10)||-1,ry=parseInt(element.ry,10)||-1;rx=Math.min(Math.max(rx<0?ry:rx,0),width/2),ry=Math.min(Math.max(ry<0?rx:ry,0),height/2),newElement.d="M "+(x+rx)+","+y+" "+"L "+(x+width-rx)+","+y+" "+"A "+rx+","+ry+",0,0,1,"+(x+width)+","+(y+ry)+" "+"L "+(x+width)+","+(y+height-ry)+" "+"A "+rx+","+ry+",0,0,1,"+(x+width-rx)+","+(y+height)+" "+"L "+(x+rx)+","+(y+height)+" "+"A "+rx+","+ry+",0,0,1,"+x+","+(y+height-ry)+" "+"L "+x+","+(y+ry)+" "+"A "+rx+","+ry+",0,0,1,"+(x+rx)+","+y}else newElement.d="M"+x+" "+y+" "+"L"+(x+width)+" "+y+" "+"L"+(x+width)+" "+(y+height)+" "+"L"+x+" "+(y+height)+" Z";return newElement},Pathformer.prototype.polylineToPath=function(element){var newElement={},points=element.points.trim().split(" "),i,path;if(element.points.indexOf(",")===-1){var formattedPoints=[];for(i=0;i<points.length;i+=2)formattedPoints.push(points[i]+","+points[i+1]);points=formattedPoints}path="M"+points[0];for(i=1;i<points.length;i++)points[i].indexOf(",")!==-1&&(path+="L"+points[i]);return newElement.d=path,newElement},Pathformer.prototype.polygonToPath=function(element){var newElement=Pathformer.prototype.polylineToPath(element);return newElement.d+="Z",newElement},Pathformer.prototype.ellipseToPath=function(element){var newElement={},rx=parseFloat(element.rx)||0,ry=parseFloat(element.ry)||0,cx=parseFloat(element.cx)||0,cy=parseFloat(element.cy)||0,startX=cx-rx,startY=cy,endX=parseFloat(cx)+parseFloat(rx),endY=cy;return newElement.d="M"+startX+","+startY+"A"+rx+","+ry+" 0,1,1 "+endX+","+endY+"A"+rx+","+ry+" 0,1,1 "+startX+","+endY,newElement},Pathformer.prototype.circleToPath=function(element){var newElement={},r=parseFloat(element.r)||0,cx=parseFloat(element.cx)||0,cy=parseFloat(element.cy)||0,startX=cx-r,startY=cy,endX=parseFloat(cx)+parseFloat(r),endY=cy;return newElement.d="M"+startX+","+startY+"A"+r+","+r+" 0,1,1 "+endX+","+endY+"A"+r+","+r+" 0,1,1 "+startX+","+endY,newElement},Pathformer.prototype.pathMaker=function(element,pathData){var i,attr,pathTag=document.createElementNS("http://www.w3.org/2000/svg","path");for(i=0;i<element.attributes.length;i++)attr=element.attributes[i],this.ATTR_WATCH.indexOf(attr.name)===-1&&pathTag.setAttribute(attr.name,attr.value);for(i in pathData)pathTag.setAttribute(i,pathData[i]);return pathTag},Pathformer.prototype.parseAttr=function(element){var attr,output={};for(var i=0;i<element.length;i++){attr=element[i];if(this.ATTR_WATCH.indexOf(attr.name)!==-1&&attr.value.indexOf("%")!==-1)throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");output[attr.name]=attr.value}return output},"use strict";var setupEnv,requestAnimFrame,cancelAnimFrame,parsePositiveInt;Vivus.LINEAR=function(x){return x},Vivus.EASE=function(x){return-Math.cos(x*Math.PI)/2+.5},Vivus.EASE_OUT=function(x){return 1-Math.pow(1-x,3)},Vivus.EASE_IN=function(x){return Math.pow(x,3)},Vivus.EASE_OUT_BOUNCE=function(x){var base=-Math.cos(x*.5*Math.PI)+1,rate=Math.pow(base,1.5),rateR=Math.pow(1-x,2),progress=-Math.abs(Math.cos(rate*2.5*Math.PI))+1;return 1-rateR+progress*rateR},Vivus.prototype.setElement=function(element,options){var onLoad,self;if(typeof element=="undefined")throw new Error('Vivus [constructor]: "element" parameter is required');if(element.constructor===String){element=document.getElementById(element);if(!element)throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID')}this.parentEl=element;if(options&&options.file){var self=this;onLoad=function(e){var domSandbox=document.createElement("div");domSandbox.innerHTML=this.responseText;var svgTag=domSandbox.querySelector("svg");if(!svgTag)throw new Error("Vivus [load]: Cannot find the SVG in the loaded file : "+options.file);self.el=svgTag,self.el.setAttribute("width","100%"),self.el.setAttribute("height","100%"),self.parentEl.appendChild(self.el),self.isReady=!0,self.init(),self=null};var oReq=new window.XMLHttpRequest;oReq.addEventListener("load",onLoad),oReq.open("GET",options.file),oReq.send();return}switch(element.constructor){case window.SVGSVGElement:case window.SVGElement:case window.SVGGElement:this.el=element,this.isReady=!0;break;case window.HTMLObjectElement:self=this,onLoad=function(e){if(self.isReady)return;self.el=element.contentDocument&&element.contentDocument.querySelector("svg");if(!self.el&&e)throw new Error("Vivus [constructor]: object loaded does not contain any SVG");self.el&&(element.getAttribute("built-by-vivus")&&(self.parentEl.insertBefore(self.el,element),self.parentEl.removeChild(element),self.el.setAttribute("width","100%"),self.el.setAttribute("height","100%")),self.isReady=!0,self.init(),self=null)},onLoad()||element.addEventListener("load",onLoad);break;default:throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)')}},Vivus.prototype.setOptions=function(options){var allowedTypes=["delayed","sync","async","nsync","oneByOne","scenario","scenario-sync"],allowedStarts=["inViewport","manual","autostart"];if(options!==undefined&&options.constructor!==Object)throw new Error('Vivus [constructor]: "options" parameter must be an object');options=options||{};if(options.type&&allowedTypes.indexOf(options.type)===-1)throw new Error("Vivus [constructor]: "+options.type+" is not an existing animation `type`");this.type=options.type||allowedTypes[0];if(options.start&&allowedStarts.indexOf(options.start)===-1)throw new Error("Vivus [constructor]: "+options.start+" is not an existing `start` option");this.start=options.start||allowedStarts[0],this.isIE=window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.userAgent.indexOf("Trident/")!==-1||window.navigator.userAgent.indexOf("Edge/")!==-1,this.duration=parsePositiveInt(options.duration,120),this.delay=parsePositiveInt(options.delay,null),this.delayStart=parsePositiveInt(options.delayStart,null),this.dashGap=parsePositiveInt(options.dashGap,1),this.forceRender=options.hasOwnProperty("forceRender")?!!options.forceRender:this.isIE,this.reverseStack=!!options.reverseStack,this.selfDestroy=!!options.selfDestroy,this.onReady=options.onReady,this.map=[],this.frameLength=this.currentFrame=this.delayUnit=this.speed=this.handle=null,this.ignoreInvisible=options.hasOwnProperty("ignoreInvisible")?!!options.ignoreInvisible:!1,this.animTimingFunction=options.animTimingFunction||Vivus.LINEAR,this.pathTimingFunction=options.pathTimingFunction||Vivus.LINEAR;if(this.delay>=this.duration)throw new Error("Vivus [constructor]: delay must be shorter than duration")},Vivus.prototype.setCallback=function(callback){if(!!callback&&callback.constructor!==Function)throw new Error('Vivus [constructor]: "callback" parameter must be a function');this.callback=callback||function(){}},Vivus.prototype.mapping=function(){var i,paths,path,pAttrs,pathObj,totalLength,lengthMeter,timePoint;timePoint=totalLength=lengthMeter=0,paths=this.el.querySelectorAll("path");for(i=0;i<paths.length;i++){path=paths[i];if(this.isInvisible(path))continue;pathObj={el:path,length:Math.ceil(path.getTotalLength())};if(isNaN(pathObj.length)){window.console&&console.warn&&console.warn("Vivus [mapping]: cannot retrieve a path element length",path);continue}this.map.push(pathObj),path.style.strokeDasharray=pathObj.length+" "+(pathObj.length+this.dashGap*2),path.style.strokeDashoffset=pathObj.length+this.dashGap,pathObj.length+=this.dashGap,totalLength+=pathObj.length,this.renderPath(i)}totalLength=totalLength===0?1:totalLength,this.delay=this.delay===null?this.duration/3:this.delay,this.delayUnit=this.delay/(paths.length>1?paths.length-1:1),this.reverseStack&&this.map.reverse();for(i=0;i<this.map.length;i++){pathObj=this.map[i];switch(this.type){case"delayed":pathObj.startAt=this.delayUnit*i,pathObj.duration=this.duration-this.delay;break;case"oneByOne":pathObj.startAt=lengthMeter/totalLength*this.duration,pathObj.duration=pathObj.length/totalLength*this.duration;break;case"sync":case"async":case"nsync":pathObj.startAt=0,pathObj.duration=this.duration;break;case"scenario-sync":path=pathObj.el,pAttrs=this.parseAttr(path),pathObj.startAt=timePoint+(parsePositiveInt(pAttrs["data-delay"],this.delayUnit)||0),pathObj.duration=parsePositiveInt(pAttrs["data-duration"],this.duration),timePoint=pAttrs["data-async"]!==undefined?pathObj.startAt:pathObj.startAt+pathObj.duration,this.frameLength=Math.max(this.frameLength,pathObj.startAt+pathObj.duration);break;case"scenario":path=pathObj.el,pAttrs=this.parseAttr(path),pathObj.startAt=parsePositiveInt(pAttrs["data-start"],this.delayUnit)||0,pathObj.duration=parsePositiveInt(pAttrs["data-duration"],this.duration),this.frameLength=Math.max(this.frameLength,pathObj.startAt+pathObj.duration)}lengthMeter+=pathObj.length,this.frameLength=this.frameLength||this.duration}},Vivus.prototype.drawer=function(){var self=this;this.currentFrame+=this.speed;if(this.currentFrame<=0)this.stop(),this.reset();else{if(!(this.currentFrame>=this.frameLength)){this.trace(),this.handle=requestAnimFrame(function(){self.drawer()});return}this.stop(),this.currentFrame=this.frameLength,this.trace(),this.selfDestroy&&this.destroy()}this.callback(this),this.instanceCallback&&(this.instanceCallback(this),this.instanceCallback=null)},Vivus.prototype.trace=function(){var i,progress,path,currentFrame;currentFrame=this.animTimingFunction(this.currentFrame/this.frameLength)*this.frameLength;for(i=0;i<this.map.length;i++)path=this.map[i],progress=(currentFrame-path.startAt)/path.duration,progress=this.pathTimingFunction(Math.max(0,Math.min(1,progress))),path.progress!==progress&&(path.progress=progress,path.el.style.strokeDashoffset=Math.floor(path.length*(1-progress)),this.renderPath(i))},Vivus.prototype.renderPath=function(index){if(this.forceRender&&this.map&&this.map[index]){var pathObj=this.map[index],newPath=pathObj.el.cloneNode(!0);pathObj.el.parentNode.replaceChild(newPath,pathObj.el),pathObj.el=newPath}},Vivus.prototype.init=function(){this.frameLength=0,this.currentFrame=0,this.map=[],new Pathformer(this.el),this.mapping(),this.starter(),this.onReady&&this.onReady(this)},Vivus.prototype.starter=function(){switch(this.start){case"manual":return;case"autostart":this.play();break;case"inViewport":var self=this,listener=function(){self.isInViewport(self.parentEl,1)&&(self.play(),window.removeEventListener("scroll",listener),window.removeEventListener("fp-slide-changed",listener),window.removeEventListener("fp-slide-scroll",listener))};window.addEventListener("scroll",listener),window.addEventListener("fp-slide-changed",listener),window.addEventListener("fp-slide-scroll",listener),listener()}},Vivus.prototype.getStatus=function(){return this.currentFrame===0?"start":this.currentFrame===this.frameLength?"end":"progress"},Vivus.prototype.reset=function(){return this.setFrameProgress(0)},Vivus.prototype.finish=function(){return this.setFrameProgress(1)},Vivus.prototype.setFrameProgress=function(progress){return progress=Math.min(1,Math.max(0,progress)),this.currentFrame=Math.round(this.frameLength*progress),this.trace(),this},Vivus.prototype.play=function(speed,callback){this.instanceCallback=null;if(speed&&typeof speed=="function")this.instanceCallback=speed,speed=null;else if(speed&&typeof speed!="number")throw new Error("Vivus [play]: invalid speed");callback&&typeof callback=="function"&&!this.instanceCallback&&(this.instanceCallback=callback),this.speed=speed||1;if(!this.handle){var $this=this,delay=this.delayStart!=null?this.delayStart:0;setTimeout(function(){$this.drawer()},delay)}return this},Vivus.prototype.stop=function(){return this.handle&&(cancelAnimFrame(this.handle),this.handle=null),this},Vivus.prototype.destroy=function(){this.stop();var i,path;for(i=0;i<this.map.length;i++)path=this.map[i],path.el.style.strokeDashoffset=null,path.el.style.strokeDasharray=null,this.renderPath(i)},Vivus.prototype.isInvisible=function(el){var rect,ignoreAttr=el.getAttribute("data-ignore");return ignoreAttr!==null?ignoreAttr!=="false":this.ignoreInvisible?(rect=el.getBoundingClientRect(),!rect.width&&!rect.height):!1},Vivus.prototype.parseAttr=function(element){var attr,output={};if(element&&element.attributes)for(var i=0;i<element.attributes.length;i++)attr=element.attributes[i],output[attr.name]=attr.value;return output},Vivus.prototype.isInViewport=function(el,h){var scrolled=this.scrollY(),viewed=scrolled+this.getViewportH(),elBCR=el.getBoundingClientRect(),elHeight=elBCR.height,elTop=scrolled+elBCR.top,elBottom=elTop+elHeight;return h=h||0,elTop+elHeight*h<=viewed&&elBottom>=scrolled},Vivus.prototype.getViewportH=function(){var client=this.docElem.clientHeight,inner=window.innerHeight;return client<inner?inner:client},Vivus.prototype.scrollY=function(){return window.pageYOffset||this.docElem.scrollTop},setupEnv=function(){if(Vivus.prototype.docElem)return;Vivus.prototype.docElem=window.document.documentElement,requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1e3/60)}}(),cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(id){return window.clearTimeout(id)}}()},parsePositiveInt=function(value,defaultValue){var output=parseInt(value,10);return output>=0?output:defaultValue},typeof define=="function"&&define.amd?define([],function(){return Vivus}):typeof exports=="object"?module.exports=Vivus:window.Vivus=Vivus}()